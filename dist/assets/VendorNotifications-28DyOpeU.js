import{j as e}from"./ui-BHyUY8Z8.js";import{d as v,r as k}from"./router-2SVJvIbS.js";import{aZ as w,an as x,B as c,s as _,v as C,aI as S,w as E,x as T,y as l,f as p,a as u,b as D,c as I,d as q,e as h,a5 as A,a6 as M,a7 as $,a8 as F,E as R,a_ as V}from"./index-Bd1eLXM_.js";import{S as B}from"./scroll-area-BsoQGGOn.js";import{T as U}from"./trash-2-DTVLnEp9.js";import{E as P}from"./ellipsis-vertical-DFQbPQww.js";import{E as z}from"./eye-off-pZLnB8vP.js";import"./vendor-Dazix4UH.js";const Q=()=>{const{notifications:n,markAsRead:o,clearNotifications:g}=w(),t=v(),[s,j]=k.useState("all"),b=a=>({lead_alert:"ðŸ‘¥",inquiry_received:"ðŸ“ž",property_update:"ðŸ ",weekly_report:"ðŸ“Š",business_update:"ðŸ¢",new_message:"ðŸ’¬",broadcast:"ðŸ“¢",announcement:"ðŸ“£",test:"ðŸ§ª"})[a]||"ðŸ””",N=a=>({lead_alert:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",inquiry_received:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200",property_update:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",weekly_report:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200",business_update:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",new_message:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",broadcast:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",announcement:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",test:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",y=a=>{try{return V(new Date(a),{addSuffix:!0})}catch{return"Unknown time"}},f=a=>{if(o(a.timestamp),a.data?.action)switch(a.data.action){case"view_property":a.data.propertyId&&t(`/vendor/properties/${a.data.propertyId}`);break;case"view_leads":t("/vendor/leads");break;case"view_messages":t("/vendor/messages");break;case"view_dashboard":t("/vendor/dashboard");break;case"view_inquiries":t("/vendor/inquiries");break}},r=n.filter(a=>s==="all"?!0:s==="unread"?!a.read:a.type===s),m=n.filter(a=>!a.read).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),e.jsx("p",{className:"text-muted-foreground",children:"Stay updated with your vendor activities"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:m>0&&e.jsxs(c,{variant:"secondary",children:[m," unread"]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(_,{value:s,onValueChange:a=>j(a),children:[e.jsxs(C,{className:"w-48",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),e.jsx(E,{placeholder:"Filter notifications"})]}),e.jsxs(T,{children:[e.jsx(l,{value:"all",children:"All Notifications"}),e.jsx(l,{value:"unread",children:"Unread Only"}),e.jsx(l,{value:"lead_alert",children:"Lead Alerts"}),e.jsx(l,{value:"inquiry_received",children:"Inquiries"}),e.jsx(l,{value:"property_update",children:"Property Updates"})]})]})}),n.length>0&&e.jsxs(p,{variant:"outline",size:"sm",onClick:g,className:"text-destructive",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),e.jsxs(u,{children:[e.jsxs(D,{children:[e.jsxs(I,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Recent Activity"}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[r.length," notification",r.length!==1?"s":""]})]}),r.length>0&&e.jsx(q,{children:"Click on any notification to view details or take action"})]}),e.jsx(h,{className:"p-0",children:r.length===0?e.jsxs("div",{className:"text-center py-12 px-6 text-muted-foreground",children:[e.jsx(x,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-sm",children:s==="all"?"You'll see vendor updates and alerts here when they arrive":`No ${s.replace("_"," ")} notifications at the moment`})]}):e.jsx(B,{className:"h-[600px]",children:e.jsx("div",{className:"space-y-1 p-4",children:r.map((a,i)=>e.jsx(u,{className:`cursor-pointer transition-all duration-200 hover:bg-muted/50 ${a.read?"opacity-70":"bg-background border-l-4 border-l-primary"}`,onClick:()=>f(a),children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"text-xl mt-1",children:b(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:a.title}),e.jsx(c,{variant:"secondary",className:`text-xs px-2 py-0.5 ${N(a.type)}`,children:a.type.replace("_"," ")})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:a.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:y(a.timestamp)}),!a.read&&e.jsx(c,{variant:"default",className:"text-xs",children:"New"})]})]})]}),e.jsxs(A,{children:[e.jsx(M,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",onClick:d=>d.stopPropagation(),children:e.jsx(P,{className:"w-4 h-4"})})}),e.jsx($,{align:"end",children:e.jsx(F,{onClick:d=>{d.stopPropagation(),o(a.timestamp)},children:a.read?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Mark as Unread"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Mark as Read"]})})})]})]})})},`${a.timestamp}-${i}`))})})})]})]})};export{Q as default};
