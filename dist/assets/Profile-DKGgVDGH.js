import{j as e}from"./ui-s1SEoZIF.js";import{r as t}from"./router-D8v2YSKU.js";import{u as a,t as s,o as r,s as n,d as i}from"./types-KiqUWZa9.js";import{aQ as o,aR as l,aS as d,aU as c,aP as u,aZ as f,aV as p,a_ as h,ai as m,aL as v,aK as x,aJ as y,_ as j,u as b,l as g,z as N,x as w,f as _,s as C,ah as D,ay as M,aj as k,a as S,e as P,ak as F,al as O,am as E,L as I,I as L,M as W,P as A,B as T,ab as B,ac as R,ad as Y,ae as z,b as V,c as U,T as H,m as K,n as $,o as G,p as Z,q,r as Q,aF as J,aG as X,aH as ee,aN as te,a8 as ae,g as se,S as re}from"./index-YrVmIx3a.js";import{s as ne,a as ie,d as oe,f as le,b as de,c as ce,g as ue,e as fe,i as pe}from"./format-C8LJbt2l.js";import{P as he}from"./PasswordChangeDialog-DnMb4VTK.js";import{P as me}from"./PincodeAutocomplete-CX-7rD-g.js";import{u as ve}from"./uploadService-C_cH8Ofp.js";import{S as xe}from"./square-pen-PCmihWrK.js";import{C as ye}from"./camera-BGEwbgLA.js";import{C as je}from"./calendar-BA5iLWFv.js";import"./vendor-BxThA0WO.js";import"./alert-DvMw1BgD.js";import"./input-otp-DCg2__gX.js";import"./key-DNLKWt7l.js";import"./eye-off-B-EbfY5m.js";function be(e,t){const a=o(e);return isNaN(t)?l(e,NaN):t?(a.setDate(a.getDate()+t),a):a}function ge(e,t){const a=o(e);if(isNaN(t))return l(e,NaN);if(!t)return a;const s=a.getDate(),r=l(e,a.getTime());r.setMonth(a.getMonth()+t+1,0);return s>=r.getDate()?r:(a.setFullYear(r.getFullYear(),r.getMonth(),s),a)}function Ne(e,t){return be(e,7*t)}function we(e,t){return ge(e,12*t)}function _e(e,t){return+ne(e)===+ne(t)}function Ce(e){const t=o(e);return t.setDate(1),t.setHours(0,0,0,0),t}function De(e,t){const a=u(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=o(e),n=r.getDay(),i=6+(n<s?-7:0)-(n-s);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function Me(e){return De(e,{weekStartsOn:1})}function ke(e,t){return function(e,t,a){const s=ie(e,a),r=ie(t,a),n=+s-d(s),i=+r-d(r);return Math.round((n-i)/c)}(function(e){const t=o(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(0,0,0,0),t}(e),Ce(e),t)+1}function Se(e,t){const a=o(e),s=o(t);return a.getTime()>s.getTime()}function Pe(e,t){return+o(e)<+o(t)}function Fe(e,t){const a=o(e),s=o(t);return a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()}function Oe(e,t){return be(e,-t)}function Ee(e,t){const a=o(e),s=a.getFullYear(),r=a.getDate(),n=l(e,0);n.setFullYear(s,t,15),n.setHours(0,0,0,0);const i=function(e){const t=o(e),a=t.getFullYear(),s=t.getMonth(),r=l(e,0);return r.setFullYear(a,s+1,0),r.setHours(0,0,0,0),r.getDate()}(n);return a.setMonth(t,Math.min(r,i)),a}function Ie(e,t){const a=o(e);return isNaN(+a)?l(e,NaN):(a.setFullYear(t),a)}var Le=function(){return Le=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Le.apply(this,arguments)};function We(e,t,a){for(var s,r=0,n=t.length;r<n;r++)!s&&r in t||(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Ae(e){return"multiple"===e.mode}function Te(e){return"range"===e.mode}function Be(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var Re={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var Ye=Object.freeze({__proto__:null,formatCaption:function(e,t){return le(e,"LLLL y",t)},formatDay:function(e,t){return le(e,"d",t)},formatMonthCaption:function(e,t){return le(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return le(e,"cccccc",t)},formatYearCaption:function(e,t){return le(e,"yyyy",t)}}),ze=Object.freeze({__proto__:null,labelDay:function(e,t,a){return le(e,"do MMMM (EEEE)",a)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return le(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}});var Ve=t.createContext(void 0);function Ue(t){var a,s,r=t.initialProps,n={captionLayout:"buttons",classNames:Re,formatters:Ye,labels:ze,locale:p,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},i=function(e){var t=e.fromYear,a=e.toYear,s=e.fromMonth,r=e.toMonth,n=e.fromDate,i=e.toDate;return s?n=Ce(s):t&&(n=new Date(t,0,1)),r?i=f(r):a&&(i=new Date(a,11,31)),{fromDate:n?ne(n):void 0,toDate:i?ne(i):void 0}}(r),o=i.fromDate,l=i.toDate,d=null!==(a=r.captionLayout)&&void 0!==a?a:n.captionLayout;"buttons"===d||o&&l||(d="buttons"),(Be(r)||Ae(r)||Te(r))&&(s=r.onSelect);var c=Le(Le(Le({},n),r),{captionLayout:d,classNames:Le(Le({},n.classNames),r.classNames),components:Le({},r.components),formatters:Le(Le({},n.formatters),r.formatters),fromDate:o,labels:Le(Le({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Le(Le({},n.modifiers),r.modifiers),modifiersClassNames:Le(Le({},n.modifiersClassNames),r.modifiersClassNames),onSelect:s,styles:Le(Le({},n.styles),r.styles),toDate:l});return e.jsx(Ve.Provider,{value:c,children:t.children})}function He(){var e=t.useContext(Ve);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Ke(t){var a=He(),s=a.locale,r=a.classNames,n=a.styles,i=a.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:s})})}function $e(t){return e.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ge(t){var a,s,r=t.onChange,n=t.value,i=t.children,o=t.caption,l=t.className,d=t.style,c=He(),u=null!==(s=null===(a=c.components)||void 0===a?void 0:a.IconDropdown)&&void 0!==s?s:$e;return e.jsxs("div",{className:l,style:d,children:[e.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:n,onChange:r,children:i}),e.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,e.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Ze(t){var a,s=He(),r=s.fromDate,n=s.toDate,i=s.styles,l=s.locale,d=s.formatters.formatMonthCaption,c=s.classNames,u=s.components,f=s.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var p=[];if(function(e,t){const a=o(e),s=o(t);return a.getFullYear()===s.getFullYear()}(r,n))for(var h=Ce(r),m=r.getMonth();m<=n.getMonth();m++)p.push(Ee(h,m));else for(h=Ce(new Date),m=0;m<=11;m++)p.push(Ee(h,m));var v=null!==(a=null==u?void 0:u.Dropdown)&&void 0!==a?a:Ge;return e.jsx(v,{name:"months","aria-label":f(),className:c.dropdown_month,style:i.dropdown_month,onChange:function(e){var a=Number(e.target.value),s=Ee(Ce(t.displayMonth),a);t.onChange(s)},value:t.displayMonth.getMonth(),caption:d(t.displayMonth,{locale:l}),children:p.map(function(t){return e.jsx("option",{value:t.getMonth(),children:d(t,{locale:l})},t.getMonth())})})}function qe(t){var a,s=t.displayMonth,r=He(),n=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,d=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!n)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var h=n.getFullYear(),m=i.getFullYear(),v=h;v<=m;v++)p.push(Ie(de(new Date),v));var x=null!==(a=null==c?void 0:c.Dropdown)&&void 0!==a?a:Ge;return e.jsx(x,{name:"years","aria-label":f(),className:d.dropdown_year,style:l.dropdown_year,onChange:function(e){var a=Ie(Ce(s),Number(e.target.value));t.onChange(a)},value:s.getFullYear(),caption:u(s,{locale:o}),children:p.map(function(t){return e.jsx("option",{value:t.getFullYear(),children:u(t,{locale:o})},t.getFullYear())})})}function Qe(){var e=He(),a=function(e){var t=e.month,a=e.defaultMonth,s=e.today,r=t||a||s||new Date,n=e.toDate,i=e.fromDate,o=e.numberOfMonths,l=void 0===o?1:o;return n&&h(n,r)<0&&(r=ge(n,-1*(l-1))),i&&h(r,i)<0&&(r=i),Ce(r)}(e),s=function(e,a){var s=t.useState(e),r=s[0];return[void 0===a?r:a,s[1]]}(a,e.month),r=s[0],n=s[1];return[r,function(t){var a;if(!e.disableNavigation){var s=Ce(t);n(s),null===(a=e.onMonthChange)||void 0===a||a.call(e,s)}}]}var Je=t.createContext(void 0);function Xe(t){var a=He(),s=Qe(),r=s[0],n=s[1],i=function(e,t){for(var a=t.reverseMonths,s=t.numberOfMonths,r=Ce(e),n=Ce(ge(r,s)),i=h(n,r),o=[],l=0;l<i;l++){var d=ge(r,l);o.push(d)}return a&&(o=o.reverse()),o}(r,a),o=function(e,t){if(!t.disableNavigation){var a=t.toDate,s=t.pagedNavigation,r=t.numberOfMonths,n=void 0===r?1:r,i=s?n:1,o=Ce(e);if(!a)return ge(o,i);if(!(h(a,e)<n))return ge(o,i)}}(r,a),l=function(e,t){if(!t.disableNavigation){var a=t.fromDate,s=t.pagedNavigation,r=t.numberOfMonths,n=s?void 0===r?1:r:1,i=Ce(e);if(!a)return ge(i,-n);if(!(h(i,a)<=0))return ge(i,-n)}}(r,a),d=function(e){return i.some(function(t){return Fe(e,t)})},c={currentMonth:r,displayMonths:i,goToMonth:n,goToDate:function(e,t){d(e)||(t&&Pe(e,t)?n(ge(e,1+-1*a.numberOfMonths)):n(e))},previousMonth:l,nextMonth:o,isDateDisplayed:d};return e.jsx(Je.Provider,{value:c,children:t.children})}function et(){var e=t.useContext(Je);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function tt(t){var a,s=He(),r=s.classNames,n=s.styles,i=s.components,o=et().goToMonth,l=function(e){o(ge(e,t.displayIndex?-t.displayIndex:0))},d=null!==(a=null==i?void 0:i.CaptionLabel)&&void 0!==a?a:Ke,c=e.jsx(d,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:c}),e.jsx(Ze,{onChange:l,displayMonth:t.displayMonth}),e.jsx(qe,{onChange:l,displayMonth:t.displayMonth})]})}function at(t){return e.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function st(t){return e.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rt=t.forwardRef(function(t,a){var s=He(),r=s.classNames,n=s.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),l=Le(Le({},n.button_reset),n.button);return t.style&&Object.assign(l,t.style),e.jsx("button",Le({},t,{ref:a,type:"button",className:o,style:l}))});function nt(t){var a,s,r=He(),n=r.dir,i=r.locale,o=r.classNames,l=r.styles,d=r.labels,c=d.labelPrevious,u=d.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var p=c(t.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),m=u(t.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),x=null!==(a=null==f?void 0:f.IconRight)&&void 0!==a?a:st,y=null!==(s=null==f?void 0:f.IconLeft)&&void 0!==s?s:at;return e.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(rt,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:"rtl"===n?e.jsx(x,{className:o.nav_icon,style:l.nav_icon}):e.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(rt,{name:"next-month","aria-label":m,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:"rtl"===n?e.jsx(y,{className:o.nav_icon,style:l.nav_icon}):e.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function it(t){var a=He().numberOfMonths,s=et(),r=s.previousMonth,n=s.nextMonth,i=s.goToMonth,o=s.displayMonths,l=o.findIndex(function(e){return Fe(t.displayMonth,e)}),d=0===l,c=l===o.length-1,u=a>1&&(d||!c),f=a>1&&(c||!d);return e.jsx(nt,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:f,nextMonth:n,previousMonth:r,onPreviousClick:function(){r&&i(r)},onNextClick:function(){n&&i(n)}})}function ot(t){var a,s,r=He(),n=r.classNames,i=r.disableNavigation,o=r.styles,l=r.captionLayout,d=r.components,c=null!==(a=null==d?void 0:d.CaptionLabel)&&void 0!==a?a:Ke;return s=i?e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):"dropdown"===l?e.jsx(tt,{displayMonth:t.displayMonth,id:t.id}):"dropdown-buttons"===l?e.jsxs(e.Fragment,{children:[e.jsx(tt,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(it,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(it,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:n.caption,style:o.caption,children:s})}function lt(t){var a=He(),s=a.footer,r=a.styles,n=a.classNames.tfoot;return s?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function dt(){var t=He(),a=t.classNames,s=t.styles,r=t.showWeekNumber,n=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,d=t.labels.labelWeekday,c=function(e,t,a){for(var s=a?ce(new Date):ie(new Date,{locale:e,weekStartsOn:t}),r=[],n=0;n<7;n++){var i=be(s,n);r.push(i)}return r}(n,i,o);return e.jsxs("tr",{style:s.head_row,className:a.head_row,children:[r&&e.jsx("td",{style:s.head_cell,className:a.head_cell}),c.map(function(t,r){return e.jsx("th",{scope:"col",className:a.head_cell,style:s.head_cell,"aria-label":d(t,{locale:n}),children:l(t,{locale:n})},r)})]})}function ct(){var t,a=He(),s=a.classNames,r=a.styles,n=a.components,i=null!==(t=null==n?void 0:n.HeadRow)&&void 0!==t?t:dt;return e.jsx("thead",{style:r.head,className:s.head,children:e.jsx(i,{})})}function ut(t){var a=He(),s=a.locale,r=a.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:s})})}var ft=t.createContext(void 0);function pt(t){if(!Ae(t.initialProps)){return e.jsx(ft.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:t.children})}return e.jsx(ht,{initialProps:t.initialProps,children:t.children})}function ht(t){var a=t.initialProps,s=t.children,r=a.selected,n=a.min,i=a.max,o={disabled:[]};r&&o.disabled.push(function(e){var t=i&&r.length>i-1,a=r.some(function(t){return _e(t,e)});return Boolean(t&&!a)});var l={selected:r,onDayClick:function(e,t,s){var o,l;if((null===(o=a.onDayClick)||void 0===o||o.call(a,e,t,s),!Boolean(t.selected&&n&&(null==r?void 0:r.length)===n))&&!Boolean(!t.selected&&i&&(null==r?void 0:r.length)===i)){var d=r?We([],r):[];if(t.selected){var c=d.findIndex(function(t){return _e(e,t)});d.splice(c,1)}else d.push(e);null===(l=a.onSelect)||void 0===l||l.call(a,d,e,t,s)}},modifiers:o};return e.jsx(ft.Provider,{value:l,children:s})}function mt(){var e=t.useContext(ft);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var vt,xt,yt=t.createContext(void 0);function jt(t){if(!Te(t.initialProps)){return e.jsx(yt.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:t.children})}return e.jsx(bt,{initialProps:t.initialProps,children:t.children})}function bt(t){var a=t.initialProps,s=t.children,r=a.selected,n=r||{},i=n.from,o=n.to,l=a.min,d=a.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(c.range_start=[i],o?(c.range_end=[o],_e(i,o)||(c.range_middle=[{after:i,before:o}])):c.range_end=[i]):o&&(c.range_start=[o],c.range_end=[o]),l&&(i&&!o&&c.disabled.push({after:Oe(i,l-1),before:be(i,l-1)}),i&&o&&c.disabled.push({after:i,before:be(i,l-1)}),!i&&o&&c.disabled.push({after:Oe(o,l-1),before:be(o,l-1)})),d){if(i&&!o&&(c.disabled.push({before:be(i,1-d)}),c.disabled.push({after:be(i,d-1)})),i&&o){var u=d-(oe(o,i)+1);c.disabled.push({before:Oe(i,u)}),c.disabled.push({after:be(o,u)})}!i&&o&&(c.disabled.push({before:be(o,1-d)}),c.disabled.push({after:be(o,d-1)}))}return e.jsx(yt.Provider,{value:{selected:r,onDayClick:function(e,t,s){var n,i;null===(n=a.onDayClick)||void 0===n||n.call(a,e,t,s);var o=function(e,t){var a=t||{},s=a.from,r=a.to;if(s&&r){if(_e(r,e)&&_e(s,e))return;if(_e(r,e))return{from:r,to:void 0};if(_e(s,e))return;return Se(s,e)?{from:e,to:r}:{from:s,to:e}}return r?Se(e,r)?{from:r,to:e}:{from:e,to:r}:s?Pe(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}(e,r);null===(i=a.onSelect)||void 0===i||i.call(a,o,e,t,s)},modifiers:c},children:s})}function gt(){var e=t.useContext(yt);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Nt(e){return Array.isArray(e)?We([],e):void 0!==e?[e]:[]}(xt=vt||(vt={})).Outside="outside",xt.Disabled="disabled",xt.Selected="selected",xt.Hidden="hidden",xt.Today="today",xt.RangeStart="range_start",xt.RangeEnd="range_end",xt.RangeMiddle="range_middle";var wt=vt.Selected,_t=vt.Disabled,Ct=vt.Hidden,Dt=vt.Today,Mt=vt.RangeEnd,kt=vt.RangeMiddle,St=vt.RangeStart,Pt=vt.Outside;var Ft=t.createContext(void 0);function Ot(t){var a=He(),s=function(e,t,a){var s,r=((s={})[wt]=Nt(e.selected),s[_t]=Nt(e.disabled),s[Ct]=Nt(e.hidden),s[Dt]=[e.today],s[Mt]=[],s[kt]=[],s[St]=[],s[Pt]=[],s);return e.fromDate&&r[_t].push({before:e.fromDate}),e.toDate&&r[_t].push({after:e.toDate}),Ae(e)?r[_t]=r[_t].concat(t.modifiers[_t]):Te(e)&&(r[_t]=r[_t].concat(a.modifiers[_t]),r[St]=a.modifiers[St],r[kt]=a.modifiers[kt],r[Mt]=a.modifiers[Mt]),r}(a,mt(),gt()),r=function(e){var t={};return Object.entries(e).forEach(function(e){var a=e[0],s=e[1];t[a]=Nt(s)}),t}(a.modifiers),n=Le(Le({},s),r);return e.jsx(Ft.Provider,{value:n,children:t.children})}function Et(){var e=t.useContext(Ft);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function It(e,t){return t.some(function(t){if("boolean"==typeof t)return t;if(pe(t))return _e(e,t);var a,s,r,n,i;if(function(e){return Array.isArray(e)&&e.every(pe)}(t))return t.includes(e);if(function(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(t))return a=e,n=(s=t).from,i=s.to,n&&i?(oe(i,n)<0&&(n=(r=[i,n])[0],i=r[1]),oe(a,n)>=0&&oe(i,a)>=0):i?_e(i,a):!!n&&_e(n,a);if(function(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(t))return t.dayOfWeek.includes(e.getDay());if(function(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(t)){var o=oe(t.before,e)>0,l=oe(t.after,e)<0;return Se(t.before,t.after)?l&&o:o||l}return function(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(t)?oe(e,t.after)>0:function(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(t)?oe(t.before,e)>0:"function"==typeof t&&t(e)})}function Lt(e,t,a){var s=Object.keys(t).reduce(function(a,s){var r=t[s];return It(e,r)&&a.push(s),a},[]),r={};return s.forEach(function(e){return r[e]=!0}),a&&!Fe(e,a)&&(r.outside=!0),r}function Wt(e,t){var a=t.moveBy,s=t.direction,r=t.context,n=t.modifiers,i=t.retry,l=void 0===i?{count:0,lastFocused:e}:i,d=r.weekStartsOn,c=r.fromDate,u=r.toDate,f=r.locale,p={day:be,week:Ne,month:ge,year:we,startOfWeek:function(e){return r.ISOWeek?ce(e):ie(e,{locale:f,weekStartsOn:d})},endOfWeek:function(e){return r.ISOWeek?Me(e):De(e,{locale:f,weekStartsOn:d})}}[a](e,"after"===s?1:-1);"before"===s&&c?p=function(e){let t;return e.forEach(function(e){const a=o(e);(void 0===t||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}([c,p]):"after"===s&&u&&(p=function(e){let t;return e.forEach(e=>{const a=o(e);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}([u,p]));var h=!0;if(n){var m=Lt(p,n);h=!m.disabled&&!m.hidden}return h?p:l.count>365?l.lastFocused:Wt(p,{moveBy:a,direction:s,context:r,modifiers:n,retry:Le(Le({},l),{count:l.count+1})})}var At=t.createContext(void 0);function Tt(a){var s=et(),r=Et(),n=t.useState(),i=n[0],o=n[1],l=t.useState(),d=l[0],c=l[1],u=function(e,t){for(var a,s,r=Ce(e[0]),n=f(e[e.length-1]),i=r;i<=n;){var o=Lt(i,t);if(o.disabled||o.hidden)i=be(i,1);else{if(o.selected)return i;o.today&&!s&&(s=i),a||(a=i),i=be(i,1)}}return s||a}(s.displayMonths,r),p=(null!=i?i:d&&s.isDateDisplayed(d))?d:u,h=function(e){o(e)},m=He(),v=function(e,t){if(i){var a=Wt(i,{moveBy:e,direction:t,context:m,modifiers:r});_e(i,a)||(s.goToDate(a,i),h(a))}},x={focusedDay:i,focusTarget:p,blur:function(){c(i),o(void 0)},focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return e.jsx(At.Provider,{value:x,children:a.children})}function Bt(){var e=t.useContext(At);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var Rt=t.createContext(void 0);function Yt(t){if(!Be(t.initialProps)){return e.jsx(Rt.Provider,{value:{selected:void 0},children:t.children})}return e.jsx(zt,{initialProps:t.initialProps,children:t.children})}function zt(t){var a=t.initialProps,s=t.children,r={selected:a.selected,onDayClick:function(e,t,s){var r,n,i;null===(r=a.onDayClick)||void 0===r||r.call(a,e,t,s),!t.selected||a.required?null===(i=a.onSelect)||void 0===i||i.call(a,e,e,t,s):null===(n=a.onSelect)||void 0===n||n.call(a,void 0,e,t,s)}};return e.jsx(Rt.Provider,{value:r,children:s})}function Vt(){var e=t.useContext(Rt);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Ut(e,t){var a=[e.classNames.day];return Object.keys(t).forEach(function(t){var s=e.modifiersClassNames[t];if(s)a.push(s);else if(function(e){return Object.values(vt).includes(e)}(t)){var r=e.classNames["day_".concat(t)];r&&a.push(r)}}),a}function Ht(a,s,r){var n,i,o,l=He(),d=Bt(),c=function(e,t){return Lt(e,Et(),t)}(a,s),u=function(e,t){var a=He(),s=Vt(),r=mt(),n=gt(),i=Bt(),o=i.focusDayAfter,l=i.focusDayBefore,d=i.focusWeekAfter,c=i.focusWeekBefore,u=i.blur,f=i.focus,p=i.focusMonthBefore,h=i.focusMonthAfter,m=i.focusYearBefore,v=i.focusYearAfter,x=i.focusStartOfWeek,y=i.focusEndOfWeek;return{onClick:function(i){var o,l,d,c;Be(a)?null===(o=s.onDayClick)||void 0===o||o.call(s,e,t,i):Ae(a)?null===(l=r.onDayClick)||void 0===l||l.call(r,e,t,i):Te(a)?null===(d=n.onDayClick)||void 0===d||d.call(n,e,t,i):null===(c=a.onDayClick)||void 0===c||c.call(a,e,t,i)},onFocus:function(s){var r;f(e),null===(r=a.onDayFocus)||void 0===r||r.call(a,e,t,s)},onBlur:function(s){var r;u(),null===(r=a.onDayBlur)||void 0===r||r.call(a,e,t,s)},onKeyDown:function(s){var r;switch(s.key){case"ArrowLeft":s.preventDefault(),s.stopPropagation(),"rtl"===a.dir?o():l();break;case"ArrowRight":s.preventDefault(),s.stopPropagation(),"rtl"===a.dir?l():o();break;case"ArrowDown":s.preventDefault(),s.stopPropagation(),d();break;case"ArrowUp":s.preventDefault(),s.stopPropagation(),c();break;case"PageUp":s.preventDefault(),s.stopPropagation(),s.shiftKey?m():p();break;case"PageDown":s.preventDefault(),s.stopPropagation(),s.shiftKey?v():h();break;case"Home":s.preventDefault(),s.stopPropagation(),x();break;case"End":s.preventDefault(),s.stopPropagation(),y()}null===(r=a.onDayKeyDown)||void 0===r||r.call(a,e,t,s)},onKeyUp:function(s){var r;null===(r=a.onDayKeyUp)||void 0===r||r.call(a,e,t,s)},onMouseEnter:function(s){var r;null===(r=a.onDayMouseEnter)||void 0===r||r.call(a,e,t,s)},onMouseLeave:function(s){var r;null===(r=a.onDayMouseLeave)||void 0===r||r.call(a,e,t,s)},onPointerEnter:function(s){var r;null===(r=a.onDayPointerEnter)||void 0===r||r.call(a,e,t,s)},onPointerLeave:function(s){var r;null===(r=a.onDayPointerLeave)||void 0===r||r.call(a,e,t,s)},onTouchCancel:function(s){var r;null===(r=a.onDayTouchCancel)||void 0===r||r.call(a,e,t,s)},onTouchEnd:function(s){var r;null===(r=a.onDayTouchEnd)||void 0===r||r.call(a,e,t,s)},onTouchMove:function(s){var r;null===(r=a.onDayTouchMove)||void 0===r||r.call(a,e,t,s)},onTouchStart:function(s){var r;null===(r=a.onDayTouchStart)||void 0===r||r.call(a,e,t,s)}}}(a,c),f=function(){var e=He(),t=Vt(),a=mt(),s=gt();return Be(e)?t.selected:Ae(e)?a.selected:Te(e)?s.selected:void 0}(),p=Boolean(l.onDayClick||"default"!==l.mode);t.useEffect(function(){var e;c.outside||d.focusedDay&&p&&_e(d.focusedDay,a)&&(null===(e=r.current)||void 0===e||e.focus())},[d.focusedDay,a,r,p,c.outside]);var h=Ut(l,c).join(" "),m=function(e,t){var a=Le({},e.styles.day);return Object.keys(t).forEach(function(t){var s;a=Le(Le({},a),null===(s=e.modifiersStyles)||void 0===s?void 0:s[t])}),a}(l,c),v=Boolean(c.outside&&!l.showOutsideDays||c.hidden),x=null!==(o=null===(i=l.components)||void 0===i?void 0:i.DayContent)&&void 0!==o?o:ut,y={style:m,className:h,children:e.jsx(x,{date:a,displayMonth:s,activeModifiers:c}),role:"gridcell"},j=d.focusTarget&&_e(d.focusTarget,a)&&!c.outside,b=d.focusedDay&&_e(d.focusedDay,a),g=Le(Le(Le({},y),((n={disabled:c.disabled,role:"gridcell"})["aria-selected"]=c.selected,n.tabIndex=b||j?0:-1,n)),u);return{isButton:p,isHidden:v,activeModifiers:c,selectedDays:f,buttonProps:g,divProps:y}}function Kt(a){var s=t.useRef(null),r=Ht(a.date,a.displayMonth,s);return r.isHidden?e.jsx("div",{role:"gridcell"}):r.isButton?e.jsx(rt,Le({name:"day",ref:s},r.buttonProps)):e.jsx("div",Le({},r.divProps))}function $t(t){var a=t.number,s=t.dates,r=He(),n=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,d=r.labels.labelWeekNumber,c=(0,r.formatters.formatWeekNumber)(Number(a),{locale:l});if(!n)return e.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:c});var u=d(Number(a),{locale:l});return e.jsx(rt,{name:"week-number","aria-label":u,className:o.weeknumber,style:i.weeknumber,onClick:function(e){n(a,s,e)},children:c})}function Gt(t){var a,s,r,n=He(),i=n.styles,l=n.classNames,d=n.showWeekNumber,c=n.components,u=null!==(a=null==c?void 0:c.Day)&&void 0!==a?a:Kt,f=null!==(s=null==c?void 0:c.WeekNumber)&&void 0!==s?s:$t;return d&&(r=e.jsx("td",{className:l.cell,style:i.cell,children:e.jsx(f,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:l.row,style:i.row,children:[r,t.dates.map(function(a){return e.jsx("td",{className:l.cell,style:i.cell,role:"presentation",children:e.jsx(u,{displayMonth:t.displayMonth,date:a})},function(e){return Math.trunc(+o(e)/1e3)}(a))})]})}function Zt(e,t,a){for(var s=(null==a?void 0:a.ISOWeek)?Me(t):De(t,a),r=(null==a?void 0:a.ISOWeek)?ce(e):ie(e,a),n=oe(s,r),i=[],o=0;o<=n;o++)i.push(be(r,o));return i.reduce(function(e,t){var s=(null==a?void 0:a.ISOWeek)?ue(t):fe(t,a),r=e.find(function(e){return e.weekNumber===s});return r?(r.dates.push(t),e):(e.push({weekNumber:s,dates:[t]}),e)},[])}function qt(t){var a,s,r,n=He(),i=n.locale,o=n.classNames,l=n.styles,d=n.hideHead,c=n.fixedWeeks,u=n.components,p=n.weekStartsOn,h=n.firstWeekContainsDate,m=n.ISOWeek,v=function(e,t){var a=Zt(Ce(e),f(e),t);if(null==t?void 0:t.useFixedWeeks){var s=ke(e,t);if(s<6){var r=a[a.length-1],n=r.dates[r.dates.length-1],i=Ne(n,6-s),o=Zt(Ne(n,1),i,t);a.push.apply(a,o)}}return a}(t.displayMonth,{useFixedWeeks:Boolean(c),ISOWeek:m,locale:i,weekStartsOn:p,firstWeekContainsDate:h}),x=null!==(a=null==u?void 0:u.Head)&&void 0!==a?a:ct,y=null!==(s=null==u?void 0:u.Row)&&void 0!==s?s:Gt,j=null!==(r=null==u?void 0:u.Footer)&&void 0!==r?r:lt;return e.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!d&&e.jsx(x,{}),e.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(a){return e.jsx(y,{displayMonth:t.displayMonth,dates:a.dates,weekNumber:a.weekNumber},a.weekNumber)})}),e.jsx(j,{displayMonth:t.displayMonth})]})}var Qt="undefined"!=typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,Jt=!1,Xt=0;function ea(){return"react-day-picker-".concat(++Xt)}function ta(a){var s,r,n=He(),i=n.dir,o=n.classNames,l=n.styles,d=n.components,c=et().displayMonths,u=function(e){var a,s=null!=e?e:Jt?ea():null,r=t.useState(s),n=r[0],i=r[1];return Qt(function(){null===n&&i(ea())},[]),t.useEffect(function(){!1===Jt&&(Jt=!0)},[]),null!==(a=null!=e?e:n)&&void 0!==a?a:void 0}(n.id?"".concat(n.id,"-").concat(a.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(a.displayIndex):void 0,p=[o.month],h=l.month,m=0===a.displayIndex,v=a.displayIndex===c.length-1,x=!m&&!v;"rtl"===i&&(v=(s=[m,v])[0],m=s[1]),m&&(p.push(o.caption_start),h=Le(Le({},h),l.caption_start)),v&&(p.push(o.caption_end),h=Le(Le({},h),l.caption_end)),x&&(p.push(o.caption_between),h=Le(Le({},h),l.caption_between));var y=null!==(r=null==d?void 0:d.Caption)&&void 0!==r?r:ot;return e.jsxs("div",{className:p.join(" "),style:h,children:[e.jsx(y,{id:u,displayMonth:a.displayMonth,displayIndex:a.displayIndex}),e.jsx(qt,{id:f,"aria-labelledby":u,displayMonth:a.displayMonth})]},a.displayIndex)}function aa(t){var a=He(),s=a.classNames,r=a.styles;return e.jsx("div",{className:s.months,style:r.months,children:t.children})}function sa(a){var s,r,n=a.initialProps,i=He(),o=Bt(),l=et(),d=t.useState(!1),c=d[0],u=d[1];t.useEffect(function(){i.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[i.initialFocus,c,o.focus,o.focusTarget,o]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var p=Le(Le({},i.styles.root),i.style),h=Object.keys(n).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var a;return Le(Le({},e),((a={})[t]=n[t],a))},{}),m=null!==(r=null===(s=n.components)||void 0===s?void 0:s.Months)&&void 0!==r?r:aa;return e.jsx("div",Le({className:f.join(" "),style:p,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:e.jsx(m,{children:l.displayMonths.map(function(t,a){return e.jsx(ta,{displayIndex:a,displayMonth:t},a)})})}))}function ra(t){var a=t.children,s=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a}(t,["children"]);return e.jsx(Ue,{initialProps:s,children:e.jsx(Xe,{children:e.jsx(Yt,{initialProps:s,children:e.jsx(pt,{initialProps:s,children:e.jsx(jt,{initialProps:s,children:e.jsx(Ot,{children:e.jsx(Tt,{children:a})})})})})})})}function na(t){return e.jsx(ra,Le({},t,{children:e.jsx(sa,{initialProps:t})}))}function ia({className:t,classNames:a,showOutsideDays:s=!0,...r}){return e.jsx(na,{showOutsideDays:s,className:m("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:m(y({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:m(y({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({...t})=>e.jsx(x,{className:"h-4 w-4"}),IconRight:({...t})=>e.jsx(v,{className:"h-4 w-4"})},...r})}ia.displayName="Calendar";const oa=r({first_name:n().min(2,"First name must be at least 2 characters"),last_name:n().optional(),email:n().email("Invalid email address"),phone:n().regex(/^[0-9]{10}$/,"Must be exactly 10 digits").min(10,"Must be exactly 10 digits").max(10,"Must be exactly 10 digits"),birthday:i().optional(),anniversary:i().optional(),bio:n().optional(),department:n().optional(),designation:n().optional(),street:n().optional(),state:n().optional(),district:n().optional(),city:n().optional(),zipCode:n().optional().refine(e=>!e||/^[0-9]{6}$/.test(e),"Pincode must be exactly 6 digits")}),la=e=>({...e,profile:{...e.profile,avatar:e.profile?.avatar||"",bio:e.profile?.bio||"",department:e.profile?.department||"",designation:e.profile?.designation||"",birthday:e.profile?.birthday||"",anniversary:e.profile?.anniversary||"",address:{...e.profile?.address,district:e.profile?.address?.district||"",zipCode:e.profile?.address?.zipCode||e.profile?.address?.pincode||""}},preferences:e.profile?.preferences?{notifications:{email:e.profile.preferences.notifications?.email||!0,browser:e.profile.preferences.notifications?.push||!0,mobile:e.profile.preferences.notifications?.push||!0},dashboard:{defaultView:"overview",autoRefresh:!0,refreshInterval:30},security:{sessionTimeout:60}}:{notifications:{email:!0,browser:!0,mobile:!0},dashboard:{defaultView:"overview",autoRefresh:!0,refreshInterval:30},security:{sessionTimeout:60}}}),da=()=>{const{toast:r}=j(),{user:n,checkAuth:i}=b(),[o,l]=t.useState(!0),[d,c]=t.useState(!1),[u,f]=t.useState(!1),[p,h]=t.useState(null),[v,x]=t.useState(null),[y,ne]=t.useState(""),[ie,oe]=t.useState(!1),[de,ce]=t.useState(!1),[ue,fe]=t.useState(!1),[pe,be]=t.useState(!1),[ge,Ne]=t.useState("profile"),[we,_e]=t.useState(!1),Ce=t.useRef(null),[De,Me]=t.useState([]),[ke,Se]=t.useState([]),[Pe,Fe]=t.useState([]),[Oe,Ee]=t.useState({states:!1,districts:!1,cities:!1,pincode:!1}),[Ie,Le]=t.useState({notifications:{email:!0,browser:!0,mobile:!0},dashboard:{defaultView:"overview",autoRefresh:!0,refreshInterval:30},security:{sessionTimeout:60}}),We=a({resolver:s(oa),defaultValues:{first_name:"",last_name:"",email:"",phone:""}});t.useEffect(()=>{Ae(),Te()},[n]),t.useEffect(()=>{(async()=>{Ee(e=>({...e,states:!0}));try{await g.initialize();const e=g.getStates();Me(e)}catch(e){r({title:"Error",description:"Failed to load location data. Please refresh the page.",variant:"destructive"})}finally{Ee(e=>({...e,states:!1}))}})()},[]),t.useEffect(()=>{if(v?.profile?.address?.state){Ee(e=>({...e,districts:!0}));try{const e=g.getDistricts(v.profile.address.state);Se(e)}catch(e){r({title:"Error",description:"Failed to load districts. Please try again.",variant:"destructive"})}finally{Ee(e=>({...e,districts:!1}))}}else Se([])},[v?.profile?.address?.state]),t.useEffect(()=>{if(v?.profile?.address?.state&&v?.profile?.address?.district){Ee(e=>({...e,cities:!0}));try{const e=g.getCities(v.profile.address.state,v.profile.address.district);Fe(e)}catch(e){r({title:"Error",description:"Failed to load cities. Please try again.",variant:"destructive"})}finally{Ee(e=>({...e,cities:!1}))}}else Fe([])},[v?.profile?.address?.state,v?.profile?.address?.district]);const Ae=async()=>{if(n?.id)try{l(!0);const e=await N.getCurrentUser();if(e.success){const t=la(e.data.user);h(t);const a=`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.email}`;ne(t.profile?.avatar||a),x(t),t.preferences&&Le(t.preferences),We.reset({first_name:t.profile?.firstName||"",last_name:t.profile?.lastName||"",email:t.email||"",phone:t.profile?.phone||"",birthday:t.profile?.birthday?new Date(t.profile.birthday):void 0,anniversary:t.profile?.anniversary?new Date(t.profile.anniversary):void 0,bio:t.profile?.bio||"",department:t.profile?.department||"",designation:t.profile?.designation||"",street:t.profile?.address?.street||"",state:t.profile?.address?.state||"",district:t.profile?.address?.district||"",city:t.profile?.address?.city||"",zipCode:t.profile?.address?.zipCode||""})}}catch(e){r({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{l(!1)}},Te=async()=>{try{g.isReady()||await g.initialize()}catch(e){}},Be=(e,t)=>{if(!v)return;const a=e.split("."),s={...v};let r=s;for(let i=0;i<a.length-1;i++)r[a[i]]||(r[a[i]]={}),r=r[a[i]];r[a[a.length-1]]=t,x(s);const n=e.replace("profile.","").replace("address.","");void 0!==We.getValues()[n]&&We.setValue(n,t)},Re=t.useCallback(async(e,t,a)=>{Le(s=>({...s,[e]:{...s[e],[t]:a}}))},[]);return o?e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(w,{className:"h-8 w-8 animate-spin mr-2"}),e.jsx("span",{className:"text-lg",children:"Loading profile..."})]})}):p?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(C,{className:"w-8 h-8 text-primary"}),"Admin Profile"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your profile information and administrative preferences."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(_,{variant:"outline",onClick:async()=>{f(!0),await i(),await Ae(),f(!1),r({title:"Profile Refreshed",description:"Profile data has been refreshed successfully."})},disabled:u,className:"flex items-center gap-2",children:[e.jsx(D,{className:m("h-4 w-4",u&&"animate-spin")}),"Refresh"]}),pe?e.jsxs(e.Fragment,{children:[e.jsxs(_,{variant:"outline",onClick:()=>{x(p),be(!1),p?.preferences&&Le(p.preferences)},disabled:d,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(_,{onClick:async()=>{if(v)try{c(!0);const e=await N.getCurrentUser(),t=e.data?.user?.profile?.preferences||{},a={email:v.email,profile:{firstName:v.profile.firstName,lastName:v.profile.lastName,phone:v.profile.phone,birthday:v.profile.birthday,anniversary:v.profile.anniversary,bio:v.profile.bio,department:v.profile.department,designation:v.profile.designation,address:v.profile.address,avatar:y!==`https://api.dicebear.com/7.x/avataaars/svg?seed=${v.email}`?y:void 0,preferences:{language:t.language||"en",currency:t.currency||"INR",notifications:{email:Ie.notifications.email,sms:t.notifications?.sms||!1,push:Ie.notifications.browser,propertyAlerts:void 0===t.notifications?.propertyAlerts||t.notifications.propertyAlerts,priceDrops:void 0===t.notifications?.priceDrops||t.notifications.priceDrops,newMessages:Ie.notifications.mobile,newsUpdates:t.notifications?.newsUpdates||!1,desktop:void 0===t.notifications?.desktop||t.notifications.desktop,sound:void 0===t.notifications?.sound||t.notifications.sound,typing:void 0===t.notifications?.typing||t.notifications.typing},privacy:{showEmail:t.privacy?.showEmail||!1,showPhone:t.privacy?.showPhone||!1,showActivity:void 0===t.privacy?.showActivity||t.privacy.showActivity,dataCollection:void 0===t.privacy?.dataCollection||t.privacy.dataCollection,marketingConsent:t.privacy?.marketingConsent||!1,thirdPartySharing:t.privacy?.thirdPartySharing||!1,allowMessages:void 0===t.privacy?.allowMessages||t.privacy.allowMessages},security:{twoFactorEnabled:t.security?.twoFactorEnabled||!1,loginAlerts:void 0===t.security?.loginAlerts||t.security.loginAlerts,sessionTimeout:t.security?.sessionTimeout||"30"}}}},s=await N.updateCurrentUser(a);if(s.success){const e=la(s.data.user);h(e),x(e),be(!1),await i(),r({title:"Success",description:"Profile updated successfully!"})}}catch(e){r({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{c(!1)}},disabled:d,children:[d?e.jsx(w,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(k,{className:"w-4 h-4 mr-2"}),"Save Profile"]})]}):e.jsxs(_,{onClick:()=>be(!0),children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})]}),e.jsx(S,{children:e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(F,{className:"h-24 w-24",children:[e.jsx(O,{src:y}),e.jsxs(E,{className:"text-lg",children:[p.profile?.firstName?.charAt(0),p.profile?.lastName?.charAt(0)]})]}),e.jsx("input",{ref:Ce,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const t=e.target.files?.[0];if(!t)return;const a=ve.validateImageFile(t);if(a.valid)try{_e(!0);const e=await ve.compressImage(t),a=await ve.uploadAvatar(e);if(ne(a),v){const e={...v,profile:{...v.profile,avatar:a}};x(e)}r({title:"Success",description:"Profile picture uploaded successfully! Click 'Save Changes' to update."})}catch(s){r({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{_e(!1),Ce.current&&(Ce.current.value="")}else r({title:"Invalid File",description:a.error,variant:"destructive"})},className:"hidden"}),pe&&e.jsx(_,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:()=>Ce.current?.click(),disabled:we,children:we?e.jsx(w,{className:"h-4 w-4 animate-spin"}):e.jsx(ye,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"firstName",children:"First Name"}),pe?e.jsx(L,{id:"firstName",value:v?.profile?.firstName||"",onChange:e=>Be("profile.firstName",e.target.value)}):e.jsx("p",{className:"text-lg font-semibold",children:p.profile?.firstName})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"lastName",children:"Last Name"}),pe?e.jsx(L,{id:"lastName",value:v?.profile?.lastName||"",onChange:e=>Be("profile.lastName",e.target.value)}):e.jsx("p",{className:"text-lg font-semibold",children:p.profile?.lastName})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"w-4 h-4 mr-1"}),pe?e.jsx(L,{type:"email",value:v?.email||"",onChange:e=>x(t=>t?{...t,email:e.target.value}:null),className:"h-6 text-sm w-48",placeholder:"Email address"}):p.email]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),pe?e.jsx(L,{value:v?.profile?.phone||"",onChange:e=>Be("profile.phone",e.target.value),className:"h-6 text-sm w-32"}):p.profile?.phone||"Not provided"]}),e.jsx("div",{className:"flex items-center",children:e.jsx(T,{variant:"secondary",children:p.role?.toUpperCase()})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm",children:e.jsx(T,{variant:"active"===p.status?"default":"destructive",children:p.status?.toUpperCase()})})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",children:["Email ",p.emailVerified?"✓":"✗"]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",children:["Since ",N.formatCreationDate(p.createdAt)]})})]})]})]})})}),e.jsxs(B,{value:ge,onValueChange:Ne,className:"space-y-6",children:[e.jsxs(R,{className:"grid w-full grid-cols-4",children:[e.jsx(Y,{value:"profile",children:"Personal Info"}),e.jsx(Y,{value:"work",children:"Work Details"}),e.jsx(Y,{value:"preferences",children:"Preferences"}),e.jsx(Y,{value:"security",children:"Security"})]}),e.jsx(z,{value:"profile",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(V,{children:e.jsxs(U,{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),"Personal Information"]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"bio",children:"Bio"}),pe?e.jsx(H,{id:"bio",value:v?.profile?.bio||"",onChange:e=>Be("profile.bio",e.target.value),placeholder:"Tell us about yourself and your role...",rows:4}):e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.profile?.bio||"No bio provided"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"street",children:"Street Address"}),pe?e.jsx(L,{id:"street",value:v?.profile?.address?.street||"",onChange:e=>Be("profile.address.street",e.target.value),placeholder:"Enter street address..."}):e.jsx("p",{className:"text-sm",children:p.profile?.address?.street||"Not provided"})]}),pe?e.jsxs("div",{children:[e.jsx(I,{className:"text-sm font-medium",children:"Location Details"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"state",children:"State"}),e.jsxs(K,{value:v?.profile?.address?.state||"",onValueChange:e=>Be("profile.address.state",e),disabled:Oe.states,children:[e.jsx($,{children:e.jsx(G,{placeholder:Oe.states?"Loading states...":"Select state"})}),e.jsx(Z,{children:De.map(t=>e.jsx(q,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"district",children:"District"}),e.jsxs(K,{value:v?.profile?.address?.district||"",onValueChange:e=>Be("profile.address.district",e),disabled:Oe.districts||!v?.profile?.address?.state,children:[e.jsx($,{children:e.jsx(G,{placeholder:Oe.districts?"Loading districts...":v?.profile?.address?.state?"Select district":"Select state first"})}),e.jsx(Z,{children:ke.map(t=>e.jsx(q,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"city",children:"City"}),e.jsxs(K,{value:v?.profile?.address?.city||"",onValueChange:e=>Be("profile.address.city",e),disabled:Oe.cities||!v?.profile?.address?.district,children:[e.jsx($,{children:e.jsx(G,{placeholder:Oe.cities?"Loading cities...":v?.profile?.address?.district?"Select city":"Select district first"})}),e.jsx(Z,{children:Pe.map(t=>e.jsx(q,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"zipCode",children:"PIN Code"}),e.jsx(me,{value:v?.profile?.address?.zipCode||"",onChange:(e,t)=>{Be("profile.address.zipCode",e),t&&(setTimeout(()=>{Be("profile.address.state",t.state)},100),setTimeout(()=>{Be("profile.address.district",t.district)},300),setTimeout(()=>{Be("profile.address.city",t.city)},500),r({title:"Location Auto-filled",description:`${t.city}, ${t.district}, ${t.state}`}))},state:v?.profile?.address?.state,district:v?.profile?.address?.district,city:v?.profile?.address?.city,placeholder:"Select PIN code..."})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(I,{children:"State"}),e.jsx("p",{className:"text-sm",children:p.profile?.address?.state||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(I,{children:"District"}),e.jsx("p",{className:"text-sm",children:p.profile?.address?.district||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(I,{children:"City"}),e.jsx("p",{className:"text-sm",children:p.profile?.address?.city||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(I,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:p.profile?.address?.zipCode||"Not provided"})]})]})]})]})]})}),e.jsx(z,{value:"work",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(V,{children:e.jsxs(U,{className:"flex items-center",children:[e.jsx(Q,{className:"w-5 h-5 mr-2"}),"Work Information"]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"department",children:"Department"}),pe?e.jsx(L,{id:"department",value:v?.profile?.department||"",onChange:e=>Be("profile.department",e.target.value),placeholder:"Enter department..."}):e.jsx("p",{className:"text-sm",children:p.profile?.department||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"designation",children:"Designation"}),pe?e.jsx(L,{id:"designation",value:v?.profile?.designation||"",onChange:e=>Be("profile.designation",e.target.value),placeholder:"Enter designation..."}):e.jsx("p",{className:"text-sm",children:p.profile?.designation||"Not provided"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"birthday",children:"Birthday"}),pe?e.jsxs(J,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(_,{variant:"outline",className:m("w-full justify-start text-left font-normal",!v?.profile?.birthday&&"text-muted-foreground"),children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),v?.profile?.birthday?le(new Date(v.profile.birthday),"dd/MM/yyyy"):e.jsx("span",{children:"dd/mm/yyyy"})]})}),e.jsx(ee,{className:"w-auto p-0",align:"start",children:e.jsx(ia,{mode:"single",selected:v?.profile?.birthday?new Date(v.profile.birthday):void 0,onSelect:e=>Be("profile.birthday",e?.toISOString()),disabled:e=>e>new Date,initialFocus:!0})})]}):e.jsx("p",{className:"text-sm",children:p.profile?.birthday?le(new Date(p.profile.birthday),"dd/MM/yyyy"):"Not provided"})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"anniversary",children:"Anniversary"}),pe?e.jsxs(J,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(_,{variant:"outline",className:m("w-full justify-start text-left font-normal",!v?.profile?.anniversary&&"text-muted-foreground"),children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),v?.profile?.anniversary?le(new Date(v.profile.anniversary),"dd/MM/yyyy"):e.jsx("span",{children:"dd/mm/yyyy"})]})}),e.jsx(ee,{className:"w-auto p-0",align:"start",children:e.jsx(ia,{mode:"single",selected:v?.profile?.anniversary?new Date(v.profile.anniversary):void 0,onSelect:e=>Be("profile.anniversary",e?.toISOString()),disabled:e=>e>new Date,initialFocus:!0})})]}):e.jsx("p",{className:"text-sm",children:p.profile?.anniversary?le(new Date(p.profile.anniversary),"dd/MM/yyyy"):"Not provided"})]})]}),e.jsxs("div",{children:[e.jsx(I,{children:"Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:p.permissions?.map(t=>e.jsx(T,{variant:"outline",children:t},t))||e.jsx("span",{className:"text-sm text-muted-foreground",children:"No specific permissions assigned"})})]})]})]})}),e.jsx(z,{value:"preferences",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(V,{children:e.jsxs(U,{className:"flex items-center",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),"Admin Preferences"]})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-4",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"emailNotifications",children:"Email Notifications"}),e.jsx(ae,{id:"emailNotifications",checked:Ie.notifications.email,onCheckedChange:e=>Re("notifications","email",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"browserNotifications",children:"Browser Notifications"}),e.jsx(ae,{id:"browserNotifications",checked:Ie.notifications.browser,onCheckedChange:e=>Re("notifications","browser",e)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"mobileNotifications",children:"Mobile Notifications"}),e.jsx(ae,{id:"mobileNotifications",checked:Ie.notifications.mobile,onCheckedChange:e=>Re("notifications","mobile",e)})]})]})]}),e.jsx(se,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-4",children:"Dashboard Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(I,{htmlFor:"defaultView",children:"Default View"}),e.jsxs(K,{value:Ie.dashboard.defaultView,onValueChange:e=>Re("dashboard","defaultView",e),children:[e.jsx($,{children:e.jsx(G,{})}),e.jsxs(Z,{children:[e.jsx(q,{value:"overview",children:"Overview"}),e.jsx(q,{value:"analytics",children:"Analytics"}),e.jsx(q,{value:"users",children:"Users"}),e.jsx(q,{value:"properties",children:"Properties"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{htmlFor:"autoRefresh",children:"Auto Refresh Dashboard"}),e.jsx(ae,{id:"autoRefresh",checked:Ie.dashboard.autoRefresh,onCheckedChange:e=>Re("dashboard","autoRefresh",e)})]}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"refreshInterval",children:"Refresh Interval (seconds)"}),e.jsx(L,{id:"refreshInterval",type:"number",min:"10",max:"300",value:Ie.dashboard.refreshInterval,onChange:e=>Re("dashboard","refreshInterval",parseInt(e.target.value))})]})]})]})]})]})}),e.jsx(z,{value:"security",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(V,{children:e.jsxs(U,{className:"flex items-center",children:[e.jsx(re,{className:"w-5 h-5 mr-2"}),"Security Settings"]})}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-4",children:"Authentication"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(I,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),e.jsx(L,{id:"sessionTimeout",type:"number",min:"15",max:"480",value:Ie.security.sessionTimeout,onChange:e=>Re("security","sessionTimeout",parseInt(e.target.value))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically logout after this period of inactivity"})]})})]}),e.jsx(se,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),"Password Security"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Change Password"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use secure OTP verification to change your password"})]}),e.jsxs(_,{variant:"outline",onClick:()=>fe(!0),className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),"Change Password"]})]})})]})]})]})})]}),e.jsx(he,{open:ue,onOpenChange:fe})]}):e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground",children:"Failed to load profile data"}),e.jsx(_,{onClick:Ae,className:"mt-4",children:"Try Again"})]})})};export{da as default};
