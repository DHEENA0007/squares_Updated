import{b as Qe,j as e,c as Je,a as Ze,e as L,P as X,u as z,F as es,Q as ss,U as ts,V as as,W as rs,X as ge,Y as ns,Z as je,_ as Se,$ as be}from"./ui-DYmpZ3pJ.js";import{r as i,d as is}from"./router-2SVJvIbS.js";import{x as we,ap as ye,aq as os,g as O,X as ls,ar as cs,am as ds,an as ms,af as us,t as q,ao as G,a as Z,e as ee,J as hs,I as xs,f as F,b as fs,c as ps,ai as vs,B as I,p as se,q as te,r as ae,s as re,v as p,T as he,G as gs,H as xe,as as js,$ as fe,h as pe,ad as Ss,ae as bs,E as ws,ak as ys,Y as Ns,w as Ps}from"./index-BbgqWuYN.js";import{C as Cs}from"./checkbox-BWX4lU0d.js";import{f as oe}from"./favoriteService-Dn9Q4U6q.js";import{a as Rs}from"./propertyUtils-B_5yebUt.js";import{P as ks,a as Ds}from"./PropertyContactDialog-Dkn7D_lw.js";import{S as _s}from"./square-B9NBZiQ1.js";import{S as Es}from"./share-DIBMeBfH.js";import"./vendor-Dazix4UH.js";import"./dialog-DsX3mE8Q.js";import"./label-DRahLfWI.js";import"./textarea-Cl1lQCIh.js";import"./messageService-C1TBUsqx.js";import"./send-cM2_Cj8i.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=we("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=we("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var Ne=["PageUp","PageDown"],Pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ce={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$="Slider",[le,Bs,Vs]=Ze($),[Re]=Je($,[Vs]),[As,ne]=Re($),ke=i.forwardRef((t,a)=>{const{name:r,min:n=0,max:o=100,step:h=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:x=0,defaultValue:b=[n],value:f,onValueChange:c=()=>{},onValueCommit:g=()=>{},inverted:w=!1,form:C,...y}=t,N=i.useRef(new Set),v=i.useRef(0),j=l==="horizontal"?Ts:Fs,[S=[],M]=Qe({prop:f,defaultProp:b,onChange:P=>{[...N.current][v.current]?.focus(),c(P)}}),B=i.useRef(S);function D(P){const _=zs(S,P);A(P,_)}function V(P){A(P,v.current)}function W(){const P=B.current[v.current];S[v.current]!==P&&g(S)}function A(P,_,{commit:H}={commit:!1}){const U=Ys(h),K=qs(Math.round((P-n)/h)*h+n,U),T=ye(K,[n,o]);M((E=[])=>{const R=Ks(E,T,_);if(Us(R,x*h)){v.current=R.indexOf(T);const Q=String(R)!==String(E);return Q&&H&&g(R),Q?R:E}else return E})}return e.jsx(As,{scope:t.__scopeSlider,name:r,disabled:u,min:n,max:o,valueIndexToChangeRef:v,thumbs:N.current,values:S,orientation:l,form:C,children:e.jsx(le.Provider,{scope:t.__scopeSlider,children:e.jsx(le.Slot,{scope:t.__scopeSlider,children:e.jsx(j,{"aria-disabled":u,"data-disabled":u?"":void 0,...y,ref:a,onPointerDown:L(y.onPointerDown,()=>{u||(B.current=S)}),min:n,max:o,inverted:w,onSlideStart:u?void 0:D,onSlideMove:u?void 0:V,onSlideEnd:u?void 0:W,onHomeKeyDown:()=>!u&&A(n,0,{commit:!0}),onEndKeyDown:()=>!u&&A(o,S.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:_})=>{if(!u){const K=Ne.includes(P.key)||P.shiftKey&&Pe.includes(P.key)?10:1,T=v.current,E=S[T],R=h*K*_;A(E+R,T,{commit:!0})}}})})})})});ke.displayName=$;var[De,_e]=Re($,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ts=i.forwardRef((t,a)=>{const{min:r,max:n,dir:o,inverted:h,onSlideStart:l,onSlideMove:u,onSlideEnd:x,onStepKeyDown:b,...f}=t,[c,g]=i.useState(null),w=z(a,j=>g(j)),C=i.useRef(void 0),y=es(o),N=y==="ltr",v=N&&!h||!N&&h;function k(j){const S=C.current||c.getBoundingClientRect(),M=[0,S.width],D=me(M,v?[r,n]:[n,r]);return C.current=S,D(j-S.left)}return e.jsx(De,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:e.jsx(Ee,{dir:y,"data-orientation":"horizontal",...f,ref:w,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const S=k(j.clientX);l?.(S)},onSlideMove:j=>{const S=k(j.clientX);u?.(S)},onSlideEnd:()=>{C.current=void 0,x?.()},onStepKeyDown:j=>{const M=Ce[v?"from-left":"from-right"].includes(j.key);b?.({event:j,direction:M?-1:1})}})})}),Fs=i.forwardRef((t,a)=>{const{min:r,max:n,inverted:o,onSlideStart:h,onSlideMove:l,onSlideEnd:u,onStepKeyDown:x,...b}=t,f=i.useRef(null),c=z(a,f),g=i.useRef(void 0),w=!o;function C(y){const N=g.current||f.current.getBoundingClientRect(),v=[0,N.height],j=me(v,w?[n,r]:[r,n]);return g.current=N,j(y-N.top)}return e.jsx(De,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:e.jsx(Ee,{"data-orientation":"vertical",...b,ref:c,style:{...b.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const N=C(y.clientY);h?.(N)},onSlideMove:y=>{const N=C(y.clientY);l?.(N)},onSlideEnd:()=>{g.current=void 0,u?.()},onStepKeyDown:y=>{const v=Ce[w?"from-bottom":"from-top"].includes(y.key);x?.({event:y,direction:v?-1:1})}})})}),Ee=i.forwardRef((t,a)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:h,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:x,...b}=t,f=ne($,r);return e.jsx(X.span,{...b,ref:a,onKeyDown:L(t.onKeyDown,c=>{c.key==="Home"?(l(c),c.preventDefault()):c.key==="End"?(u(c),c.preventDefault()):Ne.concat(Pe).includes(c.key)&&(x(c),c.preventDefault())}),onPointerDown:L(t.onPointerDown,c=>{const g=c.target;g.setPointerCapture(c.pointerId),c.preventDefault(),f.thumbs.has(g)?g.focus():n(c)}),onPointerMove:L(t.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&o(c)}),onPointerUp:L(t.onPointerUp,c=>{const g=c.target;g.hasPointerCapture(c.pointerId)&&(g.releasePointerCapture(c.pointerId),h(c))})})}),Me="SliderTrack",Be=i.forwardRef((t,a)=>{const{__scopeSlider:r,...n}=t,o=ne(Me,r);return e.jsx(X.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:a})});Be.displayName=Me;var ce="SliderRange",Ve=i.forwardRef((t,a)=>{const{__scopeSlider:r,...n}=t,o=ne(ce,r),h=_e(ce,r),l=i.useRef(null),u=z(a,l),x=o.values.length,b=o.values.map(g=>Fe(g,o.min,o.max)),f=x>1?Math.min(...b):0,c=100-Math.max(...b);return e.jsx(X.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:u,style:{...t.style,[h.startEdge]:f+"%",[h.endEdge]:c+"%"}})});Ve.displayName=ce;var de="SliderThumb",Ae=i.forwardRef((t,a)=>{const r=Bs(t.__scopeSlider),[n,o]=i.useState(null),h=z(a,u=>o(u)),l=i.useMemo(()=>n?r().findIndex(u=>u.ref.current===n):-1,[r,n]);return e.jsx(Is,{...t,ref:h,index:l})}),Is=i.forwardRef((t,a)=>{const{__scopeSlider:r,index:n,name:o,...h}=t,l=ne(de,r),u=_e(de,r),[x,b]=i.useState(null),f=z(a,k=>b(k)),c=x?l.form||!!x.closest("form"):!0,g=ss(x),w=l.values[n],C=w===void 0?0:Fe(w,l.min,l.max),y=Ls(n,l.values.length),N=g?.[u.size],v=N?Os(N,C,u.direction):0;return i.useEffect(()=>{if(x)return l.thumbs.add(x),()=>{l.thumbs.delete(x)}},[x,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${C}% + ${v}px)`},children:[e.jsx(le.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(X.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":l.min,"aria-valuenow":w,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...h,ref:f,style:w===void 0?{display:"none"}:t.style,onFocus:L(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),c&&e.jsx(Te,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:w},n)]})});Ae.displayName=de;var Hs="RadioBubbleInput",Te=i.forwardRef(({__scopeSlider:t,value:a,...r},n)=>{const o=i.useRef(null),h=z(o,n),l=os(a);return i.useEffect(()=>{const u=o.current;if(!u)return;const x=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(x,"value").set;if(l!==a&&f){const c=new Event("input",{bubbles:!0});f.call(u,a),u.dispatchEvent(c)}},[l,a]),e.jsx(X.input,{style:{display:"none"},...r,ref:h,defaultValue:a})});Te.displayName=Hs;function Ks(t=[],a,r){const n=[...t];return n[r]=a,n.sort((o,h)=>o-h)}function Fe(t,a,r){const h=100/(r-a)*(t-a);return ye(h,[0,100])}function Ls(t,a){return a>2?`Value ${t+1} of ${a}`:a===2?["Minimum","Maximum"][t]:void 0}function zs(t,a){if(t.length===1)return 0;const r=t.map(o=>Math.abs(o-a)),n=Math.min(...r);return r.indexOf(n)}function Os(t,a,r){const n=t/2,h=me([0,50],[0,n]);return(n-h(a)*r)*r}function $s(t){return t.slice(0,-1).map((a,r)=>t[r+1]-a)}function Us(t,a){if(a>0){const r=$s(t);return Math.min(...r)>=a}return!0}function me(t,a){return r=>{if(t[0]===t[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(t[1]-t[0]);return a[0]+n*(r-t[0])}}function Ys(t){return(String(t).split(".")[1]||"").length}function qs(t,a){const r=Math.pow(10,a);return Math.round(t*r)/r}var Ie=ke,Gs=Be,Xs=Ve,Ws=Ae;const He=i.forwardRef(({className:t,...a},r)=>e.jsxs(Ie,{ref:r,className:O("relative flex w-full touch-none select-none items-center",t),...a,children:[e.jsx(Gs,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Xs,{className:"absolute h-full bg-primary"})}),e.jsx(Ws,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));He.displayName=Ie.displayName;const Qs=ts,Js=as,Zs=rs,Ke=i.forwardRef(({className:t,...a},r)=>e.jsx(be,{className:O("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:r}));Ke.displayName=be.displayName;const et=cs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Le=i.forwardRef(({side:t="right",className:a,children:r,...n},o)=>e.jsxs(Zs,{children:[e.jsx(Ke,{}),e.jsxs(ge,{ref:o,className:O(et({side:t}),a),...n,children:[r,e.jsxs(ns,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Le.displayName=ge.displayName;const ze=({className:t,...a})=>e.jsx("div",{className:O("flex flex-col space-y-2 text-center sm:text-left",t),...a});ze.displayName="SheetHeader";const Oe=i.forwardRef(({className:t,...a},r)=>e.jsx(je,{ref:r,className:O("text-lg font-semibold text-foreground",t),...a}));Oe.displayName=je.displayName;const $e=i.forwardRef(({className:t,...a},r)=>e.jsx(Se,{ref:r,className:O("text-sm text-muted-foreground",t),...a}));$e.displayName=Se.displayName;const pt=()=>{const{isConnected:t}=ds(),a=is(),[r,n]=i.useState(""),[o,h]=i.useState("all"),[l,u]=i.useState([0,1e7]),[x,b]=i.useState("all"),[f,c]=i.useState("any"),[g,w]=i.useState("list"),[C,y]=i.useState("relevance"),[N,v]=i.useState([]),[k,j]=i.useState([]),[S,M]=i.useState(!0),[B,D]=i.useState(new Set),[V,W]=i.useState(null),[A,P]=i.useState(!1),[_,H]=i.useState(!1),[U,K]=i.useState([]),T=["Swimming Pool","Gym/Fitness Center","Parking","Security","Garden/Park","Elevator","Power Backup","WiFi","Club House","Children's Play Area"];ms({refreshProperties:()=>{console.log("Properties updated via realtime, refreshing..."),R()}});const E=i.useCallback(()=>{const s=f!=="any"&&f?parseInt(f):void 0;return{minPrice:l[0],maxPrice:l[1],propertyType:x!=="all"?x:void 0,bedrooms:s&&!isNaN(s)?s:void 0,location:o!=="all"?o:void 0,search:r||void 0}},[l,x,f,o,r]),R=i.useCallback(async()=>{try{M(!0);const s=E(),m=await us.getProperties(s);if(m.success){v(m.data.properties),j(m.data.properties);const d=await Promise.all(m.data.properties.map(ie=>oe.isFavorite(ie._id))),Y=new Set;m.data.properties.forEach((ie,We)=>{d[We]&&Y.add(ie._id)}),D(Y)}else q({title:"Error",description:"Failed to load properties",variant:"destructive"})}catch(s){console.error("Error loading properties:",s),q({title:"Error",description:"Failed to load properties. Please try again.",variant:"destructive"})}finally{M(!1)}},[E]);G("property_updated",s=>{v(m=>m.map(d=>d._id===s.propertyId?{...d,...s.updates}:d)),j(m=>m.map(d=>d._id===s.propertyId?{...d,...s.updates}:d))}),G("property_favorited",s=>{v(m=>m.map(d=>d._id===s.propertyId?{...d,favoriteCount:(d.favoriteCount||0)+1}:d)),j(m=>m.map(d=>d._id===s.propertyId?{...d,favoriteCount:(d.favoriteCount||0)+1}:d))}),G("property_viewed",s=>{v(m=>m.map(d=>d._id===s.propertyId?{...d,views:(d.views||0)+1}:d)),j(m=>m.map(d=>d._id===s.propertyId?{...d,views:(d.views||0)+1}:d))}),G("favorite_added",s=>{s.propertyId&&D(m=>new Set(m).add(s.propertyId))}),G("favorite_removed",s=>{s.propertyId&&D(m=>{const d=new Set(m);return d.delete(s.propertyId),d})}),i.useEffect(()=>{R()},[R]);const Q=i.useMemo(()=>k.filter(s=>{const m=`${s.address?.city||""} ${s.address?.state||""}`;return s.title?.toLowerCase().includes(r.toLowerCase())||m.toLowerCase().includes(r.toLowerCase())}),[r,k]),Ue=async s=>{a(`/customer/property/${s}`)},Ye=async s=>{try{B.has(s)?(await oe.removeFromFavorites(s),D(d=>{const Y=new Set(d);return Y.delete(s),Y}),q({title:"Removed from favorites",description:"Property has been removed from your favorites"})):(await oe.addToFavorites(s),D(d=>new Set(d).add(s)),q({title:"Added to favorites",description:"Property has been added to your favorites"}))}catch(m){console.error("Error toggling favorite:",m),q({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},qe=s=>{W(s),H(!0)},Ge=s=>{W(s),P(!0)},J=s=>s>=1e7?`₹${(s/1e7).toFixed(1)} Cr`:s>=1e5?`₹${(s/1e5).toFixed(0)} Lac`:`₹${s}`,Xe=s=>{K(m=>m.includes(s)?m.filter(d=>d!==s):[...m,s])},ue=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"City"}),e.jsxs(se,{value:o,onValueChange:h,children:[e.jsx(te,{children:e.jsx(ae,{placeholder:"Select city"})}),e.jsxs(re,{children:[e.jsx(p,{value:"all",children:"All Cities"}),e.jsx(p,{value:"Mumbai",children:"Mumbai"}),e.jsx(p,{value:"Bangalore",children:"Bangalore"}),e.jsx(p,{value:"Delhi",children:"Delhi"}),e.jsx(p,{value:"Pune",children:"Pune"}),e.jsx(p,{value:"Chennai",children:"Chennai"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Price Range: ",J(l[0])," - ",J(l[1])]}),e.jsx(He,{value:l,onValueChange:u,max:5e7,min:0,step:1e5,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Property Type"}),e.jsxs(se,{value:x,onValueChange:b,children:[e.jsx(te,{children:e.jsx(ae,{placeholder:"Select type"})}),e.jsxs(re,{children:[e.jsx(p,{value:"all",children:"All Types"}),e.jsx(p,{value:"apartment",children:"Apartment"}),e.jsx(p,{value:"villa",children:"Villa"}),e.jsx(p,{value:"house",children:"House"}),e.jsx(p,{value:"plot",children:"Plot"}),e.jsx(p,{value:"land",children:"Land"}),e.jsx(p,{value:"commercial",children:"Commercial"}),e.jsx(p,{value:"office",children:"Office Space"}),e.jsx(p,{value:"pg",children:"PG (Paying Guest)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Bedrooms"}),e.jsxs(se,{value:f,onValueChange:c,children:[e.jsx(te,{children:e.jsx(ae,{placeholder:"Select bedrooms"})}),e.jsxs(re,{children:[e.jsx(p,{value:"any",children:"Any"}),e.jsx(p,{value:"1",children:"1 BHK"}),e.jsx(p,{value:"2",children:"2 BHK"}),e.jsx(p,{value:"3",children:"3 BHK"}),e.jsx(p,{value:"4",children:"4+ BHK"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Cs,{id:s,checked:U.includes(s),onCheckedChange:()=>Xe(s)}),e.jsx("label",{htmlFor:s,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:s})]},s))})]}),e.jsx(F,{variant:"outline",className:"w-full",onClick:()=>{n(""),h("all"),u([0,1e7]),b("all"),c("any"),K([])},children:"Clear All Filters"})]});return e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Search Properties"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Find your perfect home from thousands of listings"})]})}),e.jsx(Z,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(xs,{type:"text",placeholder:"Search by location, property name, or keywords...",className:"pl-10",value:r,onChange:s=>n(s.target.value)})]}),e.jsxs(Qs,{children:[e.jsx(Js,{asChild:!0,children:e.jsx(F,{variant:"outline",className:"sm:hidden",children:e.jsx(Ms,{className:"w-4 h-4"})})}),e.jsxs(Le,{children:[e.jsxs(ze,{children:[e.jsx(Oe,{children:"Filter Properties"}),e.jsx($e,{children:"Refine your search with these filters"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(ue,{})})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs(Z,{children:[e.jsx(fs,{children:e.jsxs(ps,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"}),"Filters"]})}),e.jsx(ee,{children:e.jsx(ue,{})})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t?"Real-time property updates active":"Offline mode"})]}),S&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading properties..."]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.length," properties found"]}),(U.length>0||o&&o!=="all"||x&&x!=="all"||f&&f!=="any")&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[o&&o!=="all"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[o,e.jsx("button",{className:"ml-1",onClick:()=>h("all"),children:"×"})]}),x&&x!=="all"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[x,e.jsx("button",{className:"ml-1",onClick:()=>b("all"),children:"×"})]}),f&&f!=="any"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[f," BHK",e.jsx("button",{className:"ml-1",onClick:()=>c("any"),children:"×"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(se,{value:C,onValueChange:y,children:[e.jsx(te,{className:"w-36",children:e.jsx(ae,{})}),e.jsxs(re,{children:[e.jsx(p,{value:"relevance",children:"Relevance"}),e.jsx(p,{value:"price-low",children:"Price: Low to High"}),e.jsx(p,{value:"price-high",children:"Price: High to Low"}),e.jsx(p,{value:"newest",children:"Newest First"}),e.jsx(p,{value:"area",children:"Area: Large to Small"})]})]}),e.jsx(he,{value:g,onValueChange:s=>w(s),children:e.jsxs(gs,{children:[e.jsx(xe,{value:"list",children:e.jsx(js,{className:"w-4 h-4"})}),e.jsx(xe,{value:"map",children:e.jsx(ve,{className:"w-4 h-4"})})]})})]})]}),e.jsxs(he,{value:g,onValueChange:s=>w(s),children:[e.jsx(fe,{value:"list",className:"space-y-4",children:Q.map(s=>e.jsx(Z,{className:"hover:shadow-lg transition-shadow",children:e.jsx(ee,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-80 h-64 md:h-48 bg-muted flex items-center justify-center relative overflow-hidden",children:[s.images&&s.images.length>0?e.jsx("img",{src:s.images.find(m=>m.isPrimary)?.url||s.images[0]?.url,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6 text-primary"})}),s.featured&&e.jsx(I,{className:"absolute top-2 left-2",children:"Featured"}),s.verified&&e.jsx(I,{variant:"secondary",className:"absolute top-2 right-2",children:"Verified"})]}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-2",children:[e.jsx(pe,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"text-sm",children:[s.address?.city,", ",s.address?.state]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.bedrooms," BHK"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(bs,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.bathrooms," Bath"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.area?.builtUp||s.area?.carpet||s.area?.plot||0," ",s.area?.unit||"sqft"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:J(s.price)}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.area?.builtUp&&J(Math.round(s.price/s.area.builtUp))," per ",s.area?.unit||"sqft"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[s.amenities.slice(0,3).map(m=>e.jsx(I,{variant:"outline",className:"text-xs",children:m},m)),s.amenities.length>3&&e.jsxs(I,{variant:"outline",className:"text-xs",children:["+",s.amenities.length-3," more"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mb-4",children:Rs(s)}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ws,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.views||0," views"]})]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"Recently listed"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{size:"sm",variant:B.has(s._id)?"default":"outline",onClick:()=>Ye(s._id),children:e.jsx(ys,{className:`w-4 h-4 ${B.has(s._id)?"fill-current":""}`})}),e.jsx(F,{size:"sm",variant:"outline",children:e.jsx(Es,{className:"w-4 h-4"})}),e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>Ge(s),children:[e.jsx(Ns,{className:"w-4 h-4 mr-1"}),"Message"]}),e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>qe(s),children:[e.jsx(Ps,{className:"w-4 h-4 mr-1"}),"Contact"]}),e.jsx(F,{size:"sm",onClick:()=>Ue(s._id),children:"View Details"})]})]})]})]})})},s._id))}),e.jsx(fe,{value:"map",children:e.jsx(Z,{children:e.jsx(ee,{className:"p-0",children:e.jsx("div",{className:"h-96 bg-muted flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ve,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Map view coming soon"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Interactive map with property markers will be displayed here"})]})})})})})]})]})]}),V&&e.jsx(ks,{open:A,onOpenChange:P,property:V,onMessageSent:()=>{console.log("Message sent for property:",V._id)}}),V&&e.jsx(Ds,{open:_,onOpenChange:H,property:V})]})};export{pt as default};
