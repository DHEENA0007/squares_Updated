import{b as e,j as n,c as t,a as o,e as r,P as i,u as a,o as s,q as d}from"./ui-s1SEoZIF.js";import{r as l}from"./router-D8v2YSKU.js";import{br as u,aR as c,ao as f}from"./index-DvBXyKtT.js";var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[w,g,S]=o(h),[b]=t(h,[S]),[x,y]=b(h),D=l.forwardRef((t,o)=>{const{name:i,min:a=0,max:s=100,step:d=1,orientation:c="horizontal",disabled:f=!1,minStepsBetweenThumbs:v=0,defaultValue:h=[a],value:g,onValueChange:S=()=>{},onValueCommit:b=()=>{},inverted:y=!1,form:D,...R}=t,j=l.useRef(new Set),P=l.useRef(0),M="horizontal"===c?_:E,[K=[],A]=e({prop:g,defaultProp:h,onChange:e=>{const n=[...j.current];n[P.current]?.focus(),S(e)}}),N=l.useRef(K);function k(e,n,{commit:t}={commit:!1}){const o=function(e){return(String(e).split(".")[1]||"").length}(d),r=function(e,n){const t=Math.pow(10,n);return Math.round(e*t)/t}(Math.round((e-a)/d)*d+a,o),i=u(r,[a,s]);A((e=[])=>{const o=function(e=[],n,t){const o=[...e];return o[t]=n,o.sort((e,n)=>e-n)}(e,i,n);if(function(e,n){if(n>0){const t=function(e){return e.slice(0,-1).map((n,t)=>e[t+1]-n)}(e);return Math.min(...t)>=n}return!0}(o,v*d)){P.current=o.indexOf(i);const n=String(o)!==String(e);return n&&t&&b(o),n?o:e}return e})}return n.jsx(x,{scope:t.__scopeSlider,name:i,disabled:f,min:a,max:s,valueIndexToChangeRef:P,thumbs:j.current,values:K,orientation:c,form:D,children:n.jsx(w.Provider,{scope:t.__scopeSlider,children:n.jsx(w.Slot,{scope:t.__scopeSlider,children:n.jsx(M,{"aria-disabled":f,"data-disabled":f?"":void 0,...R,ref:o,onPointerDown:r(R.onPointerDown,()=>{f||(N.current=K)}),min:a,max:s,inverted:y,onSlideStart:f?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const t=e.map(e=>Math.abs(e-n)),o=Math.min(...t);return t.indexOf(o)}(K,e);k(e,n)},onSlideMove:f?void 0:function(e){k(e,P.current)},onSlideEnd:f?void 0:function(){const e=N.current[P.current];K[P.current]!==e&&b(K)},onHomeKeyDown:()=>!f&&k(a,0,{commit:!0}),onEndKeyDown:()=>!f&&k(s,K.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!f){const t=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,o=P.current;k(K[o]+d*t*n,o,{commit:!0})}}})})})})});D.displayName=h;var[R,j]=b(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_=l.forwardRef((e,t)=>{const{min:o,max:r,dir:i,inverted:d,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=e,[h,w]=l.useState(null),g=a(t,e=>w(e)),S=l.useRef(void 0),b=s(i),x="ltr"===b,y=x&&!d||!x&&d;function D(e){const n=S.current||h.getBoundingClientRect(),t=T([0,n.width],y?[o,r]:[r,o]);return S.current=n,t(e-n.left)}return n.jsx(R,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(P,{dir:b,"data-orientation":"horizontal",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=D(e.clientX);u?.(n)},onSlideMove:e=>{const n=D(e.clientX);c?.(n)},onSlideEnd:()=>{S.current=void 0,f?.()},onStepKeyDown:e=>{const n=v[y?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:n?-1:1})}})})}),E=l.forwardRef((e,t)=>{const{min:o,max:r,inverted:i,onSlideStart:s,onSlideMove:d,onSlideEnd:u,onStepKeyDown:c,...f}=e,m=l.useRef(null),p=a(t,m),h=l.useRef(void 0),w=!i;function g(e){const n=h.current||m.current.getBoundingClientRect(),t=T([0,n.height],w?[r,o]:[o,r]);return h.current=n,t(e-n.top)}return n.jsx(R,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:n.jsx(P,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=g(e.clientY);s?.(n)},onSlideMove:e=>{const n=g(e.clientY);d?.(n)},onSlideEnd:()=>{h.current=void 0,u?.()},onStepKeyDown:e=>{const n=v[w?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:n?-1:1})}})})}),P=l.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:a,onSlideMove:s,onSlideEnd:d,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:c,...f}=e,v=y(h,o);return n.jsx(i.span,{...f,ref:t,onKeyDown:r(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(p).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:r(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(n)?n.focus():a(e)}),onPointerMove:r(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:r(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),d(e))})})}),M="SliderTrack",K=l.forwardRef((e,t)=>{const{__scopeSlider:o,...r}=e,a=y(M,o);return n.jsx(i.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});K.displayName=M;var A="SliderRange",N=l.forwardRef((e,t)=>{const{__scopeSlider:o,...r}=e,s=y(A,o),d=j(A,o),u=l.useRef(null),c=a(t,u),f=s.values.length,m=s.values.map(e=>z(e,s.min,s.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return n.jsx(i.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:c,style:{...e.style,[d.startEdge]:p+"%",[d.endEdge]:v+"%"}})});N.displayName=A;var k="SliderThumb",C=l.forwardRef((e,t)=>{const o=g(e.__scopeSlider),[r,i]=l.useState(null),s=a(t,e=>i(e)),d=l.useMemo(()=>r?o().findIndex(e=>e.ref.current===r):-1,[o,r]);return n.jsx(I,{...e,ref:s,index:d})}),I=l.forwardRef((e,t)=>{const{__scopeSlider:o,index:s,name:u,...c}=e,f=y(k,o),m=j(k,o),[p,v]=l.useState(null),h=a(t,e=>v(e)),g=!p||(f.form||!!p.closest("form")),S=d(p),b=f.values[s],x=void 0===b?0:z(b,f.min,f.max),D=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(s,f.values.length),R=S?.[m.size],_=R?function(e,n,t){const o=e/2,r=T([0,50],[0,o]);return(o-r(n)*t)*t}(R,x,m.direction):0;return l.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${_}px)`},children:[n.jsx(w.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(i.span,{role:"slider","aria-label":e["aria-label"]||D,"aria-valuemin":f.min,"aria-valuenow":b,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:h,style:void 0===b?{display:"none"}:e.style,onFocus:r(e.onFocus,()=>{f.valueIndexToChangeRef.current=s})})}),g&&n.jsx(H,{name:u??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:b},s)]})});C.displayName=k;var H=l.forwardRef(({__scopeSlider:e,value:t,...o},r)=>{const s=l.useRef(null),d=a(s,r),u=c(t);return l.useEffect(()=>{const e=s.current;if(!e)return;const n=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(n,"value").set;if(u!==t&&o){const n=new Event("input",{bubbles:!0});o.call(e,t),e.dispatchEvent(n)}},[u,t]),n.jsx(i.input,{style:{display:"none"},...o,ref:d,defaultValue:t})});function z(e,n,t){return u(100/(t-n)*(e-n),[0,100])}function T(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(t-e[0])}}H.displayName="RadioBubbleInput";var L=D,U=K,V=N,B=C;const O=l.forwardRef(({className:e,...t},o)=>n.jsxs(L,{ref:o,className:f("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(U,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(V,{className:"absolute h-full bg-primary rounded-full"})}),n.jsx(B,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));O.displayName=L.displayName;export{O as S};
