import{j as e}from"./ui-BHyUY8Z8.js";import{r as o}from"./router-2SVJvIbS.js";import{W as j,aC as c,a as s,b as t,c as d,n as l,e as i,r as f,C as g,U as N,d as m}from"./index-Bd1eLXM_.js";import{s as v}from"./subAdminService-BJfyyqUR.js";import"./vendor-Dazix4UH.js";const k=()=>{const[r,x]=o.useState(null),[p,h]=o.useState(!0),{toast:u}=j();o.useEffect(()=>{a()},[]);const a=async()=>{try{const n=await v.getDashboardStats();x(n)}catch(n){u({title:"Error",description:n.message||"Failed to fetch dashboard stats",variant:"destructive"})}finally{h(!1)}};return c("property_created",()=>{a()}),c("property_approved",()=>{a()}),c("property_rejected",()=>{a()}),c("support_ticket_created",()=>{a()}),c("support_ticket_updated",()=>{a()}),p?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sub Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Content moderation and support management overview"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(n=>e.jsx(s,{children:e.jsxs(t,{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},n))})]}):e.jsxs("div",{className:"p-6 space-y-6 mt-16",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sub Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Content moderation and support management overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(s,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Pending Properties"}),e.jsx(l,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r?.pendingProperties||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties awaiting review"})]})]}),e.jsxs(s,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Properties"}),e.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r?.totalProperties||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All properties in system"})]})]}),e.jsxs(s,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Support Tickets"}),e.jsx(g,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r?.pendingSupport||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Open support requests"})]})]}),e.jsxs(s,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r?.totalUsers||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active system users"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(s,{children:[e.jsxs(t,{children:[e.jsx(d,{children:"Quick Actions"}),e.jsx(m,{children:"Common tasks for content moderation"})]}),e.jsxs(i,{className:"space-y-2",children:[e.jsxs("a",{href:"/subadmin/property-reviews",className:"block p-3 rounded-lg border hover:bg-accent transition-colors",children:[e.jsx("div",{className:"font-medium",children:"Review Properties"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[r?.pendingProperties," properties awaiting approval"]})]}),e.jsxs("a",{href:"/subadmin/support-tickets",className:"block p-3 rounded-lg border hover:bg-accent transition-colors",children:[e.jsx("div",{className:"font-medium",children:"Handle Support"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[r?.pendingSupport," open tickets"]})]})]})]}),e.jsxs(s,{children:[e.jsxs(t,{children:[e.jsx(d,{children:"Recent Activity"}),e.jsx(m,{children:"Latest content moderation activities"})]}),e.jsx(i,{children:e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(l,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No recent activity to display"})]})})]})]})]})};export{k as default};
