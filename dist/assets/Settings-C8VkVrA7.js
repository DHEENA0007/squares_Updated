import{j as e}from"./ui-DHQhougw.js";import{r as s}from"./router-Bi51YGN-.js";import{z as a,y as t,t as i,K as n,al as l,f as c,a as r,e as o,a3 as d,a4 as m,a5 as h,ak as u,h as x,aj as g,b as j,c as p,d as y,L as v,I as f,S as N,q as w,r as S,s as b,v as k,B as C,ai as A,M as F}from"./index-CV77Hym3.js";import{S as E}from"./switch-BzJOIUgv.js";import{S as P}from"./separator-C82i-PkN.js";import{A as R,a as M}from"./alert-CuqxF31Z.js";import{locaService as L}from"./locaService-BHv9WoZx.js";import{R as T}from"./refresh-cw-DllRcUU9.js";import{C as I}from"./circle-alert-COMJkl4O.js";import{G as K}from"./globe-CRtiDtQc.js";import{S as q}from"./shield-DhOisX9k.js";import{K as D}from"./key-CHbmSZGt.js";import{I as V}from"./info-BM--s-11.js";import{R as $}from"./rotate-ccw-B3TvaaqN.js";import"./vendor-eVk5PToZ.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=a("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),U=a("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=new class{baseUrl="https://api.buildhomemartsquares.com/api";async makeRequest(e,s={}){const a=`${this.baseUrl}${e}`,i={headers:{"Content-Type":"application/json",...s.headers},...s},n=t.getToken();n&&(i.headers={...i.headers,Authorization:`Bearer ${n}`});try{const e=await fetch(a,i);if(!e.ok){const s=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(s.message||"An error occurred")}return await e.json()}catch(l){throw l}}async getSettings(){try{return await this.makeRequest("/admin/settings")}catch(e){return{success:!0,data:{settings:this.getDefaultSettings()}}}}async updateSettings(e){try{const s=await this.makeRequest(`/admin/settings/${e.category}`,{method:"PATCH",body:JSON.stringify(e.settings)});return i({title:"Success",description:`${this.capitalizeFirst(e.category)} settings updated successfully!`}),s}catch(s){const a=s instanceof Error?s.message:`Failed to update ${e.category} settings`;throw i({title:"Error",description:a,variant:"destructive"}),s}}async updateGeneralSettings(e){return this.updateSettings({category:"general",settings:e})}async updateNotificationSettings(e){return this.updateSettings({category:"notifications",settings:e})}async updateSecuritySettings(e){return this.updateSettings({category:"security",settings:e})}async updatePaymentSettings(e){return this.updateSettings({category:"payment",settings:e})}async updateSystemSettings(e){return this.updateSettings({category:"system",settings:e})}async updateIntegrationSettings(e){return this.updateSettings({category:"integrations",settings:e})}async updateLocationSettings(e){return this.updateSettings({category:"location",settings:e})}async resetSettings(e){try{const s=await this.makeRequest(`/admin/settings/${e}/reset`,{method:"POST"});return i({title:"Success",description:`${this.capitalizeFirst(e)} settings reset to defaults!`}),s}catch(s){const a=s instanceof Error?s.message:`Failed to reset ${e} settings`;throw i({title:"Error",description:a,variant:"destructive"}),s}}async testNotification(e){try{const s=await this.makeRequest("/admin/settings/test-notification",{method:"POST",body:JSON.stringify({type:e})});return i({title:s.success?"Success":"Failed",description:s.message,variant:s.success?"default":"destructive"}),s}catch(s){const a=s instanceof Error?s.message:`Failed to send test ${e} notification`;throw i({title:"Error",description:a,variant:"destructive"}),s}}async testIntegration(e){try{const s=await this.makeRequest("/admin/settings/test-integration",{method:"POST",body:JSON.stringify({type:e})});return i({title:s.success?"Integration Test Successful":"Integration Test Failed",description:s.message,variant:s.success?"default":"destructive"}),s}catch(s){const a=s instanceof Error?s.message:`Failed to test ${e} integration`;throw i({title:"Error",description:a,variant:"destructive"}),s}}async syncSettingRealtime(e,s,a){try{return await this.makeRequest("/admin/settings/sync",{method:"POST",body:JSON.stringify({category:e,key:s,value:a})})}catch(t){return{success:!1,message:"Sync failed, will retry"}}}async exportSettings(){try{const e=await fetch(`${this.baseUrl}/admin/settings/export`,{method:"GET",headers:{Authorization:`Bearer ${t.getToken()}`}});if(!e.ok)throw new Error("Failed to export settings");return await e.blob()}catch(e){const s=e instanceof Error?e.message:"Failed to export settings";throw i({title:"Error",description:s,variant:"destructive"}),e}}async importSettings(e){try{const s=new FormData;s.append("settings",e);const a=await fetch(`${this.baseUrl}/admin/settings/import`,{method:"POST",headers:{Authorization:`Bearer ${t.getToken()}`},body:s});if(!a.ok)throw new Error("Failed to import settings");const n=await a.json();return i({title:"Success",description:"Settings imported successfully!"}),n}catch(s){const e=s instanceof Error?s.message:"Failed to import settings";throw i({title:"Error",description:e,variant:"destructive"}),s}}getDefaultSettings(){return{general:{siteName:"BuildHomeMart Squares",siteDescription:"Premium Real Estate Platform",contactEmail:"contact@buildhomemartsquares.com",supportEmail:"support@buildhomemartsquares.com",maintenanceMode:!1,registrationEnabled:!0,defaultCurrency:"INR",defaultLanguage:"en",timezone:"Asia/Kolkata"},notifications:{emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,adminAlerts:!0,systemAlerts:!0,userActivityAlerts:!1,marketingEmails:!0,weeklyReports:!0},security:{twoFactorAuth:!1,sessionTimeout:30,passwordMinLength:8,maxLoginAttempts:5,requireEmailVerification:!0,requirePhoneVerification:!1,allowPasswordReset:!0,autoLockAccount:!0,ipWhitelisting:!1},payment:{currency:"INR",taxRate:18,processingFee:2.5,refundPolicy:"7 days",autoRefund:!1,paymentMethods:["card","upi","netbanking"],minimumAmount:100,maximumAmount:1e6},system:{backupEnabled:!0,backupFrequency:"daily",backupRetention:30,maintenanceWindow:"02:00-04:00",debugMode:!1,logLevel:"info",performanceMode:"balanced"},integrations:{emailProvider:"smtp",smsProvider:"twilio",paymentGateway:"razorpay"},location:{defaultCountry:"India",defaultState:"Karnataka",defaultCity:"Bangalore",enableLocationAutodetection:!0,locationDataSource:"loca",radiusUnit:"km",defaultRadius:25}}}capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}validateSettings(e,s){const a=[];switch(e){case"general":s.siteName?.trim()||a.push("Site name is required"),s.contactEmail&&!this.validateEmail(s.contactEmail)&&a.push("Invalid contact email"),s.supportEmail&&!this.validateEmail(s.supportEmail)&&a.push("Invalid support email");break;case"security":s.sessionTimeout&&(s.sessionTimeout<5||s.sessionTimeout>480)&&a.push("Session timeout must be between 5 and 480 minutes"),s.passwordMinLength&&(s.passwordMinLength<6||s.passwordMinLength>50)&&a.push("Password minimum length must be between 6 and 50 characters"),s.maxLoginAttempts&&(s.maxLoginAttempts<3||s.maxLoginAttempts>20)&&a.push("Max login attempts must be between 3 and 20");break;case"payment":s.taxRate&&(s.taxRate<0||s.taxRate>100)&&a.push("Tax rate must be between 0% and 100%"),s.processingFee&&(s.processingFee<0||s.processingFee>20)&&a.push("Processing fee must be between 0% and 20%"),s.minimumAmount&&s.minimumAmount<0&&a.push("Minimum amount cannot be negative"),s.maximumAmount&&s.minimumAmount&&s.maximumAmount<s.minimumAmount&&a.push("Maximum amount cannot be less than minimum amount")}return{isValid:0===a.length,errors:a}}},G=()=>{const[a,t]=s.useState(!0),[G,B]=s.useState({}),[O,W]=s.useState({}),[H,J]=s.useState(!1),[Y,Q]=s.useState(null),[X,Z]=s.useState(null),[ee,se]=s.useState({general:!1,notifications:!1,security:!1,payment:!1,system:!1,integrations:!1,location:!1}),[ae,te]=s.useState([]),[ie,ne]=s.useState([]),[le,ce]=s.useState(!1),[re,oe]=s.useState(""),[de,me]=s.useState(""),[he,ue]=s.useState(null),[xe,ge]=s.useState({siteName:"",siteDescription:"",contactEmail:"",supportEmail:"",maintenanceMode:!1,registrationEnabled:!0,defaultCurrency:"INR",defaultLanguage:"en",timezone:"Asia/Kolkata"}),[je,pe]=s.useState({emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,adminAlerts:!0,systemAlerts:!0,userActivityAlerts:!1,marketingEmails:!0,weeklyReports:!0}),[ye,ve]=s.useState({twoFactorAuth:!1,sessionTimeout:30,passwordMinLength:8,maxLoginAttempts:5,requireEmailVerification:!0,requirePhoneVerification:!1,allowPasswordReset:!0,autoLockAccount:!0,ipWhitelisting:!1}),[fe,Ne]=s.useState({currency:"INR",taxRate:18,processingFee:2.5,refundPolicy:"7 days",autoRefund:!1,paymentMethods:["card","upi","netbanking"],minimumAmount:100,maximumAmount:1e6}),[we,Se]=s.useState({backupEnabled:!0,backupFrequency:"daily",backupRetention:30,maintenanceWindow:"02:00-04:00",debugMode:!1,logLevel:"info",performanceMode:"balanced"}),[be,ke]=s.useState({emailProvider:"smtp",emailApiKey:"",smsProvider:"twilio",smsApiKey:"",paymentGateway:"razorpay",paymentApiKey:"",googleMapsApiKey:"",cloudinaryApiKey:"",firebaseConfig:{apiKey:"",authDomain:"",projectId:""}}),[Ce,Ae]=s.useState({defaultCountry:"India",defaultState:"Karnataka",defaultCity:"Bangalore",enableLocationAutodetection:!0,locationDataSource:"loca",radiusUnit:"km",defaultRadius:25});s.useEffect(()=>{Ee(),Fe()},[]);const Fe=async()=>{try{ce(!0),await L.initialize();const e=L.getStates();if(te(e),Ce.defaultState){const e=L.getCities(Ce.defaultState,"");ne(e)}}catch(e){}finally{ce(!1)}},Ee=async()=>{try{t(!0);const e=await _.getSettings();e.success&&(Q(e.data.settings),ge(e.data.settings.general),pe(e.data.settings.notifications),ve(e.data.settings.security),Ne(e.data.settings.payment),e.data.settings.system&&Se(e.data.settings.system),e.data.settings.integrations&&ke({...be,...e.data.settings.integrations}),e.data.settings.location&&Ae(e.data.settings.location),se({general:!1,notifications:!1,security:!1,payment:!1,system:!1,integrations:!1,location:!1}))}catch(e){}finally{t(!1)}},Pe=async(e,s,a)=>{try{await _.syncSettingRealtime(e,s,a),Z((new Date).toISOString())}catch(t){}},Re=async e=>{const s={general:xe,notifications:je,security:ye,payment:fe,system:we,integrations:be,location:Ce},a=_.validateSettings(e,s[e]);if(a.isValid)try{B(s=>({...s,[e]:!0}));const a=await _.updateSettings({category:e,settings:s[e]});a.success&&(Q(a.data.settings),se(s=>({...s,[e]:!1})),i({title:"Success",description:`${e.charAt(0).toUpperCase()+e.slice(1)} settings saved successfully!`}))}catch(t){}finally{B(s=>({...s,[e]:!1}))}else i({title:"Validation Error",description:a.errors.join(", "),variant:"destructive"})},Me=async e=>{try{W(s=>({...s,[`${e}_integration`]:!0})),await _.testIntegration(e)}catch(s){}finally{W(s=>({...s,[`${e}_integration`]:!1}))}},Le=e=>{se(s=>({...s,[e]:!0}))};return a?e.jsx("div",{className:"container mx-auto p-6 space-y-6 relative top-[60px]",children:e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(n,{className:"h-8 w-8 animate-spin mr-2"}),e.jsx("span",{className:"text-lg",children:"Loading settings..."})]})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6 relative top-[60px]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Settings"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure system-wide settings and preferences"})]})]}),e.jsxs(c,{variant:"outline",onClick:async()=>{J(!0),await Ee(),J(!1),i({title:"Settings Refreshed",description:"Settings have been refreshed successfully."})},disabled:H,className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 "+(H?"animate-spin":"")}),"Refresh"]})]}),Object.values(ee).some(Boolean)&&e.jsxs(R,{children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(M,{children:"You have unsaved changes. Don't forget to save your settings before leaving this page."})]}),e.jsx(r,{className:"mb-6",children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Settings Management"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:X?`Last synced: ${new Date(X).toLocaleTimeString()}`:"No recent sync"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:async()=>{try{const e=await _.exportSettings(),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=`admin-settings-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)}catch(e){}},children:"Export Settings"}),e.jsx("label",{htmlFor:"import-settings",children:e.jsx(c,{variant:"outline",size:"sm",asChild:!0,disabled:G.import,children:e.jsx("span",{className:"cursor-pointer",children:G.import?e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):"Import Settings"})})}),e.jsx("input",{id:"import-settings",type:"file",accept:".json",className:"hidden",onChange:async e=>{const s=e.target.files?.[0];if(s)try{B(e=>({...e,import:!0})),await _.importSettings(s),await Ee()}catch(a){}finally{B(e=>({...e,import:!1})),e.target.value=""}}})]})]})})}),e.jsxs(d,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(m,{className:"grid w-full grid-cols-7",children:[e.jsxs(h,{value:"general",className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),"General"]}),e.jsxs(h,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4"}),"Notifications"]}),e.jsxs(h,{value:"security",className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Security"]}),e.jsxs(h,{value:"payment",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Payment"]}),e.jsxs(h,{value:"system",className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),"System"]}),e.jsxs(h,{value:"integrations",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Integrations"]}),e.jsxs(h,{value:"location",className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),"Location"]})]}),e.jsx(g,{value:"general",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"General Settings"]}),e.jsx(y,{children:"Manage your website's basic information and general settings."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"siteName",children:"Site Name"}),e.jsx(f,{id:"siteName",value:xe.siteName,onChange:e=>{ge(s=>({...s,siteName:e.target.value})),Le("general")}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"contactEmail",children:"Contact Email"}),e.jsx(f,{id:"contactEmail",type:"email",value:xe.contactEmail,onChange:e=>{ge(s=>({...s,contactEmail:e.target.value})),Le("general")}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"siteDescription",children:"Site Description"}),e.jsx(f,{id:"siteDescription",value:xe.siteDescription,onChange:e=>{ge(s=>({...s,siteDescription:e.target.value})),Le("general")}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"supportEmail",children:"Support Email"}),e.jsx(f,{id:"supportEmail",type:"email",value:xe.supportEmail,onChange:e=>{ge(s=>({...s,supportEmail:e.target.value})),Le("general")}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"defaultCurrency",children:"Default Currency"}),e.jsxs(N,{value:xe.defaultCurrency,onValueChange:e=>{ge(s=>({...s,defaultCurrency:e})),Le("general")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"INR",children:"INR (₹)"}),e.jsx(k,{value:"USD",children:"USD ($)"}),e.jsx(k,{value:"EUR",children:"EUR (€)"}),e.jsx(k,{value:"GBP",children:"GBP (£)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"defaultLanguage",children:"Default Language"}),e.jsxs(N,{value:xe.defaultLanguage,onValueChange:e=>{ge(s=>({...s,defaultLanguage:e})),Le("general")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"en",children:"English"}),e.jsx(k,{value:"hi",children:"Hindi"}),e.jsx(k,{value:"ta",children:"Tamil"}),e.jsx(k,{value:"te",children:"Telugu"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(N,{value:xe.timezone,onValueChange:e=>{ge(s=>({...s,timezone:e})),Le("general")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"Asia/Kolkata",children:"India (IST)"}),e.jsx(k,{value:"UTC",children:"UTC"}),e.jsx(k,{value:"America/New_York",children:"New York (EST)"}),e.jsx(k,{value:"Europe/London",children:"London (GMT)"})]})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Site Status"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),xe.maintenanceMode&&e.jsxs(C,{variant:"destructive",children:[e.jsx(I,{className:"h-3 w-3 mr-1"}),"Active"]})]}),e.jsx(E,{id:"maintenanceMode",checked:xe.maintenanceMode,onCheckedChange:e=>ge(s=>({...s,maintenanceMode:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{htmlFor:"registrationEnabled",children:"User Registration"}),xe.registrationEnabled&&e.jsxs(C,{variant:"default",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Enabled"]})]}),e.jsx(E,{id:"registrationEnabled",checked:xe.registrationEnabled,onCheckedChange:e=>ge(s=>({...s,registrationEnabled:e}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(c,{onClick:()=>Re("general"),disabled:a,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save General Settings"]})})]})]})}),e.jsx(g,{value:"notifications",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Notification Settings"]}),e.jsx(y,{children:"Configure how and when notifications are sent to users and administrators."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"User Notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"emailNotifications",children:"Email Notifications"}),e.jsx(E,{id:"emailNotifications",checked:je.emailNotifications,onCheckedChange:e=>pe(s=>({...s,emailNotifications:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"smsNotifications",children:"SMS Notifications"}),e.jsx(E,{id:"smsNotifications",checked:je.smsNotifications,onCheckedChange:e=>pe(s=>({...s,smsNotifications:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"pushNotifications",children:"Push Notifications"}),e.jsx(E,{id:"pushNotifications",checked:je.pushNotifications,onCheckedChange:e=>pe(s=>({...s,pushNotifications:e}))})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Admin Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"adminAlerts",children:"Admin Alerts"}),e.jsx(E,{id:"adminAlerts",checked:je.adminAlerts,onCheckedChange:e=>pe(s=>({...s,adminAlerts:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"systemAlerts",children:"System Alerts"}),e.jsx(E,{id:"systemAlerts",checked:je.systemAlerts,onCheckedChange:e=>pe(s=>({...s,systemAlerts:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"userActivityAlerts",children:"User Activity Alerts"}),e.jsx(E,{id:"userActivityAlerts",checked:je.userActivityAlerts,onCheckedChange:e=>pe(s=>({...s,userActivityAlerts:e}))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(c,{onClick:()=>Re("notifications"),disabled:a,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})]})]})}),e.jsx(g,{value:"security",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Security Settings"]}),e.jsx(y,{children:"Configure security policies and authentication requirements."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),e.jsx(f,{id:"sessionTimeout",type:"number",value:ye.sessionTimeout,onChange:e=>ve(s=>({...s,sessionTimeout:parseInt(e.target.value)}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"passwordMinLength",children:"Minimum Password Length"}),e.jsx(f,{id:"passwordMinLength",type:"number",value:ye.passwordMinLength,onChange:e=>ve(s=>({...s,passwordMinLength:parseInt(e.target.value)}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),e.jsx(f,{id:"maxLoginAttempts",type:"number",value:ye.maxLoginAttempts,onChange:e=>ve(s=>({...s,maxLoginAttempts:parseInt(e.target.value)}))})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Authentication"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"twoFactorAuth",children:"Two-Factor Authentication"}),e.jsx(E,{id:"twoFactorAuth",checked:ye.twoFactorAuth,onCheckedChange:e=>ve(s=>({...s,twoFactorAuth:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"requireEmailVerification",children:"Require Email Verification"}),e.jsx(E,{id:"requireEmailVerification",checked:ye.requireEmailVerification,onCheckedChange:e=>ve(s=>({...s,requireEmailVerification:e}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"requirePhoneVerification",children:"Require Phone Verification"}),e.jsx(E,{id:"requirePhoneVerification",checked:ye.requirePhoneVerification,onCheckedChange:e=>ve(s=>({...s,requirePhoneVerification:e}))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(c,{onClick:()=>Re("security"),disabled:a,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save Security Settings"]})})]})]})}),e.jsx(g,{value:"payment",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Payment Settings"]}),e.jsx(y,{children:"Configure payment processing and billing settings."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"currency",children:"Default Currency"}),e.jsx(f,{id:"currency",value:fe.currency,onChange:e=>Ne(s=>({...s,currency:e.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"taxRate",children:"Tax Rate (%)"}),e.jsx(f,{id:"taxRate",type:"number",step:"0.1",value:fe.taxRate,onChange:e=>Ne(s=>({...s,taxRate:parseFloat(e.target.value)}))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"processingFee",children:"Processing Fee (%)"}),e.jsx(f,{id:"processingFee",type:"number",step:"0.1",value:fe.processingFee,onChange:e=>Ne(s=>({...s,processingFee:parseFloat(e.target.value)}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"refundPolicy",children:"Refund Policy"}),e.jsx(f,{id:"refundPolicy",value:fe.refundPolicy,onChange:e=>Ne(s=>({...s,refundPolicy:e.target.value}))})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Automation"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"autoRefund",children:"Automatic Refunds"}),e.jsx(E,{id:"autoRefund",checked:fe.autoRefund,onCheckedChange:e=>Ne(s=>({...s,autoRefund:e}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(c,{onClick:()=>Re("payment"),disabled:G.payment,children:[G.payment?e.jsx(n,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save Payment Settings"]})})]})]})}),e.jsx(g,{value:"system",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-5 w-5"}),"System Settings"]}),e.jsx(y,{children:"Configure system maintenance, backups, and performance settings."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Backup Configuration"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"backupEnabled",children:"Enable Automatic Backups"}),e.jsx(E,{id:"backupEnabled",checked:we.backupEnabled,onCheckedChange:e=>{Se(s=>({...s,backupEnabled:e})),Le("system"),Pe("system","backupEnabled",e)}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"backupFrequency",children:"Backup Frequency"}),e.jsxs(N,{value:we.backupFrequency,onValueChange:e=>{Se(s=>({...s,backupFrequency:e})),Le("system"),Pe("system","backupFrequency",e)},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"daily",children:"Daily"}),e.jsx(k,{value:"weekly",children:"Weekly"}),e.jsx(k,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"backupRetention",children:"Backup Retention (days)"}),e.jsx(f,{id:"backupRetention",type:"number",min:"1",max:"365",value:we.backupRetention,onChange:e=>{const s=parseInt(e.target.value);Se(e=>({...e,backupRetention:s})),Le("system")}})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"System Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"performanceMode",children:"Performance Mode"}),e.jsxs(N,{value:we.performanceMode,onValueChange:e=>{Se(s=>({...s,performanceMode:e})),Le("system"),Pe("system","performanceMode",e)},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"balanced",children:"Balanced"}),e.jsx(k,{value:"performance",children:"High Performance"}),e.jsx(k,{value:"memory",children:"Memory Optimized"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"logLevel",children:"Log Level"}),e.jsxs(N,{value:we.logLevel,onValueChange:e=>{Se(s=>({...s,logLevel:e})),Le("system"),Pe("system","logLevel",e)},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"error",children:"Error Only"}),e.jsx(k,{value:"warn",children:"Warnings"}),e.jsx(k,{value:"info",children:"Information"}),e.jsx(k,{value:"debug",children:"Debug"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"maintenanceWindow",children:"Maintenance Window"}),e.jsx(f,{id:"maintenanceWindow",value:we.maintenanceWindow,onChange:e=>{Se(s=>({...s,maintenanceWindow:e.target.value})),Le("system")},placeholder:"e.g., 02:00-04:00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"debugMode",children:"Debug Mode"}),e.jsx(E,{id:"debugMode",checked:we.debugMode,onCheckedChange:e=>{Se(s=>({...s,debugMode:e})),Le("system"),Pe("system","debugMode",e)}})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(c,{variant:"outline",onClick:()=>(async e=>{try{B(s=>({...s,[`${e}_reset`]:!0}));const s=await _.resetSettings(e);if(s.success){switch(Q(s.data.settings),e){case"general":ge(s.data.settings.general);break;case"notifications":pe(s.data.settings.notifications);break;case"security":ve(s.data.settings.security);break;case"payment":Ne(s.data.settings.payment);break;case"system":s.data.settings.system&&Se(s.data.settings.system);break;case"integrations":s.data.settings.integrations&&ke({...be,...s.data.settings.integrations});break;case"location":s.data.settings.location&&Ae(s.data.settings.location)}se(s=>({...s,[e]:!1}))}}catch(s){}finally{B(s=>({...s,[`${e}_reset`]:!1}))}})("system"),disabled:G.system_reset,children:[G.system_reset?e.jsx(n,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx($,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]}),e.jsxs(c,{onClick:()=>Re("system"),disabled:G.system,children:[G.system?e.jsx(n,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save System Settings"]})]})]})]})}),e.jsx(g,{value:"integrations",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"Integration Settings"]}),e.jsx(y,{children:"Configure third-party service integrations and API keys."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Email Service"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"emailProvider",children:"Email Provider"}),e.jsxs(N,{value:be.emailProvider,onValueChange:e=>{ke(s=>({...s,emailProvider:e})),Le("integrations")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"smtp",children:"SMTP"}),e.jsx(k,{value:"sendgrid",children:"SendGrid"}),e.jsx(k,{value:"aws-ses",children:"AWS SES"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"emailApiKey",children:"Email API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{id:"emailApiKey",type:"password",value:be.emailApiKey,onChange:e=>{ke(s=>({...s,emailApiKey:e.target.value})),Le("integrations")},placeholder:"Enter API key..."}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>Me("email"),disabled:O.email_integration,children:O.email_integration?e.jsx(n,{className:"h-4 w-4 animate-spin"}):e.jsx(U,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-gray-50",children:[e.jsx("h5",{className:"text-sm font-medium mb-4 text-gray-700",children:"Email Testing & Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"testEmail",children:"Test Email Address"}),e.jsx(f,{id:"testEmail",type:"email",value:re,onChange:e=>oe(e.target.value),placeholder:"Enter email to test"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"emailTemplate",children:"Email Template"}),e.jsxs(N,{value:de,onValueChange:me,children:[e.jsx(w,{children:e.jsx(S,{placeholder:"Select template"})}),e.jsxs(b,{children:[e.jsx(k,{value:"welcome",children:"Welcome Email"}),e.jsx(k,{value:"password-reset",children:"Password Reset"}),e.jsx(k,{value:"vendor-welcome",children:"Vendor Welcome"}),e.jsx(k,{value:"customer-booking-confirmation",children:"Booking Confirmation"}),e.jsx(k,{value:"service-status-update",children:"Service Update"}),e.jsx(k,{value:"weekly-report",children:"Weekly Report"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:async()=>{try{W(e=>({...e,email_connection:!0}));const e=await fetch("/api/admin/email/test-connection",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),s=await e.json();s.success?i({title:"Email Connection Test",description:"Email connection successful!"}):i({title:"Email Connection Failed",description:`Email connection failed: ${s.error}`,variant:"destructive"})}catch(e){i({title:"Connection Test Failed",description:"Failed to test email connection",variant:"destructive"})}finally{W(e=>({...e,email_connection:!1}))}},disabled:O.email_connection,children:O.email_connection?e.jsx(n,{className:"h-4 w-4 animate-spin"}):e.jsx(T,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:async()=>{if(re&&de)try{W(e=>({...e,send_test_email:!0}));const e=await fetch("/api/admin/email/send-test",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({to:re,templateName:de})}),s=await e.json();s.success?i({title:"Test Email Sent",description:`Test email sent successfully to ${re}`}):i({title:"Email Send Failed",description:`Failed to send test email: ${s.error}`,variant:"destructive"})}catch(e){i({title:"Email Send Failed",description:"Failed to send test email",variant:"destructive"})}finally{W(e=>({...e,send_test_email:!1}))}else i({title:"Missing Information",description:"Please enter email address and select template",variant:"destructive"})},disabled:O.send_test_email||!re||!de,children:O.send_test_email?e.jsx(n,{className:"h-4 w-4 animate-spin"}):e.jsx(F,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:async()=>{try{const e=await fetch("/api/admin/email/stats",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),s=await e.json();s.success?(ue(s.stats),i({title:"Email Statistics",description:"Email stats loaded successfully"})):i({title:"Stats Load Failed",description:`Failed to get email stats: ${s.error}`,variant:"destructive"})}catch(e){i({title:"Stats Load Failed",description:"Failed to get email stats",variant:"destructive"})}},children:e.jsx(z,{className:"h-4 w-4"})})]})]})]}),he&&e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-md border",children:[e.jsx("h6",{className:"text-xs font-medium text-gray-600 mb-2",children:"Email Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:["Sent: ",e.jsx("strong",{children:he.sent})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("span",{children:["Failed: ",e.jsx("strong",{children:he.failed})]})]})]})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"SMS Service"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"smsProvider",children:"SMS Provider"}),e.jsxs(N,{value:be.smsProvider,onValueChange:e=>{ke(s=>({...s,smsProvider:e})),Le("integrations")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"twilio",children:"Twilio"}),e.jsx(k,{value:"aws-sns",children:"AWS SNS"}),e.jsx(k,{value:"firebase",children:"Firebase"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"smsApiKey",children:"SMS API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{id:"smsApiKey",type:"password",value:be.smsApiKey,onChange:e=>{ke(s=>({...s,smsApiKey:e.target.value})),Le("integrations")},placeholder:"Enter API key..."}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>Me("sms"),disabled:O.sms_integration,children:O.sms_integration?e.jsx(n,{className:"h-4 w-4 animate-spin"}):e.jsx(U,{className:"h-4 w-4"})})]})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Payment Gateway"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"paymentGateway",children:"Payment Provider"}),e.jsxs(N,{value:be.paymentGateway,onValueChange:e=>{ke(s=>({...s,paymentGateway:e})),Le("integrations")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"razorpay",children:"Razorpay"}),e.jsx(k,{value:"stripe",children:"Stripe"}),e.jsx(k,{value:"paypal",children:"PayPal"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"paymentApiKey",children:"Payment API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{id:"paymentApiKey",type:"password",value:be.paymentApiKey,onChange:e=>{ke(s=>({...s,paymentApiKey:e.target.value})),Le("integrations")},placeholder:"Enter API key..."}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>Me("payment"),disabled:O.payment_integration,children:O.payment_integration?e.jsx(n,{className:"h-4 w-4 animate-spin"}):e.jsx(U,{className:"h-4 w-4"})})]})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Other Integrations"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"googleMapsApiKey",children:"Google Maps API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{id:"googleMapsApiKey",type:"password",value:be.googleMapsApiKey,onChange:e=>{ke(s=>({...s,googleMapsApiKey:e.target.value})),Le("integrations")},placeholder:"Enter Google Maps API key..."}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>Me("maps"),disabled:O.maps_integration,children:O.maps_integration?e.jsx(n,{className:"h-4 w-4 animate-spin"}):e.jsx(U,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"cloudinaryApiKey",children:"Cloudinary API Key"}),e.jsx(f,{id:"cloudinaryApiKey",type:"password",value:be.cloudinaryApiKey,onChange:e=>{ke(s=>({...s,cloudinaryApiKey:e.target.value})),Le("integrations")},placeholder:"Enter Cloudinary API key..."})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(c,{onClick:()=>Re("integrations"),disabled:G.integrations,children:[G.integrations?e.jsx(n,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save Integration Settings"]})})]})]})}),e.jsx(g,{value:"location",children:e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),"Location Settings"]}),e.jsx(y,{children:"Configure default location settings and location data sources."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Default Location"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"defaultCountry",children:"Default Country"}),e.jsx(f,{id:"defaultCountry",value:Ce.defaultCountry,onChange:e=>{Ae(s=>({...s,defaultCountry:e.target.value})),Le("location")}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"defaultState",children:"Default State"}),e.jsxs(N,{value:Ce.defaultState,onValueChange:e=>{Ae(s=>({...s,defaultState:e})),Le("location"),Pe("location","defaultState",e)},children:[e.jsx(w,{children:e.jsx(S,{placeholder:le?"Loading...":"Select state"})}),e.jsx(b,{children:ae.map(s=>e.jsx(k,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"defaultCity",children:"Default City"}),e.jsxs(N,{value:Ce.defaultCity,onValueChange:e=>{Ae(s=>({...s,defaultCity:e})),Le("location"),Pe("location","defaultCity",e)},children:[e.jsx(w,{children:e.jsx(S,{placeholder:"Select city"})}),e.jsx(b,{children:ie.map(s=>e.jsx(k,{value:s,children:s},s))})]})]})]})]}),e.jsx(P,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Location Services"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"enableLocationAutodetection",children:"Enable Location Autodetection"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically detect user location from IP address"})]}),e.jsx(E,{id:"enableLocationAutodetection",checked:Ce.enableLocationAutodetection,onCheckedChange:e=>{Ae(s=>({...s,enableLocationAutodetection:e})),Le("location"),Pe("location","enableLocationAutodetection",e)}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"locationDataSource",children:"Location Data Source"}),e.jsxs(N,{value:Ce.locationDataSource,onValueChange:e=>{Ae(s=>({...s,locationDataSource:e})),Le("location")},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"loca",children:"Local Data (loca.json)"}),e.jsx(k,{value:"google",children:"Google Places API"}),e.jsx(k,{value:"mapbox",children:"Mapbox API"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"radiusUnit",children:"Distance Unit"}),e.jsxs(N,{value:Ce.radiusUnit,onValueChange:e=>{Ae(s=>({...s,radiusUnit:e})),Le("location"),Pe("location","radiusUnit",e)},children:[e.jsx(w,{children:e.jsx(S,{})}),e.jsxs(b,{children:[e.jsx(k,{value:"km",children:"Kilometers"}),e.jsx(k,{value:"miles",children:"Miles"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"defaultRadius",children:"Default Search Radius"}),e.jsx(f,{id:"defaultRadius",type:"number",min:"1",max:"500",value:Ce.defaultRadius,onChange:e=>{const s=parseInt(e.target.value);Ae(e=>({...e,defaultRadius:s})),Le("location")}})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(c,{onClick:()=>Re("location"),disabled:G.location,children:[G.location?e.jsx(n,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(A,{className:"h-4 w-4 mr-2"}),"Save Location Settings"]})})]})]})})]})]})};export{G as default};
