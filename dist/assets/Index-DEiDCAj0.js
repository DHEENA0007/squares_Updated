import{j as e}from"./ui-BNZSgpjP.js";import{r as s,L as t}from"./router-D8v2YSKU.js";import{P as a,a as r}from"./PropertyCard-BW6s7yv1.js";import{a as i,e as n,ap as l,aq as o,ar as d,Q as c,B as m,k as x,h as p,bS as h,S as u,aL as j,t as f,G as g}from"./index-DNDw84E8.js";import{D as v}from"./dollar-sign-D6ZezNMv.js";import{T as N}from"./trending-up-DytUkH_w.js";import"./vendor-BxThA0WO.js";import"./propertyUtils-41DuwCMc.js";import"./PropertyContactDialog-B9K2d83-.js";import"./messageService-BoVfMsKV.js";import"./uploadService-C_cH8Ofp.js";import"./send-7f8J3x_O.js";import"./EnterprisePropertyContactDialog-BazfcsK5.js";import"./indian-rupee-DeOakmpg.js";import"./vendorService-B5v3w_Ch.js";import"./reviewsService-BfDTZXRs.js";import"./favoriteService-COj0b7PR.js";import"./square-rF8yc_An.js";import"./thumbs-up-B_BfUToG.js";const b=({vendor:s})=>{const t=s=>{if(!s)return e.jsx(c,{className:"w-3 h-3 mr-1"});switch(s){case"star":default:return e.jsx(c,{className:"w-3 h-3 mr-1"});case"shield":case"shield-check":return e.jsx(u,{className:"w-3 h-3 mr-1"});case"trending-up":return e.jsx(N,{className:"w-3 h-3 mr-1"});case"dollar-sign":return e.jsx(v,{className:"w-3 h-3 mr-1"});case"crown":return e.jsx(h,{className:"w-3 h-3 mr-1"})}},a=(e=0)=>{const s=["default","secondary","outline","destructive"];return s[e%s.length]},r=Array.isArray(s.badges)?s.badges.filter(e=>e.enabled):[];return e.jsx(i,{className:"h-full hover:shadow-2xl transition-all duration-300 border-2 hover:border-primary/30 hover:-translate-y-2 hover:scale-[1.03]",children:e.jsx(n,{className:"p-7",children:e.jsxs("div",{className:"flex items-center gap-7",children:[e.jsxs("div",{className:"flex-shrink-0 text-center",children:[e.jsxs(l,{className:"h-24 w-24 mb-3 border-2 border-primary/20",children:[e.jsx(o,{src:s.avatar||void 0,alt:s.name,className:"object-cover"}),e.jsx(d,{className:"bg-primary/10 text-primary font-bold text-2xl",children:(j=s.name,j.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})]}),s.rating.count>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(c,{className:"w-5 h-5 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-base font-bold",children:s.rating.average.toFixed(1)})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s.rating.count," reviews)"]})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h3",{className:"font-bold text-2xl leading-tight text-foreground",children:s.name}),s.companyName&&e.jsx("p",{className:"text-base text-muted-foreground font-medium",children:s.companyName})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 max-w-[200px]",children:r.map((s,r)=>e.jsxs(m,{variant:a(r),className:"text-xs font-medium",children:[t(s.icon),s.name]},s.key))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-3",children:[(s.location.city||s.location.state)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[e.jsx(x,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:[s.location.city,s.location.state].filter(Boolean).join(", ")})]}),s.responseTime&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[e.jsx(p,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("span",{children:[s.responseTime," response"]})]})]}),e.jsx("div",{className:"space-y-3",children:s.specialization.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.specialization.slice(0,3).map((s,t)=>e.jsx(m,{variant:"outline",className:"text-sm font-medium",children:s},t))})})]}),s.bio&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:s.bio})]})]})})});var j};const w=new class{async getFeaturedVendors(e=8){try{const s=await fetch(`https://app.buildhomemartsquares.com/api/properties/featured-vendors?limit=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();if(!t.success)throw new Error(t.message||"Failed to fetch featured vendors");return{vendors:t.data.vendors||[],totalCount:t.data.totalCount||0}}catch(s){return{vendors:[],totalCount:0}}}},y=()=>{const[i,n]=s.useState([]),[l,o]=s.useState([]),[d,m]=s.useState(!0),[x,p]=s.useState(!0),[h,v]=s.useState({}),y=s.useRef(null),[k,S]=s.useState(!1);s.useEffect(()=>{const e=()=>{if(0===l.length)return;const e=574*l.length,s=window.innerWidth;S(e>s)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l.length]);const C=s.useCallback(async(e={})=>{try{m(!0);const s=await j.getProperties({limit:12,page:1,...e});s.success&&n(s.data.properties)}catch(s){f({title:"Error",description:"Failed to load properties. Please try again.",variant:"destructive"})}finally{m(!1)}},[]),P=s.useCallback(async()=>{try{p(!0);const e=await w.getFeaturedVendors(8);o(e.vendors)}catch(e){}finally{p(!1)}},[]);s.useEffect(()=>{C(h),P()},[C,P,h]);return e.jsxs(e.Fragment,{children:[e.jsx(a,{onFilterChange:e=>{v(e)}}),e.jsxs("section",{className:"mt-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:Object.keys(h).some(e=>void 0!==h[e])?"Filtered Properties":"Latest Properties"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:Object.keys(h).some(e=>void 0!==h[e])?`Found ${i.length} properties matching your criteria`:"Discover our newest property listings"})]}),e.jsx(t,{to:"/products",className:"text-primary hover:underline font-medium",children:"View All"})]}),d?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(g,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2 text-lg",children:"Loading properties..."})]}):0===i.length?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-lg text-muted-foreground",children:"No properties available at the moment."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>e.jsx(r,{property:s},s._id))})]}),!x&&l.length>0&&e.jsxs("section",{className:"mt-16 -mx-4 md:mx-0",children:[e.jsx("div",{className:"mb-8 px-4 md:px-0",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Featured Premium Vendors"}),e.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:"Verified professionals with exclusive badges - Hover to pause"})]})})}),e.jsx("div",{ref:y,className:"relative overflow-hidden py-8",style:{maskImage:k?"linear-gradient(to right, transparent, black 5%, black 95%, transparent)":"none",WebkitMaskImage:k?"linear-gradient(to right, transparent, black 5%, black 95%, transparent)":"none"},children:e.jsxs("div",{className:"flex gap-6 "+(k?"animate-scroll hover:pause-animation":"justify-center flex-wrap"),style:{width:k?"fit-content":"100%",animation:k?"scroll 60s linear infinite":"none"},children:[l.map(s=>e.jsx("div",{className:"flex-shrink-0 w-[550px] max-w-[90vw]",children:e.jsx(b,{vendor:s})},`vendor-${s._id}`)),k&&l.map(s=>e.jsx("div",{className:"flex-shrink-0 w-[550px] max-w-[90vw]",children:e.jsx(b,{vendor:s})},`vendor-dup-${s._id}`))]})}),e.jsx("style",{children:"\n            @keyframes scroll {\n              0% {\n                transform: translateX(0);\n              }\n              100% {\n                transform: translateX(calc(-50% - 12px));\n              }\n            }\n            \n            .animate-scroll {\n              animation: scroll 60s linear infinite;\n            }\n            \n            .pause-animation:hover {\n              animation-play-state: paused;\n            }\n          "}),e.jsxs("div",{className:"mt-10 p-6 bg-gradient-to-br from-muted/50 to-muted/20 rounded-xl border border-muted-foreground/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(c,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h4",{className:"font-bold text-lg",children:"Vendor Badges"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/60 rounded-lg",children:[e.jsx(c,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"Top Rated"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Highly rated"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/60 rounded-lg",children:[e.jsx(u,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"Verified"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Identity verified"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/60 rounded-lg",children:[e.jsx(N,{className:"w-5 h-5 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"Marketing Pro"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Advanced tools"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background/60 rounded-lg",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-500 rounded-full flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:"Commission Based"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Performance pricing"})]})]})]})]})]}),e.jsxs("section",{className:"mt-16 bg-gradient-to-r from-primary to-primary/80 rounded-2xl p-12 text-center text-primary-foreground",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Dream Home?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Join thousands of happy homeowners who found their perfect property with us"}),e.jsx(t,{to:"/products",className:"bg-accent text-accent-foreground px-8 py-3 rounded-lg font-semibold hover:bg-accent/80 hover:brightness-110 hover:shadow-lg hover:scale-105 transition-all duration-300 shadow-[var(--shadow-medium)] inline-block",children:"Get Started Today"})]})]})};export{y as default};
