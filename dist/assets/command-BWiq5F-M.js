import{J as e,P as t,U as r,V as n,_ as l,W as a,a0 as i,j as u}from"./ui-DHQhougw.js";import{r as o}from"./router-Bi51YGN-.js";import{V as c,x as d}from"./index-B494FSRu.js";var s=.999,f=/[\\\/_+.#"@\[\(\{&]/,m=/[\\\/_+.#"@\[\(\{&]/g,p=/[\s-]/,v=/[\s-]/g;function h(e,t,r,n,l,a,i){if(a===t.length)return l===e.length?1:.99;var u=`${l},${a}`;if(void 0!==i[u])return i[u];for(var o,c,d,g,b=n.charAt(a),y=r.indexOf(b,l),w=0;y>=0;)(o=h(e,t,r,n,y+1,a+1,i))>w&&(y===l?o*=1:f.test(e.charAt(y-1))?(o*=.8,(d=e.slice(l,y-1).match(m))&&l>0&&(o*=Math.pow(s,d.length))):p.test(e.charAt(y-1))?(o*=.9,(g=e.slice(l,y-1).match(v))&&l>0&&(o*=Math.pow(s,g.length))):(o*=.17,l>0&&(o*=Math.pow(s,y-l))),e.charAt(y)!==t.charAt(a)&&(o*=.9999)),(o<.1&&r.charAt(y-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(y-1)!==n.charAt(a))&&(.1*(c=h(e,t,r,n,y+1,a+2,i))>o&&(o=.1*c)),o>w&&(w=o),y=r.indexOf(b,y+1);return i[u]=w,w}function g(e){return e.toLowerCase().replace(v," ")}function b(e,t,r){return h(e=r&&r.length>0?""+(e+" "+r.join(" ")):e,t,g(e),g(t),0,0,{})}var y='[cmdk-group=""]',w='[cmdk-group-items=""]',x='[cmdk-item=""]',E=`${x}:not([aria-disabled="true"])`,k="cmdk-item-select",S="data-value",I=(e,t,r)=>b(e,t,r),N=o.createContext(void 0),R=()=>o.useContext(N),C=o.createContext(void 0),A=()=>o.useContext(C),j=o.createContext(void 0),M=o.forwardRef((r,n)=>{let l=U(()=>{var e,t;return{search:"",value:null!=(t=null!=(e=r.value)?e:r.defaultValue)?t:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=U(()=>new Set),i=U(()=>new Map),u=U(()=>new Map),c=U(()=>new Set),d=B(r),{label:s,children:f,value:m,onValueChange:p,filter:v,shouldFilter:h,loop:g,disablePointerSelection:b=!1,vimBindings:R=!0,...A}=r,j=e(),M=e(),D=e(),P=o.useRef(null),L=J();G(()=>{if(void 0!==m){let e=m.trim();l.current.value=e,V.emit()}},[m]),G(()=>{L(6,H)},[]);let V=o.useMemo(()=>({subscribe:e=>(c.current.add(e),()=>c.current.delete(e)),snapshot:()=>l.current,setState:(e,t,r)=>{var n,a,i,u;if(!Object.is(l.current[e],t)){if(l.current[e]=t,"search"===e)O(),K(),L(1,_);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(D);e?e.focus():null==(n=document.getElementById(j))||n.focus()}if(L(7,()=>{var e;l.current.selectedItemId=null==(e=W())?void 0:e.id,V.emit()}),r||L(5,H),void 0!==(null==(a=d.current)?void 0:a.value)){let e=null!=t?t:"";return void(null==(u=(i=d.current).onValueChange)||u.call(i,e))}}V.emit()}},emit:()=>{c.current.forEach(e=>e())}}),[]),$=o.useMemo(()=>({value:(e,t,r)=>{var n;t!==(null==(n=u.current.get(e))?void 0:n.value)&&(u.current.set(e,{value:t,keywords:r}),l.current.filtered.items.set(e,F(t,r)),L(2,()=>{K(),V.emit()}))},item:(e,t)=>(a.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),L(3,()=>{O(),K(),l.current.value||_(),V.emit()}),()=>{u.current.delete(e),a.current.delete(e),l.current.filtered.items.delete(e);let t=W();L(4,()=>{O(),(null==t?void 0:t.getAttribute("id"))===e&&_(),V.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{u.current.delete(e),i.current.delete(e)}),filter:()=>d.current.shouldFilter,label:s||r["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:j,inputId:D,labelId:M,listInnerRef:P}),[]);function F(e,t){var r,n;let a=null!=(n=null==(r=d.current)?void 0:r.filter)?n:I;return e?a(e,l.current.search,t):0}function K(){if(!l.current.search||!1===d.current.shouldFilter)return;let e=l.current.filtered.items,t=[];l.current.filtered.groups.forEach(r=>{let n=i.current.get(r),l=0;n.forEach(t=>{let r=e.get(t);l=Math.max(r,l)}),t.push([r,l])});let r=P.current;X().sort((t,r)=>{var n,l;let a=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(w);t?t.appendChild(e.parentElement===t?e:e.closest(`${w} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${w} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=P.current)?void 0:t.querySelector(`${y}[${S}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function _(){let e=X().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(S);V.setState("value",t||void 0)}function O(){var e,t,r,n;if(!l.current.search||!1===d.current.shouldFilter)return void(l.current.filtered.count=a.current.size);l.current.filtered.groups=new Set;let o=0;for(let i of a.current){let a=F(null!=(t=null==(e=u.current.get(i))?void 0:e.value)?t:"",null!=(n=null==(r=u.current.get(i))?void 0:r.keywords)?n:[]);l.current.filtered.items.set(i,a),a>0&&o++}for(let[a,u]of i.current)for(let e of u)if(l.current.filtered.items.get(e)>0){l.current.filtered.groups.add(a);break}l.current.filtered.count=o}function H(){var e,t,r;let n=W();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(y))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function W(){var e;return null==(e=P.current)?void 0:e.querySelector(`${x}[aria-selected="true"]`)}function X(){var e;return Array.from((null==(e=P.current)?void 0:e.querySelectorAll(E))||[])}function Y(e){let t=X()[e];t&&V.setState("value",t.getAttribute(S))}function Z(e){var t;let r=W(),n=X(),l=n.findIndex(e=>e===r),a=n[l+e];null!=(t=d.current)&&t.loop&&(a=l+e<0?n[n.length-1]:l+e===n.length?n[0]:n[l+e]),a&&V.setState("value",a.getAttribute(S))}function ee(e){let t,r=W(),n=null==r?void 0:r.closest(y);for(;n&&!t;)n=e>0?q(n,y):z(n,y),t=null==n?void 0:n.querySelector(E);t?V.setState("value",t.getAttribute(S)):Z(e)}let te=()=>Y(X().length-1),re=e=>{e.preventDefault(),e.metaKey?te():e.altKey?ee(1):Z(1)},ne=e=>{e.preventDefault(),e.metaKey?Y(0):e.altKey?ee(-1):Z(-1)};return o.createElement(t.div,{ref:n,tabIndex:-1,...A,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=A.onKeyDown)||t.call(A,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!r)switch(e.key){case"n":case"j":R&&e.ctrlKey&&re(e);break;case"ArrowDown":re(e);break;case"p":case"k":R&&e.ctrlKey&&ne(e);break;case"ArrowUp":ne(e);break;case"Home":e.preventDefault(),Y(0);break;case"End":e.preventDefault(),te();break;case"Enter":{e.preventDefault();let t=W();if(t){let e=new Event(k);t.dispatchEvent(e)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:T},s),Q(r,e=>o.createElement(C.Provider,{value:V},o.createElement(N.Provider,{value:$},e))))}),D=o.forwardRef((r,n)=>{var l,a;let u=e(),c=o.useRef(null),d=o.useContext(j),s=R(),f=B(r),m=null!=(a=null==(l=f.current)?void 0:l.forceMount)?a:null==d?void 0:d.forceMount;G(()=>{if(!m)return s.item(u,null==d?void 0:d.id)},[m]);let p=W(u,c,[r.value,r.children,c],r.keywords),v=A(),h=H(e=>e.value&&e.value===p.current),g=H(e=>!(!m&&!1!==s.filter())||(!e.search||e.filtered.items.get(u)>0));function b(){var e,t;y(),null==(t=(e=f.current).onSelect)||t.call(e,p.current)}function y(){v.setState("value",p.current,!0)}if(o.useEffect(()=>{let e=c.current;if(e&&!r.disabled)return e.addEventListener(k,b),()=>e.removeEventListener(k,b)},[g,r.onSelect,r.disabled]),!g)return null;let{disabled:w,value:x,onSelect:E,forceMount:S,keywords:I,...N}=r;return o.createElement(t.div,{ref:i(c,n),...N,id:u,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||s.getDisablePointerSelection()?void 0:y,onClick:w?void 0:b},r.children)}),P=o.forwardRef((r,n)=>{let{heading:l,children:a,forceMount:u,...c}=r,d=e(),s=o.useRef(null),f=o.useRef(null),m=e(),p=R(),v=H(e=>!(!u&&!1!==p.filter())||(!e.search||e.filtered.groups.has(d)));G(()=>p.group(d),[]),W(d,s,[r.value,r.heading,f]);let h=o.useMemo(()=>({id:d,forceMount:u}),[u]);return o.createElement(t.div,{ref:i(s,n),...c,"cmdk-group":"",role:"presentation",hidden:!v||void 0},l&&o.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:m},l),Q(r,e=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":l?m:void 0},o.createElement(j.Provider,{value:h},e))))}),L=o.forwardRef((e,r)=>{let{alwaysRender:n,...l}=e,a=o.useRef(null),u=H(e=>!e.search);return n||u?o.createElement(t.div,{ref:i(a,r),...l,"cmdk-separator":"",role:"separator"}):null}),V=o.forwardRef((e,r)=>{let{onValueChange:n,...l}=e,a=null!=e.value,i=A(),u=H(e=>e.search),c=H(e=>e.selectedItemId),d=R();return o.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),o.createElement(t.input,{ref:r,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:a?e.value:u,onChange:e=>{a||i.setState("search",e.target.value),null==n||n(e.target.value)}})}),$=o.forwardRef((e,r)=>{let{children:n,label:l="Suggestions",...a}=e,u=o.useRef(null),c=o.useRef(null),d=H(e=>e.selectedItemId),s=R();return o.useEffect(()=>{if(c.current&&u.current){let e,t=c.current,r=u.current,n=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;r.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return n.observe(t),()=>{cancelAnimationFrame(e),n.unobserve(t)}}},[]),o.createElement(t.div,{ref:i(u,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":l,id:s.listId},Q(e,e=>o.createElement("div",{ref:i(c,s.listInnerRef),"cmdk-list-sizer":""},e)))}),F=o.forwardRef((e,t)=>{let{open:i,onOpenChange:u,overlayClassName:c,contentClassName:d,container:s,...f}=e;return o.createElement(r,{open:i,onOpenChange:u},o.createElement(n,{container:s},o.createElement(l,{"cmdk-overlay":"",className:c}),o.createElement(a,{"aria-label":e.label,"cmdk-dialog":"",className:d},o.createElement(M,{ref:t,...f}))))}),K=o.forwardRef((e,r)=>H(e=>0===e.filtered.count)?o.createElement(t.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),_=o.forwardRef((e,r)=>{let{progress:n,children:l,label:a="Loading...",...i}=e;return o.createElement(t.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Q(e,e=>o.createElement("div",{"aria-hidden":!0},e)))}),O=Object.assign(M,{List:$,Item:D,Input:V,Group:P,Separator:L,Dialog:F,Empty:K,Loading:_});function q(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function z(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function B(e){let t=o.useRef(e);return G(()=>{t.current=e}),t}var G="undefined"==typeof window?o.useEffect:o.useLayoutEffect;function U(e){let t=o.useRef();return void 0===t.current&&(t.current=e()),t}function H(e){let t=A(),r=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,r,r)}function W(e,t,r,n=[]){let l=o.useRef(),a=R();return G(()=>{var i;let u=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),o=n.map(e=>e.trim());a.value(e,u,o),null==(i=t.current)||i.setAttribute(S,u),l.current=u}),l}var J=()=>{let[e,t]=o.useState(),r=U(()=>new Map);return G(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}};function Q({asChild:e,children:t},r){return e&&o.isValidElement(t)?o.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},r(t.props.children)):r(t)}var T={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const X=o.forwardRef(({className:e,...t},r)=>u.jsx(O,{ref:r,className:c("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));X.displayName=O.displayName;const Y=o.forwardRef(({className:e,...t},r)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(d,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(O.Input,{ref:r,className:c("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Y.displayName=O.Input.displayName;const Z=o.forwardRef(({className:e,...t},r)=>u.jsx(O.List,{ref:r,className:c("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Z.displayName=O.List.displayName;const ee=o.forwardRef((e,t)=>u.jsx(O.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ee.displayName=O.Empty.displayName;const te=o.forwardRef(({className:e,...t},r)=>u.jsx(O.Group,{ref:r,className:c("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));te.displayName=O.Group.displayName;o.forwardRef(({className:e,...t},r)=>u.jsx(O.Separator,{ref:r,className:c("-mx-1 h-px bg-border",e),...t})).displayName=O.Separator.displayName;const re=o.forwardRef(({className:e,...t},r)=>u.jsx(O.Item,{ref:r,className:c("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));re.displayName=O.Item.displayName;export{X as C,Y as a,Z as b,ee as c,te as d,re as e};
