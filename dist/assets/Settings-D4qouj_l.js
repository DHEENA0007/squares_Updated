import{j as e}from"./ui-DHQhougw.js";import{R as s,r as a}from"./router-Bi51YGN-.js";import{z as t,a as i,b as r,c as l,ak as n,e as c,M as o,ar as d,B as m,aN as x,a1 as u,ay as h,O as p,t as j,al as f,f as g,w as y,ai as v,a3 as N,a4 as w,a5 as b,aj as C,aO as k,S,q as A,r as P,s as D,v as E}from"./index-BXXWUbfo.js";import{S as T}from"./separator-C-jEpWts.js";import{S as U}from"./switch-gPaYyzTs.js";import{u as q}from"./use-mobile-WsBtvUz6.js";import{A as M,a as R,b as F,c as z,d as I,e as V,f as L,g as $,h as O}from"./alert-dialog-Du5m8ixH.js";import{G as B}from"./globe-B4QOvrzl.js";import{C as G}from"./circle-alert-WA1ED3fi.js";import{P as J}from"./PasswordChangeDialog-C2GqNwuG.js";import{R as Y}from"./refresh-cw-DUgeGhzb.js";import{L as W}from"./lock-B-cXP0PW.js";import{S as H}from"./shield-CHxDQaVC.js";import{T as K}from"./triangle-alert-BuRzzfac.js";import{K as Z}from"./key-BVEnRQ1f.js";import{D as _}from"./dollar-sign-BULwVcJp.js";import{Z as Q}from"./zap-XenUpjSB.js";import{D as X}from"./download-Bvo_1xrg.js";import{T as ee}from"./trash-2-Vx1507RH.js";import"./vendor-eVk5PToZ.js";import"./alert-BttjhXFF.js";import"./input-otp-BDIMnETh.js";import"./eye-off-BZIe8XtF.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=t("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),ae=t("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),te=t("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),ie=({preferences:a,onChange:t,onTestPushNotification:x,onTestEmail:u,showTestButtons:h=!1,supportEmail:p="support@buildhomemartsquares.com"})=>{const j=[{key:"email",icon:o,color:"text-blue-500",title:"Email Notifications",description:"Receive updates and alerts via email",isCore:!0},{key:"push",icon:n,color:"text-purple-500",title:"Push Notifications",description:"Browser notifications for instant updates",isCore:!0},{key:"propertyAlerts",icon:te,color:"text-orange-500",title:"Property Alerts",description:"New properties matching your criteria",requiresEmail:!0},{key:"priceDrops",icon:d,color:"text-red-500",title:"Price Drop Alerts",description:"Notifications when saved properties drop in price",requiresEmail:!0},{key:"newMessages",icon:n,color:"text-indigo-500",title:"New Message Alerts",description:"Get notified when you receive new messages",requiresEmail:!0},{key:"newsUpdates",icon:B,color:"text-teal-500",title:"News & Updates",description:"Real estate market news and platform updates",requiresEmail:!0}],f=e=>e.requiresEmail&&!a.email;return e.jsx("div",{className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5"}),"Notification Preferences"]})}),e.jsx(c,{className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:j.map((i,r)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i.icon,{className:`w-5 h-5 ${i.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:i.title}),i.isCore&&e.jsx(m,{variant:"outline",className:"text-xs",children:"Core"}),f(i)&&e.jsx(m,{variant:"secondary",className:"text-xs",children:"Requires Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),f(i)&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(G,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:"Enable email notifications first"})]})]})]}),e.jsx(U,{checked:a[i.key],onCheckedChange:e=>t(i.key,e),disabled:f(i)})]}),r<j.length-1&&e.jsx(T,{})]},i.key))})})]})})},re=()=>{const{theme:s,setTheme:t}=x(),{isConnected:o,lastEvent:d}=u(),G=q(),[te,re]=a.useState(!0),[le,ne]=a.useState(!1),[ce,oe]=a.useState(null),[de,me]=a.useState(!1),[xe,ue]=a.useState({notifications:{email:!0,push:!0,propertyAlerts:!0,priceDrops:!0,newMessages:!0,newsUpdates:!1},privacy:{allowMessages:!0,showActivity:!0,dataCollection:!0,marketingConsent:!1,thirdPartySharing:!1},security:{twoFactorEnabled:!1,loginAlerts:!0,sessionTimeout:"30"},preferences:{language:"en",currency:"INR",timezone:"Asia/Kolkata",autoSave:!0,emailDigest:"weekly",theme:s||"system"}}),he=a.useCallback((e,s,a)=>{ue(t=>({...t,[e]:{...t[e],[s]:a}})),("security"===e||"privacy"===e&&["dataCollection"].includes(s))&&ye(e,s,a)},[]);a.useEffect(()=>{je()},[]);const pe=a.useCallback(()=>{oe((new Date).toISOString()),je()},[]);h("settings_updated",pe),a.useEffect(()=>{if(xe.preferences.autoSave&&!te){const e=setTimeout(()=>{fe()},1500);return()=>clearTimeout(e)}},[xe,te]);const je=async()=>{try{re(!0);const a=localStorage.getItem("userSettings");if(a){const e=JSON.parse(a);ue(s=>({...s,...e})),t(e.preferences?.theme||s)}try{const e=await p.getCurrentUser();if(e.success&&e.data.user.profile?.preferences){const s=e.data.user.profile.preferences,a={notifications:{...xe.notifications,...s.notifications||{}},privacy:{...xe.privacy,...s.privacy||{}},security:{...xe.security,...s.security||{}},preferences:{...xe.preferences,language:s.language||xe.preferences.language,currency:s.currency||xe.preferences.currency,theme:s.theme||xe.preferences.theme}};ue(a),localStorage.setItem("userSettings",JSON.stringify(a))}}catch(e){}}catch(a){j({title:"Settings Loaded Locally",description:"Using saved settings. Will update when connection is restored.",variant:"default"})}finally{re(!1)}},fe=async()=>{try{ne(!0);const t=ge(xe);t.isValid||j({title:"Validation Warning",description:t.message,variant:"default"});let i=null;try{const e=await p.getCurrentUser();i=e.data.user.profile?.address||null}catch(e){}const r={profile:{preferences:{language:xe.preferences.language,currency:xe.preferences.currency,theme:s,notifications:{email:xe.notifications.email,push:xe.notifications.push,propertyAlerts:xe.notifications.propertyAlerts,priceDrops:xe.notifications.priceDrops,newMessages:xe.notifications.newMessages,newsUpdates:xe.notifications.newsUpdates},privacy:{showActivity:xe.privacy.showActivity,dataCollection:xe.privacy.dataCollection,marketingConsent:xe.privacy.marketingConsent,thirdPartySharing:xe.privacy.thirdPartySharing},autoSave:xe.preferences.autoSave,emailDigest:xe.preferences.emailDigest,timezone:xe.preferences.timezone}}};i&&(r.profile.address=i);try{if(!(await p.updateUserPreferences(r)).success)throw new Error("Failed to save settings");localStorage.setItem("userSettings",JSON.stringify(xe)),oe((new Date).toISOString()),j({title:"âœ… Settings Saved",description:"Your preferences have been updated successfully."})}catch(a){localStorage.setItem("userSettings",JSON.stringify(xe)),j({title:"Saved Locally",description:"Settings saved on your device. Will update when you're back online.",variant:"default"})}}catch(t){j({title:"Save Failed",description:t.message||"Unable to save settings.",variant:"destructive"})}finally{ne(!1)}},ge=e=>!e.notifications.email||e.notifications.propertyAlerts||e.notifications.priceDrops||e.notifications.newMessages?e.security.twoFactorEnabled&&!e.security.loginAlerts?{isValid:!1,message:"2FA enabled but login alerts disabled. Consider enabling login alerts for better security."}:{isValid:!0,message:""}:{isValid:!1,message:"Email enabled but no notification types selected. Consider enabling specific alerts."},ye=async(e,s,a)=>{try{const t={profile:{preferences:{[e]:{...xe[e],[s]:a}}}};if((await p.updateUserPreferences(t)).success){const t=s.replace(/([A-Z])/g," $1").toLowerCase(),i="boolean"==typeof a?a?"enabled":"disabled":"updated";j({title:`${e.charAt(0).toUpperCase()+e.slice(1)} Updated`,description:`${t} has been ${i}.`})}}catch(t){j({title:"Update Failed",description:"Change will be saved when connection is restored.",variant:"destructive"})}};return te?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Loading settings..."})]})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsxs("div",{className:"flex "+(G?"flex-col gap-4":"justify-between items-center"),children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-bold tracking-tight flex items-center gap-2 "+(G?"text-2xl":"text-3xl"),children:[e.jsx(f,{className:"w-8 h-8 text-primary"}),"Account Settings"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage your account preferences and notification settings.",e.jsx("span",{className:"font-medium ml-1",children:"View your Profile for personal information."})]})]}),e.jsxs("div",{className:"flex gap-2 "+(G?"flex-col w-full":""),children:[e.jsxs(g,{variant:"outline",onClick:()=>window.location.href="/customer/profile",className:"border-blue-200 text-blue-700 hover:bg-blue-50 "+(G?"w-full":""),children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Profile"]}),e.jsxs(g,{variant:"outline",onClick:je,disabled:te,className:G?"w-full":"",children:[e.jsx(Y,{className:"w-4 h-4 mr-2 "+(te?"animate-spin":"")}),te?"Refreshing...":"Refresh"]}),!xe.preferences.autoSave&&e.jsx(g,{onClick:fe,disabled:le,className:G?"w-full":"",children:le?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}),e.jsxs(N,{defaultValue:"notifications",className:"space-y-6",children:[e.jsxs(w,{className:"grid w-full grid-cols-4 "+(G?"gap-1":"gap-2"),children:[e.jsxs(b,{value:"notifications",className:"flex items-center gap-2 "+(G?"text-xs":""),children:[e.jsx(n,{className:"w-4 h-4"}),G?"Notifs":"Notifications"]}),e.jsxs(b,{value:"privacy",className:"flex items-center gap-2 "+(G?"text-xs":""),children:[e.jsx(W,{className:"w-4 h-4"}),"Privacy"]}),e.jsxs(b,{value:"security",className:"flex items-center gap-2 "+(G?"text-xs":""),children:[e.jsx(H,{className:"w-4 h-4"}),"Security"]}),e.jsxs(b,{value:"preferences",className:"flex items-center gap-2 "+(G?"text-xs":""),children:[e.jsx(ae,{className:"w-4 h-4"}),"Display"]})]}),e.jsx(C,{value:"notifications",className:"space-y-6",children:e.jsx(ie,{preferences:xe.notifications,onChange:(e,s)=>he("notifications",e,s),onTestPushNotification:async()=>{try{await k.requestPushPermission()?(await k.testNotification(),j({title:"âœ… Test Notification Sent",description:"Check your browser notifications."})):j({title:"Permission Required",description:"Enable browser notifications for push alerts.",variant:"destructive"})}catch(e){j({title:"Test Failed",description:"Unable to send test notification.",variant:"destructive"})}},onTestEmail:async()=>{try{j({title:"âœ… Test Email Sent",description:"Check support@buildhomemartsquares.com"})}catch(e){j({title:"Test Failed",description:"Unable to send test email.",variant:"destructive"})}},showTestButtons:!0,supportEmail:"support@buildhomemartsquares.com"})}),e.jsx(C,{value:"privacy",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(r,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Privacy Settings"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Control your privacy and data preferences."})]}),e.jsxs(c,{className:"space-y-4",children:[[{key:"showActivity",title:"Activity Status",description:"Show when you were last active",value:xe.privacy.showActivity},{key:"dataCollection",title:"Analytics & Data Collection",description:"Anonymous usage analytics for improvements",value:xe.privacy.dataCollection},{key:"marketingConsent",title:"Marketing Communications",description:"Promotional emails and marketing content",value:xe.privacy.marketingConsent},{key:"thirdPartySharing",title:"Third-Party Sharing",description:"Anonymous data sharing with partners",value:xe.privacy.thirdPartySharing}].map((s,a)=>e.jsxs("div",{children:[e.jsxs("div",{className:`flex ${G?"flex-col gap-2":"items-center justify-between"} py-2`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsx(U,{checked:s.value,onCheckedChange:e=>he("privacy",s.key,e)})]}),a<3&&e.jsx(T,{className:"my-3"})]},s.key)),!xe.privacy.dataCollection&&e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(K,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Analytics Disabled"})]}),e.jsx("p",{className:"text-xs text-amber-700",children:"Personalized recommendations may not be available without analytics."})]}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mt-4",children:e.jsxs("div",{className:"flex "+(G?"flex-col gap-3":"items-center justify-between"),children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Personal Information"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Update your name, email, and contact details"})]}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>window.location.href="/customer/profile",className:"border-blue-300 text-blue-700 hover:bg-blue-100 "+(G?"w-full":""),children:"Go to Profile â†’"})]})})]})]})}),e.jsx(C,{value:"security",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 "+(G?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Security Settings"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:`flex ${G?"flex-col gap-2":"items-center justify-between"} py-2`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Extra security layer"})]}),e.jsxs("div",{className:"flex "+(G?"flex-col gap-2":"items-center gap-2"),children:[xe.security.twoFactorEnabled&&e.jsxs(m,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(H,{className:"w-3 h-3 mr-1"}),"Active"]}),e.jsx(U,{checked:xe.security.twoFactorEnabled,onCheckedChange:e=>{he("security","twoFactorEnabled",e),e&&j({title:"ðŸ” 2FA Setup Required",description:"Setup will begin after saving settings."})}})]})]}),e.jsx(T,{}),e.jsxs("div",{className:`flex ${G?"flex-col gap-2":"items-center justify-between"} py-2`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Login Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email alerts for new devices"})]}),e.jsx(U,{checked:xe.security.loginAlerts,onCheckedChange:e=>he("security","loginAlerts",e),disabled:!xe.notifications.email})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Session Timeout"}),e.jsxs(S,{value:xe.security.sessionTimeout,onValueChange:e=>he("security","sessionTimeout",e),children:[e.jsx(A,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(E,{value:"15",children:"15 minutes"}),e.jsx(E,{value:"30",children:"30 minutes"}),e.jsx(E,{value:"60",children:"1 hour"}),e.jsx(E,{value:"120",children:"2 hours"}),e.jsx(E,{value:"0",children:"Never expire"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-logout after inactivity"})]}),!xe.notifications.email&&xe.security.loginAlerts&&e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(K,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Email Required"})]}),e.jsx("p",{className:"text-xs text-amber-700",children:"Please enable email notifications to receive login alerts"})]})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5"}),"Password & Account"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs(g,{variant:"outline",className:"w-full",onClick:()=>me(!0),children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Change Password"]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Security Tips"})]}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"8+ characters with mixed case & symbols"}),e.jsx("li",{children:"Use unique passwords"}),e.jsx("li",{children:"Consider a password manager"}),e.jsx("li",{children:"Regular password changes"})]})]}),e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Delete Your Account"}),e.jsx("p",{className:"text-xs text-red-700",children:"Permanently remove your account"})]}),e.jsx(g,{size:"sm",variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",onClick:()=>{const e=document.querySelector('[data-value="preferences"]');e?.click()},children:"View Options â†’"})]})})]})]})]})}),e.jsx(C,{value:"preferences",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 "+(G?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"Language & Region"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Language"})]}),e.jsxs(S,{value:xe.preferences.language,onValueChange:e=>{he("preferences","language",e),j({title:"ðŸŒ Language Updated",description:"Interface language changed"})},children:[e.jsx(A,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(E,{value:"en",children:"English"}),e.jsx(E,{value:"hi",children:"à¤¹à¤¿à¤¨à¥à¤¦à¥€ (Hindi)"}),e.jsx(E,{value:"bn",children:"à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)"}),e.jsx(E,{value:"ta",children:"à®¤à®®à®¿à®´à¯ (Tamil)"}),e.jsx(E,{value:"te",children:"à°¤à±†à°²à±à°—à± (Telugu)"})]})]})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Currency"})]}),e.jsxs(S,{value:xe.preferences.currency,onValueChange:e=>he("preferences","currency",e),children:[e.jsx(A,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(E,{value:"INR",children:"â‚¹ Indian Rupee"}),e.jsx(E,{value:"USD",children:"$ US Dollar"}),e.jsx(E,{value:"EUR",children:"â‚¬ Euro"}),e.jsx(E,{value:"GBP",children:"Â£ British Pound"})]})]})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Theme"})]}),e.jsxs(S,{value:s,onValueChange:e=>{t(e),he("preferences","theme",e),j({title:"Theme Updated",description:`Switched to ${e} mode`})},children:[e.jsx(A,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(E,{value:"light",children:"â˜€ï¸ Light Mode"}),e.jsx(E,{value:"dark",children:"ðŸŒ™ Dark Mode"}),e.jsx(E,{value:"system",children:"ðŸ’» System Default"})]})]})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Timezone"})]}),e.jsxs(S,{value:xe.preferences.timezone,onValueChange:e=>he("preferences","timezone",e),children:[e.jsx(A,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(E,{value:"Asia/Kolkata",children:"ðŸ‡®ðŸ‡³ India (IST)"}),e.jsx(E,{value:"UTC",children:"ðŸŒ UTC"})]})]})]})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5"}),"General Preferences"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:`flex ${G?"flex-col gap-2":"items-center justify-between"} py-2`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Auto-save"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Save changes automatically"})]}),e.jsx(U,{checked:xe.preferences.autoSave,onCheckedChange:e=>{he("preferences","autoSave",e),j({title:e?"Auto-save Enabled":"Manual Save Required",description:e?"Changes will save automatically":"Use the Save button to save changes"})}})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Email Digest"}),e.jsxs(S,{value:xe.preferences.emailDigest,onValueChange:e=>he("preferences","emailDigest",e),children:[e.jsx(A,{children:e.jsx(P,{})}),e.jsxs(D,{children:[e.jsx(E,{value:"daily",children:"ðŸ“§ Daily"}),e.jsx(E,{value:"weekly",children:"ðŸ“¬ Weekly"}),e.jsx(E,{value:"monthly",children:"ðŸ“® Monthly"}),e.jsx(E,{value:"never",children:"ðŸš« Never"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency of summary emails"})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium",children:"Your Data"}),e.jsxs(g,{variant:"outline",size:"sm",className:"w-full",onClick:async()=>{try{j({title:"ðŸ“¦ Preparing Export",description:"Gathering your data..."}),await new Promise(e=>setTimeout(e,1500)),j({title:"âœ… Export Ready",description:"Download will begin shortly"})}catch(e){j({title:"Export Failed",description:"Unable to export data. Please try again later.",variant:"destructive"})}},children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Download My Data"]}),e.jsxs(g,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{localStorage.removeItem("dynamicUserSettings"),j({title:"Cache Cleared",description:"Stored data cleared. Please refresh the page."})},children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Clear Stored Data"]})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-destructive",children:"Account Management"}),e.jsxs(g,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Temporarily Deactivate"]}),e.jsxs(M,{children:[e.jsx(R,{asChild:!0,children:e.jsxs(g,{variant:"destructive",size:"sm",className:"w-full",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Permanently Delete Account"]})}),e.jsxs(F,{children:[e.jsxs(z,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-destructive"}),"Delete Account Permanently?"]}),e.jsx(V,{children:"This will permanently delete your account, including all your properties, messages, and saved data. You'll receive a confirmation email at support@buildhomemartsquares.com"})]}),e.jsxs(L,{className:G?"flex-col gap-2":"",children:[e.jsx($,{className:G?"w-full":"",children:"Cancel"}),e.jsx(O,{onClick:async()=>{try{j({title:"ðŸ—‘ï¸ Processing Request",description:"Initiating account deletion..."}),await new Promise(e=>setTimeout(e,1500));const e=await p.getCurrentUser();j({title:"ðŸ“§ Confirmation Required",description:`Confirmation link sent to ${e?.data?.user?.email||"your email"}`,variant:"destructive"})}catch(e){j({title:"Request Failed",description:"Please contact support for assistance.",variant:"destructive"})}},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 "+(G?"w-full":""),children:"Yes, Delete Forever"})]})]})]})]})]})]})]})})]}),e.jsx(J,{open:de,onOpenChange:me})]})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{re as default};
