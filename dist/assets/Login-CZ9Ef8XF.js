import{j as e}from"./ui-CEt46o3G.js";import{d as j,u as b,r as o}from"./router-2SVJvIbS.js";import{u as v,N,I as m,a as y,F as w,t as S}from"./index-CiYV0Sy0.js";import{L as u}from"./label-BV_cIshD.js";import"./vendor-Dazix4UH.js";const P=()=>{const a=j(),x=b(),{login:p}=v(),[r,h]=o.useState(""),[t,f]=o.useState(""),[n,i]=o.useState(!1),l=x.state?.from?.pathname||null,g=async s=>{if(s.preventDefault(),!r||!t){S({title:"Validation Error",description:"Please enter both email and password",variant:"destructive"});return}i(!0);try{if(await p(r,t))if(l)a(l,{replace:!0});else{const d=JSON.parse(localStorage.getItem("user")||"{}");d.role==="admin"||d.role==="superadmin"?a("/admin/dashboard"):a("/customer/dashboard")}}catch(c){console.error("Login error:",c)}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(N,{}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-center text-muted-foreground mb-8",children:"Sign in to your BuildHomeMart account"}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",placeholder:"you@example.com",required:!0,value:r,onChange:s=>h(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{htmlFor:"password",children:"Password"}),e.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),e.jsx(m,{id:"password",type:"password",placeholder:"Enter your password",required:!0,value:t,onChange:s=>f(s.target.value)})]}),e.jsx(y,{type:"submit",className:"w-full",disabled:n,children:n?"Signing In...":"Sign In"})]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Don't have an account?"," ",e.jsx("a",{href:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})})}),e.jsx(w,{})]})};export{P as default};
