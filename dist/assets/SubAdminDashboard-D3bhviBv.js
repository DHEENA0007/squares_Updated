import{j as e}from"./ui-DHQhougw.js";import{r as s}from"./router-Bi51YGN-.js";import{$ as t,ay as r,a,b as d,c as l,p as i,e as c,U as n,C as o,m as x,d as m}from"./index-BXXWUbfo.js";import{s as p}from"./subAdminService-CtjTAgFL.js";import"./vendor-eVk5PToZ.js";const j=()=>{const[j,h]=s.useState(null),[u,f]=s.useState(!0),{toast:g}=t();s.useEffect(()=>{N()},[]);const N=async()=>{try{const e=await p.getDashboardStats();h(e)}catch(e){g({title:"Error",description:e.message||"Failed to fetch dashboard stats",variant:"destructive"})}finally{f(!1)}};return r("property_created",()=>{N()}),r("property_approved",()=>{N()}),r("property_rejected",()=>{N()}),r("support_ticket_created",()=>{N()}),r("support_ticket_updated",()=>{N()}),u?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sub Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Content moderation and support management overview"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(s=>e.jsx(a,{children:e.jsxs(d,{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},s))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sub Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Content moderation and support management overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Properties"}),e.jsx(i,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j?.totalProperties||0}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsxs("p",{className:"text-xs text-green-600",children:[j?.availableProperties||0," Available"]}),e.jsxs("p",{className:"text-xs text-yellow-600",children:[j?.pendingProperties||0," Pending"]}),e.jsxs("p",{className:"text-xs text-red-600",children:[j?.rejectedProperties||0," Rejected"]})]})]})]}),e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(n,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j?.totalUsers||0}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs("p",{className:"text-xs text-blue-600",children:[j?.vendorUsers||0," Vendors"]}),e.jsxs("p",{className:"text-xs text-purple-600",children:[j?.customerUsers||0," Customers"]})]})]})]}),e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j?.totalViews?.toLocaleString()||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Property page views"})]})]}),e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Support Tickets"}),e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j?.totalSupport||0}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs("p",{className:"text-xs text-orange-600",children:[j?.openSupport||0," Open"]}),e.jsxs("p",{className:"text-xs text-green-600",children:[j?.resolvedSupport||0," Resolved"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsxs(d,{children:[e.jsx(l,{children:"Quick Actions"}),e.jsx(m,{children:"Common tasks for content moderation"})]}),e.jsxs(c,{className:"space-y-2",children:[e.jsxs("a",{href:"/subadmin/property-reviews",className:"block p-3 rounded-lg border hover:bg-accent transition-colors",children:[e.jsx("div",{className:"font-medium",children:"Review Properties"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[j?.pendingProperties," properties awaiting approval"]})]}),e.jsxs("a",{href:"/subadmin/support-tickets",className:"block p-3 rounded-lg border hover:bg-accent transition-colors",children:[e.jsx("div",{className:"font-medium",children:"Handle Support"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[j?.openSupport," open tickets"]})]})]})]}),e.jsxs(a,{children:[e.jsxs(d,{children:[e.jsx(l,{children:"Recent Activity"}),e.jsx(m,{children:"Latest content moderation activities"})]}),e.jsx(c,{children:e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(x,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No recent activity to display"})]})})]})]})]})};export{j as default};
