const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CiYV0Sy0.js","assets/ui-CEt46o3G.js","assets/router-2SVJvIbS.js","assets/vendor-Dazix4UH.js","assets/index-lz54DzMq.css"])))=>i.map(i=>d[i]);
import{N as K,B as X,a as u,F as Z,I as o,M as ee,b as se,t as x,_ as te}from"./index-CiYV0Sy0.js";import{j as e}from"./ui-CEt46o3G.js";import{d as re,r as p,L as w}from"./router-2SVJvIbS.js";import{L as a}from"./label-BV_cIshD.js";import{T}from"./textarea-BbecYreM.js";import{C as c,a as j,b as N,c as ae,d as l}from"./card-YvDMUmzt.js";import{S as A,a as D,b as E,c as R,d as f}from"./select-BHWxeluH.js";import{C as B}from"./checkbox-6USSAlb1.js";import{E as ie}from"./EnhancedLocationSelector-5QzPfpiR.js";import{S as ne}from"./store-BrQV2yZw.js";import{C as P}from"./circle-check-big-CdpP5k9T.js";import{C as oe}from"./clock-oZpCo30L.js";import{S as q}from"./shield-CFIF9xqz.js";import{U as de}from"./upload-D388xALl.js";import{F as S}from"./file-text-BHu0z9sa.js";import{M as ce}from"./mail-hCxVaHOS.js";import{P as le}from"./phone-BlyPoB6i.js";import{L as U}from"./lock-DY62iqoZ.js";import{E as V}from"./eye-off-Cr48i-r0.js";import{E as O}from"./eye-CDS1ofgA.js";import"./vendor-Dazix4UH.js";import"./index-BdQq_4o_.js";import"./index-DHzxUTm5.js";import"./chevron-down-DeDu0PPf.js";import"./command-O7w0ihSy.js";import"./dialog-B2oiH0OC.js";import"./popover-lkJ8tobj.js";import"./globe-CegXA2qw.js";const Ve=()=>{const _=re(),[n,k]=p.useState(1),[F,L]=p.useState(!1),[g,M]=p.useState(!1),[y,$]=p.useState(!1),[s,I]=p.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",businessName:"",businessType:"",businessDescription:"",experience:"",address:"",country:"India",countryCode:"IN",state:"",stateCode:"",district:"",districtCode:"",city:"",cityCode:"",pincode:"",licenseNumber:"",gstNumber:"",panNumber:"",documents:[],termsAccepted:!1,marketingConsent:!1}),[m,z]=p.useState({businessRegistration:null,professionalLicense:null,identityProof:null}),Y=["Real Estate Agent","Property Developer","Construction Company","Interior Designer","Legal Services","Home Loan Provider","Packers & Movers","Property Management","Other"],b=[{id:1,title:"Personal Info",description:"Basic details"},{id:2,title:"Business Info",description:"Company details"},{id:3,title:"Address",description:"Location details"},{id:4,title:"Documents",description:"Verification"},{id:5,title:"Review",description:"Confirm details"}],i=(t,r)=>{I(d=>({...d,[t]:r}))},v=async(t,r)=>{if(r)try{const d=new FormData;d.append("file",r),d.append("folder","vendor-documents");const h=await(await fetch("https://squares-9d84.onrender.com/api/upload/single",{method:"POST",body:d})).json();if(h.success)z(C=>({...C,[t]:{name:r.name,url:h.data.url,size:r.size}})),x({title:"Document Uploaded",description:`${r.name} has been uploaded successfully.`});else throw new Error(h.message||"Upload failed")}catch(d){console.error("Document upload error:",d),x({title:"Upload Failed",description:`Failed to upload ${r.name}. Please try again.`,variant:"destructive"})}},G=()=>{n<5&&k(n+1)},H=()=>{n>1&&k(n-1)},J=async t=>{if(t.preventDefault(),!s.termsAccepted){x({title:"Terms Required",description:"Please accept the terms and conditions to continue",variant:"destructive"});return}if(s.password!==s.confirmPassword){x({title:"Password Mismatch",description:"Passwords do not match. Please check and try again.",variant:"destructive"});return}L(!0);try{const{authService:r}=await te(async()=>{const{authService:h}=await import("./index-CiYV0Sy0.js").then(C=>C.a7);return{authService:h}},__vite__mapDeps([0,1,2,3,4])),d={email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName,phone:s.phone,role:"agent",agreeToTerms:s.termsAccepted,businessInfo:{businessName:s.businessName,businessType:s.businessType,businessDescription:s.businessDescription,experience:s.experience,address:s.address,country:s.country,countryCode:s.countryCode,state:s.state,stateCode:s.stateCode,district:s.district,districtCode:s.districtCode,city:s.city,cityCode:s.cityCode,pincode:s.pincode,licenseNumber:s.licenseNumber,gstNumber:s.gstNumber,panNumber:s.panNumber},documents:m};(await r.register(d)).success&&(x({title:"Registration Successful!",description:"Your vendor account has been created. Please log in to access your dashboard."}),setTimeout(()=>{_("/vendor/login")},2e3))}catch(r){console.error("Vendor registration error:",r),x({title:"Registration Failed",description:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{L(!1)}},W=()=>{switch(n){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"firstName",children:"First Name"}),e.jsx(o,{id:"firstName",value:s.firstName,onChange:t=>i("firstName",t.target.value),placeholder:"John",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"lastName",children:"Last Name"}),e.jsx(o,{id:"lastName",value:s.lastName,onChange:t=>i("lastName",t.target.value),placeholder:"Doe",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(o,{id:"email",type:"email",value:s.email,onChange:t=>i("email",t.target.value),placeholder:"john@example.com",className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(o,{id:"phone",type:"tel",value:s.phone,onChange:t=>i("phone",t.target.value),placeholder:"+91 98765 43210",className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(o,{id:"password",type:g?"text":"password",value:s.password,onChange:t=>i("password",t.target.value),placeholder:"Create a strong password",className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>M(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:g?e.jsx(V,{className:"h-5 w-5"}):e.jsx(O,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(o,{id:"confirmPassword",type:y?"text":"password",value:s.confirmPassword,onChange:t=>i("confirmPassword",t.target.value),placeholder:"Confirm your password",className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>$(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:y?e.jsx(V,{className:"h-5 w-5"}):e.jsx(O,{className:"h-5 w-5"})})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"businessName",children:"Business Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(o,{id:"businessName",value:s.businessName,onChange:t=>i("businessName",t.target.value),placeholder:"Your Business Name",className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"businessType",children:"Business Type"}),e.jsxs(A,{value:s.businessType,onValueChange:t=>i("businessType",t),children:[e.jsx(D,{children:e.jsx(E,{placeholder:"Select business type"})}),e.jsx(R,{children:Y.map(t=>e.jsx(f,{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"experience",children:"Years of Experience"}),e.jsxs(A,{value:s.experience,onValueChange:t=>i("experience",t),children:[e.jsx(D,{children:e.jsx(E,{placeholder:"Select experience"})}),e.jsxs(R,{children:[e.jsx(f,{value:"0-1",children:"0-1 years"}),e.jsx(f,{value:"2-5",children:"2-5 years"}),e.jsx(f,{value:"6-10",children:"6-10 years"}),e.jsx(f,{value:"10+",children:"10+ years"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"businessDescription",children:"Business Description"}),e.jsx(T,{id:"businessDescription",value:s.businessDescription,onChange:t=>i("businessDescription",t.target.value),placeholder:"Describe your business, services, and expertise...",rows:4,required:!0})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"address",children:"Street Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),e.jsx(T,{id:"address",value:s.address,onChange:t=>i("address",t.target.value),placeholder:"Complete business address (building, street, area)",className:"pl-10",rows:3,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Location Details"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Select your business location from the dropdown menus"}),e.jsx(ie,{value:{country:s.country,countryCode:s.countryCode,state:s.state,stateCode:s.stateCode,district:s.district,districtCode:s.districtCode,city:s.city,cityCode:s.cityCode},onChange:t=>{I(r=>({...r,country:t.country||"India",countryCode:t.countryCode||"IN",state:t.state||"",stateCode:t.stateCode||"",district:t.district||"",districtCode:t.districtCode||"",city:t.city||"",cityCode:t.cityCode||""}))},showLabels:!0,placeholder:{state:"Select your state...",district:"Select your district...",city:"Select your city..."},showValidation:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(o,{id:"pincode",value:s.pincode,onChange:t=>i("pincode",t.target.value),placeholder:"Enter 6-digit PIN code (e.g., 400001)",maxLength:6,pattern:"[0-9]{6}",required:!0})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Document Verification"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload required documents for verification"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"licenseNumber",children:"Professional License Number"}),e.jsx(o,{id:"licenseNumber",value:s.licenseNumber,onChange:t=>i("licenseNumber",t.target.value),placeholder:"RERA/Professional License Number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"gstNumber",children:"GST Number (Optional)"}),e.jsx(o,{id:"gstNumber",value:s.gstNumber,onChange:t=>i("gstNumber",t.target.value),placeholder:"GST Registration Number"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"panNumber",children:"PAN Number"}),e.jsx(o,{id:"panNumber",value:s.panNumber,onChange:t=>i("panNumber",t.target.value),placeholder:"PAN Card Number",required:!0})]}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx(S,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"font-medium mb-1",children:"Business Registration Certificate"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload your business registration or incorporation certificate"}),e.jsx("input",{id:"business-registration",type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:t=>{const r=t.target.files?.[0];r&&v("businessRegistration",r)}}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>document.getElementById("business-registration")?.click(),children:"Choose File"}),m.businessRegistration&&e.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["✓ ",m.businessRegistration.name]})]}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx(S,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"font-medium mb-1",children:"Professional License (Optional)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload relevant professional licenses or certifications"}),e.jsx("input",{id:"professional-license",type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:t=>{const r=t.target.files?.[0];r&&v("professionalLicense",r)}}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>document.getElementById("professional-license")?.click(),children:"Choose File"}),m.professionalLicense&&e.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["✓ ",m.professionalLicense.name]})]}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx(S,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"font-medium mb-1",children:"Identity Proof"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload Aadhaar card, PAN card, or passport"}),e.jsx("input",{id:"identity-proof",type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:t=>{const r=t.target.files?.[0];r&&v("identityProof",r)}}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>document.getElementById("identity-proof")?.click(),children:"Choose File"}),m.identityProof&&e.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["✓ ",m.identityProof.name]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Document Security"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200",children:"All documents are encrypted and stored securely. We only use them for verification purposes."})]})]})})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(P,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Application"}),e.jsx("p",{className:"text-muted-foreground",children:"Please review all information before submitting"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(c,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(N,{className:"text-sm",children:"Personal Information"})}),e.jsxs(l,{className:"pt-0 space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.firstName," ",s.lastName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.phone]})]})]}),e.jsxs(c,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(N,{className:"text-sm",children:"Business Information"})}),e.jsxs(l,{className:"pt-0 space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Business Name:"})," ",s.businessName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",s.businessType]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Experience:"})," ",s.experience]})]})]}),e.jsxs(c,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(N,{className:"text-sm",children:"Address"})}),e.jsxs(l,{className:"pt-0 space-y-2 text-sm",children:[e.jsx("p",{children:s.address}),e.jsxs("p",{children:[[s.city,s.district,s.state,s.country].filter(Boolean).join(", "),s.pincode&&` - ${s.pincode}`]})]})]}),e.jsxs(c,{children:[e.jsx(j,{className:"pb-3",children:e.jsx(N,{className:"text-sm",children:"Legal Information"})}),e.jsxs(l,{className:"pt-0 space-y-2 text-sm",children:[s.licenseNumber&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"License Number:"})," ",s.licenseNumber]}),s.gstNumber&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"GST Number:"})," ",s.gstNumber]}),s.panNumber&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"PAN Number:"})," ",s.panNumber]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"terms",checked:s.termsAccepted,onCheckedChange:t=>i("termsAccepted",t)}),e.jsxs(a,{htmlFor:"terms",className:"text-sm",children:["I agree to the"," ",e.jsx(w,{to:"/terms",className:"text-primary hover:underline",children:"Terms and Conditions"})," ","and"," ",e.jsx(w,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"marketing",checked:s.marketingConsent,onCheckedChange:t=>i("marketingConsent",t)}),e.jsx(a,{htmlFor:"marketing",className:"text-sm",children:"I consent to receive marketing communications and updates"})]})]})]});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(K,{}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(X,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Vendor Registration"]}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Join Our Vendor Network"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Complete the registration process to become a verified vendor partner"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:b.map((t,r)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 mb-2 ${n>=t.id?"bg-primary border-primary text-primary-foreground":"border-muted-foreground text-muted-foreground"}`,children:n>t.id?e.jsx(P,{className:"w-6 h-6"}):e.jsx("span",{className:"text-sm font-medium",children:t.id})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]}),r<b.length-1&&e.jsx("div",{className:`hidden md:block w-full h-0.5 mt-5 ${n>t.id?"bg-primary":"bg-muted"}`})]},t.id))})}),e.jsxs(c,{children:[e.jsxs(j,{children:[e.jsxs(N,{children:["Step ",n,": ",b[n-1].title]}),e.jsx(ae,{children:b[n-1].description})]}),e.jsx(l,{children:e.jsxs("form",{onSubmit:J,children:[W(),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(u,{type:"button",variant:"outline",onClick:H,disabled:n===1,children:"Previous"}),n<5?e.jsx(u,{type:"button",onClick:G,children:"Next"}):e.jsx(u,{type:"submit",disabled:F||!s.termsAccepted,children:F?"Submitting...":"Submit Application"})]})]})})]}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-3 gap-6",children:[e.jsx(c,{children:e.jsxs(l,{className:"p-6 text-center",children:[e.jsx(oe,{className:"w-8 h-8 text-primary mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Quick Review"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We'll review your application within 24-48 hours"})]})}),e.jsx(c,{children:e.jsxs(l,{className:"p-6 text-center",children:[e.jsx(q,{className:"w-8 h-8 text-primary mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Secure Process"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your data is encrypted and handled securely"})]})}),e.jsx(c,{children:e.jsxs(l,{className:"p-6 text-center",children:[e.jsx(P,{className:"w-8 h-8 text-primary mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Easy Setup"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Once approved, you'll get instant access to your dashboard"})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:["Already have a vendor account?"," ",e.jsx(w,{to:"/vendor/login",className:"text-primary hover:underline",children:"Sign in here"})]})})]})}),e.jsx(Z,{})]})};export{Ve as default};
