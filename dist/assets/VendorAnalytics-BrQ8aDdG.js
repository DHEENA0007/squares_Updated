import{j as s}from"./ui-CEt46o3G.js";import{R as v,r as F}from"./router-2SVJvIbS.js";import{C as ee,d as te,a as le,b as ce}from"./card-YvDMUmzt.js";import{a4 as V,t as ft,f as dr,a as ze,a0 as fr,K as qe,U as pr,B as mr,o as pt,z as mt}from"./index-CiYV0Sy0.js";import{S as ht,a as vt,b as yt,c as gt,d as re}from"./select-BHWxeluH.js";import{p as hr}from"./propertyService-vaYzuoi1.js";import{L as Ue}from"./loader-circle-Cj-dvH02.js";import{D as xt}from"./download-Cdv771o8.js";import{T as bt}from"./trending-up-BLutZFyR.js";import{f as N,r as Wt,c as vr,d as zt,e as yr,i as U,g as at,p as X,L as R,h as qt,j as it,k as Ut,D as ot,l as ge,m as H,n as G,S as gr,A as st,o as xr,q as B,s as Ee,t as M,u as lt,v as ct,G as ut,w as Ne,x as Ht,y as Gt,z as br,E as we,F as At,H as Ar,I as Yt,J as De,K as Oe,M as jr,N as dt,X as xe,Y as be,O as Xt,P as Pr,T as wr,R as Se,C as He,a as ke,B as Or,b as jt}from"./BarChart-DlCcmcGO.js";import{g as Zt}from"./vendor-Dazix4UH.js";import{C as _e}from"./clock-oZpCo30L.js";import{E as Ge}from"./eye-CDS1ofgA.js";import{P as Pt}from"./phone-BlyPoB6i.js";import{D as wt}from"./dollar-sign-DeqxH75V.js";import"./index-BdQq_4o_.js";import"./index-DHzxUTm5.js";import"./chevron-down-DeDu0PPf.js";var Sr=["points","className","baseLinePoints","connectNulls"];function de(){return de=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},de.apply(this,arguments)}function kr(r,e){if(r==null)return{};var n=_r(r,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function _r(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function Ot(r){return Dr(r)||Er(r)||Tr(r)||Nr()}function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tr(r,e){if(r){if(typeof r=="string")return Ze(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(r,e)}}function Er(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Dr(r){if(Array.isArray(r))return Ze(r)}function Ze(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var St=function(e){return e&&e.x===+e.x&&e.y===+e.y},$r=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(t){St(t)?n[n.length-1].push(t):n[n.length-1].length>0&&n.push([])}),St(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ae=function(e,n){var t=$r(e);n&&(t=[t.reduce(function(o,i){return[].concat(Ot(o),Ot(i))},[])]);var a=t.map(function(o){return o.reduce(function(i,l,u){return"".concat(i).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return t.length===1?"".concat(a,"Z"):a},Rr=function(e,n,t){var a=Ae(e,t);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ae(n.reverse(),t).slice(1))},Lr=function(e){var n=e.points,t=e.className,a=e.baseLinePoints,o=e.connectNulls,i=kr(e,Sr);if(!n||!n.length)return null;var l=V("recharts-polygon",t);if(a&&a.length){var u=i.stroke&&i.stroke!=="none",c=Rr(n,a,o);return v.createElement("g",{className:l},v.createElement("path",de({},N(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),u?v.createElement("path",de({},N(i,!0),{fill:"none",d:Ae(n,o)})):null,u?v.createElement("path",de({},N(i,!0),{fill:"none",d:Ae(a,o)})):null)}var d=Ae(n,o);return v.createElement("path",de({},N(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))},Ye,kt;function Ir(){if(kt)return Ye;kt=1;var r=Wt(),e=vr(),n=zt();function t(a,o){return a&&a.length?r(a,n(o,2),e):void 0}return Ye=t,Ye}var Cr=Ir();const Fr=Zt(Cr);var Xe,_t;function Br(){if(_t)return Xe;_t=1;var r=Wt(),e=zt(),n=yr();function t(a,o){return a&&a.length?r(a,e(o,2),n):void 0}return Xe=t,Xe}var Mr=Br();const Kr=Zt(Mr);var Vr=["cx","cy","angle","ticks","axisLine"],Wr=["ticks","tick","angle","tickFormatter","stroke"];function pe(r){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(r)}function je(){return je=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},je.apply(this,arguments)}function Nt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function ne(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nt(Object(n),!0).forEach(function(t){Fe(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Tt(r,e){if(r==null)return{};var n=zr(r,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function zr(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function qr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,Qt(t.key),t)}}function Ur(r,e,n){return e&&Et(r.prototype,e),n&&Et(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Hr(r,e,n){return e=$e(e),Gr(r,Jt()?Reflect.construct(e,n||[],$e(r).constructor):e.apply(r,n))}function Gr(r,e){if(e&&(pe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yr(r)}function Yr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Jt(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jt=function(){return!!r})()}function $e(r){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$e(r)}function Xr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Je(r,e)}function Je(r,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Je(r,e)}function Fe(r,e,n){return e=Qt(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Qt(r){var e=Zr(r,"string");return pe(e)=="symbol"?e:e+""}function Zr(r,e){if(pe(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(pe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Be=(function(r){function e(){return qr(this,e),Hr(this,e,arguments)}return Xr(e,r),Ur(e,[{key:"getTickValueCoord",value:function(t){var a=t.coordinate,o=this.props,i=o.angle,l=o.cx,u=o.cy;return X(l,u,a,i)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,a;switch(t){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var t=this.props,a=t.cx,o=t.cy,i=t.angle,l=t.ticks,u=Fr(l,function(d){return d.coordinate||0}),c=Kr(l,function(d){return d.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,o=t.cy,i=t.angle,l=t.ticks,u=t.axisLine,c=Tt(t,Vr),d=l.reduce(function(h,p){return[Math.min(h[0],p.coordinate),Math.max(h[1],p.coordinate)]},[1/0,-1/0]),f=X(a,o,d[0],i),y=X(a,o,d[1],i),x=ne(ne(ne({},N(c,!1)),{},{fill:"none"},N(u,!1)),{},{x1:f.x,y1:f.y,x2:y.x,y2:y.y});return v.createElement("line",je({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var t=this,a=this.props,o=a.ticks,i=a.tick,l=a.angle,u=a.tickFormatter,c=a.stroke,d=Tt(a,Wr),f=this.getTickTextAnchor(),y=N(d,!1),x=N(i,!1),h=o.map(function(p,g){var b=t.getTickValueCoord(p),A=ne(ne(ne(ne({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},y),{},{stroke:"none",fill:c},x),{},{index:g},b),{},{payload:p});return v.createElement(R,je({className:V("recharts-polar-radius-axis-tick",qt(i)),key:"tick-".concat(p.coordinate)},it(t.props,p,g)),e.renderTickItem(i,A,u?u(p.value,g):p.value))});return v.createElement(R,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var t=this.props,a=t.ticks,o=t.axisLine,i=t.tick;return!a||!a.length?null:v.createElement(R,{className:V("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),Ut.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,a,o){var i;return v.isValidElement(t)?i=v.cloneElement(t,a):U(t)?i=t(a):i=v.createElement(at,je({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])})(F.PureComponent);Fe(Be,"displayName","PolarRadiusAxis");Fe(Be,"axisType","radiusAxis");Fe(Be,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function me(r){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(r)}function ie(){return ie=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},ie.apply(this,arguments)}function Dt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function ae(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(n),!0).forEach(function(t){Me(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function Jr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,tr(t.key),t)}}function Qr(r,e,n){return e&&$t(r.prototype,e),n&&$t(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function en(r,e,n){return e=Re(e),tn(r,er()?Reflect.construct(e,n||[],Re(r).constructor):e.apply(r,n))}function tn(r,e){if(e&&(me(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rn(r)}function rn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function er(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(er=function(){return!!r})()}function Re(r){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Re(r)}function nn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Qe(r,e)}function Qe(r,e){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Qe(r,e)}function Me(r,e,n){return e=tr(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function tr(r){var e=an(r,"string");return me(e)=="symbol"?e:e+""}function an(r,e){if(me(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(me(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var on=Math.PI/180,Rt=1e-5,Ke=(function(r){function e(){return Jr(this,e),en(this,e,arguments)}return nn(e,r),Qr(e,[{key:"getTickLineCoord",value:function(t){var a=this.props,o=a.cx,i=a.cy,l=a.radius,u=a.orientation,c=a.tickSize,d=c||8,f=X(o,i,l,t.coordinate),y=X(o,i,l+(u==="inner"?-1:1)*d,t.coordinate);return{x1:f.x,y1:f.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(t){var a=this.props.orientation,o=Math.cos(-t.coordinate*on),i;return o>Rt?i=a==="outer"?"start":"end":o<-Rt?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,o=t.cy,i=t.radius,l=t.axisLine,u=t.axisLineType,c=ae(ae({},N(this.props,!1)),{},{fill:"none"},N(l,!1));if(u==="circle")return v.createElement(ot,ie({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:o,r:i}));var d=this.props.ticks,f=d.map(function(y){return X(a,o,i,y.coordinate)});return v.createElement(Lr,ie({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var t=this,a=this.props,o=a.ticks,i=a.tick,l=a.tickLine,u=a.tickFormatter,c=a.stroke,d=N(this.props,!1),f=N(i,!1),y=ae(ae({},d),{},{fill:"none"},N(l,!1)),x=o.map(function(h,p){var g=t.getTickLineCoord(h),b=t.getTickTextAnchor(h),A=ae(ae(ae({textAnchor:b},d),{},{stroke:"none",fill:c},f),{},{index:p,payload:h,x:g.x2,y:g.y2});return v.createElement(R,ie({className:V("recharts-polar-angle-axis-tick",qt(i)),key:"tick-".concat(h.coordinate)},it(t.props,h,p)),l&&v.createElement("line",ie({className:"recharts-polar-angle-axis-tick-line"},y,g)),i&&e.renderTickItem(i,A,u?u(h.value,p):h.value))});return v.createElement(R,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var t=this.props,a=t.ticks,o=t.radius,i=t.axisLine;return o<=0||!a||!a.length?null:v.createElement(R,{className:V("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,a,o){var i;return v.isValidElement(t)?i=v.cloneElement(t,a):U(t)?i=t(a):i=v.createElement(at,ie({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])})(F.PureComponent);Me(Ke,"displayName","PolarAngleAxis");Me(Ke,"axisType","angleAxis");Me(Ke,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Te;function he(r){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(r)}function fe(){return fe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},fe.apply(this,arguments)}function Lt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function D(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lt(Object(n),!0).forEach(function(t){K(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function sn(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function It(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,nr(t.key),t)}}function ln(r,e,n){return e&&It(r.prototype,e),n&&It(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function cn(r,e,n){return e=Le(e),un(r,rr()?Reflect.construct(e,n||[],Le(r).constructor):e.apply(r,n))}function un(r,e){if(e&&(he(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(r)}function dn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rr(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rr=function(){return!!r})()}function Le(r){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Le(r)}function fn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&et(r,e)}function et(r,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},et(r,e)}function K(r,e,n){return e=nr(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function nr(r){var e=pn(r,"string");return he(e)=="symbol"?e:e+""}function pn(r,e){if(he(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(he(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var J=(function(r){function e(n){var t;return sn(this,e),t=cn(this,e,[n]),K(t,"pieRef",null),K(t,"sectorRefs",[]),K(t,"id",ct("recharts-pie-")),K(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),U(a)&&a()}),K(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),U(a)&&a()}),t.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},t}return fn(e,r),ln(e,[{key:"isActiveIndex",value:function(t){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(t)!==-1:t===a}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,u=o.dataKey,c=o.valueKey,d=N(this.props,!1),f=N(i,!1),y=N(l,!1),x=i&&i.offsetRadius||20,h=t.map(function(p,g){var b=(p.startAngle+p.endAngle)/2,A=X(p.cx,p.cy,p.outerRadius+x,b),_=D(D(D(D({},d),p),{},{stroke:"none"},f),{},{index:g,textAnchor:e.getTextAnchor(A.x,p.cx)},A),w=D(D(D(D({},d),p),{},{fill:"none",stroke:p.fill},y),{},{index:g,points:[X(p.cx,p.cy,p.outerRadius,b),A]}),j=u;return H(u)&&H(c)?j="value":H(u)&&(j=c),v.createElement(R,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,w,"line"),e.renderLabelItem(i,_,G(p,j)))});return v.createElement(R,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(t){var a=this,o=this.props,i=o.activeShape,l=o.blendStroke,u=o.inactiveShape;return t.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&t.length!==1)return null;var f=a.isActiveIndex(d),y=u&&a.hasActiveIndex()?u:null,x=f?i:y,h=D(D({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return v.createElement(R,fe({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},it(a.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),v.createElement(gr,fe({option:x,isActive:f,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,a=this.props,o=a.sectors,i=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,c=a.animationEasing,d=a.animationId,f=this.state,y=f.prevSectors,x=f.prevIsAnimationActive;return v.createElement(st,{begin:l,duration:u,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var p=h.t,g=[],b=o&&o[0],A=b.startAngle;return o.forEach(function(_,w){var j=y&&y[w],S=w>0?xr(_,"paddingAngle",0):0;if(j){var T=B(j.endAngle-j.startAngle,_.endAngle-_.startAngle),k=D(D({},_),{},{startAngle:A+S,endAngle:A+T(p)+S});g.push(k),A=k.endAngle}else{var m=_.endAngle,P=_.startAngle,E=B(0,m-P),O=E(p),$=D(D({},_),{},{startAngle:A+S,endAngle:A+O+S});g.push($),A=$.endAngle}}),v.createElement(R,null,t.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(t){var a=this;t.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,a=t.sectors,o=t.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!Ee(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,a=this.props,o=a.hide,i=a.sectors,l=a.className,u=a.label,c=a.cx,d=a.cy,f=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,h=this.state.isAnimationFinished;if(o||!i||!i.length||!M(c)||!M(d)||!M(f)||!M(y))return null;var p=V("recharts-pie",l);return v.createElement(R,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){t.pieRef=b}},this.renderSectors(),u&&this.renderLabels(i),Ut.renderCallByParent(this.props,null,!1),(!x||h)&&lt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return a.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:t.sectors!==a.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,a){return t>a?"start":t<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,a,o){if(v.isValidElement(t))return v.cloneElement(t,a);if(U(t))return t(a);var i=V("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return v.createElement(ge,fe({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(t,a,o){if(v.isValidElement(t))return v.cloneElement(t,a);var i=o;if(U(t)&&(i=t(a),v.isValidElement(i)))return i;var l=V("recharts-pie-label-text",typeof t!="boolean"&&!U(t)?t.className:"");return v.createElement(at,fe({},a,{alignmentBaseline:"middle",className:l}),i)}}])})(F.PureComponent);Te=J;K(J,"displayName","Pie");K(J,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ut.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});K(J,"parseDeltaAngle",function(r,e){var n=Ne(e-r),t=Math.min(Math.abs(e-r),360);return n*t});K(J,"getRealPieData",function(r){var e=r.data,n=r.children,t=N(r,!1),a=Ht(n,Gt);return e&&e.length?e.map(function(o,i){return D(D(D({payload:o},t),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return D(D({},t),o.props)}):[]});K(J,"parseCoordinateOfPie",function(r,e){var n=e.top,t=e.left,a=e.width,o=e.height,i=br(a,o),l=t+we(r.cx,a,a/2),u=n+we(r.cy,o,o/2),c=we(r.innerRadius,i,0),d=we(r.outerRadius,i,i*.8),f=r.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:f}});K(J,"getComposedData",function(r){var e=r.item,n=r.offset,t=e.type.defaultProps!==void 0?D(D({},e.type.defaultProps),e.props):e.props,a=Te.getRealPieData(t);if(!a||!a.length)return null;var o=t.cornerRadius,i=t.startAngle,l=t.endAngle,u=t.paddingAngle,c=t.dataKey,d=t.nameKey,f=t.valueKey,y=t.tooltipType,x=Math.abs(t.minAngle),h=Te.parseCoordinateOfPie(t,n),p=Te.parseDeltaAngle(i,l),g=Math.abs(p),b=c;H(c)&&H(f)?(At(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):H(c)&&(At(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var A=a.filter(function(k){return G(k,b,0)!==0}).length,_=(g>=360?A:A-1)*u,w=g-A*x-_,j=a.reduce(function(k,m){var P=G(m,b,0);return k+(M(P)?P:0)},0),S;if(j>0){var T;S=a.map(function(k,m){var P=G(k,b,0),E=G(k,d,m),O=(M(P)?P:0)/j,$;m?$=T.endAngle+Ne(p)*u*(P!==0?1:0):$=i;var W=$+Ne(p)*((P!==0?x:0)+O*w),z=($+W)/2,L=(h.innerRadius+h.outerRadius)/2,Ve=[{name:E,value:P,payload:k,dataKey:b,type:y}],We=X(h.cx,h.cy,L,z);return T=D(D(D({percent:O,cornerRadius:o,name:E,tooltipPayload:Ve,midAngle:z,middleRadius:L,tooltipPosition:We},k),h),{},{value:G(k,b),startAngle:$,endAngle:W,payload:k,paddingAngle:Ne(p)*u}),T})}return D(D({},h),{},{sectors:S,data:a})});var mn=["type","layout","connectNulls","ref"],hn=["key"];function ve(r){"@babel/helpers - typeof";return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(r)}function Ct(r,e){if(r==null)return{};var n=vn(r,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function vn(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function Pe(){return Pe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Pe.apply(this,arguments)}function Ft(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function C(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ft(Object(n),!0).forEach(function(t){q(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ue(r){return bn(r)||xn(r)||gn(r)||yn()}function yn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gn(r,e){if(r){if(typeof r=="string")return tt(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(r,e)}}function xn(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function bn(r){if(Array.isArray(r))return tt(r)}function tt(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function An(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,ir(t.key),t)}}function jn(r,e,n){return e&&Bt(r.prototype,e),n&&Bt(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function Pn(r,e,n){return e=Ie(e),wn(r,ar()?Reflect.construct(e,n||[],Ie(r).constructor):e.apply(r,n))}function wn(r,e){if(e&&(ve(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return On(r)}function On(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ar(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ar=function(){return!!r})()}function Ie(r){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ie(r)}function Sn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&rt(r,e)}function rt(r,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},rt(r,e)}function q(r,e,n){return e=ir(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function ir(r){var e=kn(r,"string");return ve(e)=="symbol"?e:e+""}function kn(r,e){if(ve(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(ve(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var se=(function(r){function e(){var n;An(this,e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=Pn(this,e,[].concat(a)),q(n,"state",{isAnimationFinished:!0,totalLength:0}),q(n,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),q(n,"getStrokeDasharray",function(i,l,u){var c=u.reduce(function(b,A){return b+A});if(!c)return n.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/c),f=i%c,y=l-i,x=[],h=0,p=0;h<u.length;p+=u[h],++h)if(p+u[h]>f){x=[].concat(ue(u.slice(0,h)),[f-p]);break}var g=x.length%2===0?[0,y]:[y];return[].concat(ue(e.repeat(u,d)),ue(x),g).map(function(b){return"".concat(b,"px")}).join(", ")}),q(n,"id",ct("recharts-line-")),q(n,"pathRef",function(i){n.mainCurve=i}),q(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),q(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Sn(e,r),jn(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();t!==this.state.totalLength&&this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(t,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,l=o.xAxis,u=o.yAxis,c=o.layout,d=o.children,f=Ht(d,Ar);if(!f)return null;var y=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:G(p.payload,g)}},x={clipPath:t?"url(#clipPath-".concat(a,")"):null};return v.createElement(R,x,f.map(function(h){return v.cloneElement(h,{key:"bar-".concat(h.props.dataKey),data:i,xAxis:l,yAxis:u,layout:c,dataPointFormatter:y})}))}},{key:"renderDots",value:function(t,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,f=N(this.props,!1),y=N(u,!0),x=c.map(function(p,g){var b=C(C(C({key:"dot-".concat(g),r:3},f),y),{},{index:g,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:c});return e.renderDotItem(u,b)}),h={clipPath:t?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return v.createElement(R,Pe({className:"recharts-line-dots",key:"dots"},h),x)}},{key:"renderCurveStatically",value:function(t,a,o,i){var l=this.props,u=l.type,c=l.layout,d=l.connectNulls;l.ref;var f=Ct(l,mn),y=C(C(C({},N(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:t},i),{},{type:u,layout:c,connectNulls:d});return v.createElement(ge,Pe({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,a){var o=this,i=this.props,l=i.points,u=i.strokeDasharray,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,y=i.animationEasing,x=i.animationId,h=i.animateNewValues,p=i.width,g=i.height,b=this.state,A=b.prevPoints,_=b.totalLength;return v.createElement(st,{begin:d,duration:f,isActive:c,easing:y,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(A){var S=A.length/l.length,T=l.map(function(O,$){var W=Math.floor($*S);if(A[W]){var z=A[W],L=B(z.x,O.x),Ve=B(z.y,O.y);return C(C({},O),{},{x:L(j),y:Ve(j)})}if(h){var We=B(p*2,O.x),ur=B(g/2,O.y);return C(C({},O),{},{x:We(j),y:ur(j)})}return C(C({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(T,t,a)}var k=B(0,_),m=k(j),P;if(u){var E="".concat(u).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});P=o.getStrokeDasharray(m,_,E)}else P=o.generateSimpleStrokeDasharray(_,m);return o.renderCurveStatically(l,t,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(t,a){var o=this.props,i=o.points,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.totalLength;return l&&i&&i.length&&(!c&&d>0||!Ee(c,i))?this.renderCurveWithAnimation(t,a):this.renderCurveStatically(i,t,a)}},{key:"render",value:function(){var t,a=this.props,o=a.hide,i=a.dot,l=a.points,u=a.className,c=a.xAxis,d=a.yAxis,f=a.top,y=a.left,x=a.width,h=a.height,p=a.isAnimationActive,g=a.id;if(o||!l||!l.length)return null;var b=this.state.isAnimationFinished,A=l.length===1,_=V("recharts-line",u),w=c&&c.allowDataOverflow,j=d&&d.allowDataOverflow,S=w||j,T=H(g)?this.id:g,k=(t=N(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},m=k.r,P=m===void 0?3:m,E=k.strokeWidth,O=E===void 0?2:E,$=Yt(i)?i:{},W=$.clipDot,z=W===void 0?!0:W,L=P*2+O;return v.createElement(R,{className:_},w||j?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(T)},v.createElement("rect",{x:w?y:y-x/2,y:j?f:f-h/2,width:w?x:x*2,height:j?h:h*2})),!z&&v.createElement("clipPath",{id:"clipPath-dots-".concat(T)},v.createElement("rect",{x:y-L/2,y:f-L/2,width:x+L,height:h+L}))):null,!A&&this.renderCurve(S,T),this.renderErrorBar(S,T),(A||i)&&this.renderDots(S,z,T),(!p||b)&&lt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:a.curPoints}:t.points!==a.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,a){for(var o=t.length%2!==0?[].concat(ue(t),[0]):t,i=[],l=0;l<a;++l)i=[].concat(ue(i),ue(o));return i}},{key:"renderDotItem",value:function(t,a){var o;if(v.isValidElement(t))o=v.cloneElement(t,a);else if(U(t))o=t(a);else{var i=a.key,l=Ct(a,hn),u=V("recharts-line-dot",typeof t!="boolean"?t.className:"");o=v.createElement(ot,Pe({key:i},l,{className:u}))}return o}}])})(F.PureComponent);q(se,"displayName","Line");q(se,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ut.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});q(se,"getComposedData",function(r){var e=r.props,n=r.xAxis,t=r.yAxis,a=r.xAxisTicks,o=r.yAxisTicks,i=r.dataKey,l=r.bandSize,u=r.displayedData,c=r.offset,d=e.layout,f=u.map(function(y,x){var h=G(y,i);return d==="horizontal"?{x:De({axis:n,ticks:a,bandSize:l,entry:y,index:x}),y:H(h)?null:t.scale(h),value:h,payload:y}:{x:H(h)?null:n.scale(h),y:De({axis:t,ticks:o,bandSize:l,entry:y,index:x}),value:h,payload:y}});return C({points:f,layout:d},c)});var _n=["layout","type","stroke","connectNulls","isRange","ref"],Nn=["key"],or;function ye(r){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(r)}function sr(r,e){if(r==null)return{};var n=Tn(r,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Tn(r,e){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}function oe(){return oe=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},oe.apply(this,arguments)}function Mt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function Q(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mt(Object(n),!0).forEach(function(t){Y(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function En(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,cr(t.key),t)}}function Dn(r,e,n){return e&&Kt(r.prototype,e),n&&Kt(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function $n(r,e,n){return e=Ce(e),Rn(r,lr()?Reflect.construct(e,n||[],Ce(r).constructor):e.apply(r,n))}function Rn(r,e){if(e&&(ye(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(r)}function Ln(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lr(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lr=function(){return!!r})()}function Ce(r){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ce(r)}function In(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&nt(r,e)}function nt(r,e){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},nt(r,e)}function Y(r,e,n){return e=cr(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function cr(r){var e=Cn(r,"string");return ye(e)=="symbol"?e:e+""}function Cn(r,e){if(ye(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(ye(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Z=(function(r){function e(){var n;En(this,e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=$n(this,e,[].concat(a)),Y(n,"state",{isAnimationFinished:!0}),Y(n,"id",ct("recharts-area-")),Y(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),U(i)&&i()}),Y(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),U(i)&&i()}),n}return In(e,r),Dn(e,[{key:"renderDots",value:function(t,a,o){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var u=this.props,c=u.dot,d=u.points,f=u.dataKey,y=N(this.props,!1),x=N(c,!0),h=d.map(function(g,b){var A=Q(Q(Q({key:"dot-".concat(b),r:3},y),x),{},{index:b,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return e.renderDotItem(c,A)}),p={clipPath:t?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return v.createElement(R,oe({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(t){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,u=i[0].x,c=i[i.length-1].x,d=t*Math.abs(u-c),f=Oe(i.map(function(y){return y.y||0}));return M(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Oe(o.map(function(y){return y.y||0})),f)),M(f)?v.createElement("rect",{x:u<c?u:u-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(t){var a=this.props,o=a.baseLine,i=a.points,l=a.strokeWidth,u=i[0].y,c=i[i.length-1].y,d=t*Math.abs(u-c),f=Oe(i.map(function(y){return y.x||0}));return M(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Oe(o.map(function(y){return y.x||0})),f)),M(f)?v.createElement("rect",{x:0,y:u<c?u:u-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(t){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(t):this.renderHorizontalRect(t)}},{key:"renderAreaStatically",value:function(t,a,o,i){var l=this.props,u=l.layout,c=l.type,d=l.stroke,f=l.connectNulls,y=l.isRange;l.ref;var x=sr(l,_n);return v.createElement(R,{clipPath:o?"url(#clipPath-".concat(i,")"):null},v.createElement(ge,oe({},N(x,!0),{points:t,connectNulls:f,type:c,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),d!=="none"&&v.createElement(ge,oe({},N(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&y&&v.createElement(ge,oe({},N(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(t,a){var o=this,i=this.props,l=i.points,u=i.baseLine,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,y=i.animationEasing,x=i.animationId,h=this.state,p=h.prevPoints,g=h.prevBaseLine;return v.createElement(st,{begin:d,duration:f,isActive:c,easing:y,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var A=b.t;if(p){var _=p.length/l.length,w=l.map(function(k,m){var P=Math.floor(m*_);if(p[P]){var E=p[P],O=B(E.x,k.x),$=B(E.y,k.y);return Q(Q({},k),{},{x:O(A),y:$(A)})}return k}),j;if(M(u)&&typeof u=="number"){var S=B(g,u);j=S(A)}else if(H(u)||jr(u)){var T=B(g,0);j=T(A)}else j=u.map(function(k,m){var P=Math.floor(m*_);if(g[P]){var E=g[P],O=B(E.x,k.x),$=B(E.y,k.y);return Q(Q({},k),{},{x:O(A),y:$(A)})}return k});return o.renderAreaStatically(w,j,t,a)}return v.createElement(R,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(A))),v.createElement(R,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,u,t,a)))})}},{key:"renderArea",value:function(t,a){var o=this.props,i=o.points,l=o.baseLine,u=o.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,y=c.totalLength;return u&&i&&i.length&&(!d&&y>0||!Ee(d,i)||!Ee(f,l))?this.renderAreaWithAnimation(t,a):this.renderAreaStatically(i,l,t,a)}},{key:"render",value:function(){var t,a=this.props,o=a.hide,i=a.dot,l=a.points,u=a.className,c=a.top,d=a.left,f=a.xAxis,y=a.yAxis,x=a.width,h=a.height,p=a.isAnimationActive,g=a.id;if(o||!l||!l.length)return null;var b=this.state.isAnimationFinished,A=l.length===1,_=V("recharts-area",u),w=f&&f.allowDataOverflow,j=y&&y.allowDataOverflow,S=w||j,T=H(g)?this.id:g,k=(t=N(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},m=k.r,P=m===void 0?3:m,E=k.strokeWidth,O=E===void 0?2:E,$=Yt(i)?i:{},W=$.clipDot,z=W===void 0?!0:W,L=P*2+O;return v.createElement(R,{className:_},w||j?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(T)},v.createElement("rect",{x:w?d:d-x/2,y:j?c:c-h/2,width:w?x:x*2,height:j?h:h*2})),!z&&v.createElement("clipPath",{id:"clipPath-dots-".concat(T)},v.createElement("rect",{x:d-L/2,y:c-L/2,width:x+L,height:h+L}))):null,A?null:this.renderArea(S,T),(i||A)&&this.renderDots(S,z,T),(!p||b)&&lt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,curBaseLine:t.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:t.points!==a.curPoints||t.baseLine!==a.curBaseLine?{curPoints:t.points,curBaseLine:t.baseLine}:null}}])})(F.PureComponent);or=Z;Y(Z,"displayName","Area");Y(Z,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ut.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Y(Z,"getBaseValue",function(r,e,n,t){var a=r.layout,o=r.baseValue,i=e.props.baseValue,l=i??o;if(M(l)&&typeof l=="number")return l;var u=a==="horizontal"?t:n,c=u.scale.domain();if(u.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return l==="dataMin"?c[0]:l==="dataMax"?c[1]:c[0]});Y(Z,"getComposedData",function(r){var e=r.props,n=r.item,t=r.xAxis,a=r.yAxis,o=r.xAxisTicks,i=r.yAxisTicks,l=r.bandSize,u=r.dataKey,c=r.stackedData,d=r.dataStartIndex,f=r.displayedData,y=r.offset,x=e.layout,h=c&&c.length,p=or.getBaseValue(e,n,t,a),g=x==="horizontal",b=!1,A=f.map(function(w,j){var S;h?S=c[d+j]:(S=G(w,u),Array.isArray(S)?b=!0:S=[p,S]);var T=S[1]==null||h&&G(w,u)==null;return g?{x:De({axis:t,ticks:o,bandSize:l,entry:w,index:j}),y:T?null:a.scale(S[1]),value:S,payload:w}:{x:T?null:t.scale(S[1]),y:De({axis:a,ticks:i,bandSize:l,entry:w,index:j}),value:S,payload:w}}),_;return h||b?_=A.map(function(w){var j=Array.isArray(w.value)?w.value[0]:null;return g?{x:w.x,y:j!=null&&w.y!=null?a.scale(j):null}:{x:j!=null?t.scale(j):null,y:w.y}}):_=g?a.scale(p):t.scale(p),Q({points:A,baseLine:_,layout:x,isRange:b},y)});Y(Z,"renderDotItem",function(r,e){var n;if(v.isValidElement(r))n=v.cloneElement(r,e);else if(U(r))n=r(e);else{var t=V("recharts-area-dot",typeof r!="boolean"?r.className:""),a=e.key,o=sr(e,Nn);n=v.createElement(ot,oe({},o,{key:a,className:t}))}return n});var Fn=dt({chartName:"LineChart",GraphicalChild:se,axisComponents:[{axisType:"xAxis",AxisComp:xe},{axisType:"yAxis",AxisComp:be}],formatAxisMap:Xt}),Bn=dt({chartName:"PieChart",GraphicalChild:J,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ke},{axisType:"radiusAxis",AxisComp:Be}],formatAxisMap:Pr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Mn=dt({chartName:"AreaChart",GraphicalChild:Z,axisComponents:[{axisType:"xAxis",AxisComp:xe},{axisType:"yAxis",AxisComp:be}],formatAxisMap:Xt});const Vt="https://squares-9d84.onrender.com/api";class Kn{async makeRequest(e,n={}){const t=`${Vt}${e}`,a={headers:{"Content-Type":"application/json",...n.headers},...n},o=localStorage.getItem("token");o&&(a.headers={...a.headers,Authorization:`Bearer ${o}`});try{const i=await fetch(t,a);if(!i.ok){const l=await i.json().catch(()=>({success:!1,message:`HTTP ${i.status}: ${i.statusText}`}));throw new Error(l.message||"An error occurred")}return await i.json()}catch(i){throw console.error("Analytics API request failed:",i),i}}async getOverviewStats(e){try{const n=new URLSearchParams;n.append("timeframe",e.timeframe),e.propertyId&&n.append("propertyId",e.propertyId),e.dateFrom&&n.append("dateFrom",e.dateFrom),e.dateTo&&n.append("dateTo",e.dateTo);const t=`/vendors/analytics/overview?${n.toString()}`,a=await this.makeRequest(t);return a.success&&a.data?a.data:{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,totalProperties:0,averageRating:0,responseTime:"Not calculated",conversionRate:0}}catch(n){return console.error("Failed to fetch overview stats:",n),{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,totalProperties:0,averageRating:0,responseTime:"Not calculated",conversionRate:0}}}async getPerformanceMetrics(e){try{const n=new URLSearchParams;n.append("timeframe",e.timeframe),e.propertyId&&n.append("propertyId",e.propertyId),e.dateFrom&&n.append("dateFrom",e.dateFrom),e.dateTo&&n.append("dateTo",e.dateTo);const t=`/vendors/analytics/performance?${n.toString()}`,a=await this.makeRequest(t);return a.success&&a.data?a.data:{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}catch(n){return console.error("Failed to fetch performance metrics:",n),{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}}async exportAnalyticsData(e,n="csv"){try{const t=new URLSearchParams;t.append("timeframe",e.timeframe),t.append("format",n),e.propertyId&&t.append("propertyId",e.propertyId),e.dateFrom&&t.append("dateFrom",e.dateFrom),e.dateTo&&t.append("dateTo",e.dateTo);const a=`/vendors/analytics/export?${t.toString()}`,o=await fetch(`${Vt}${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!o.ok)throw new Error("Failed to export analytics data");const i=await o.blob();return ft({title:"Success",description:`Analytics data exported as ${n.toUpperCase()}!`}),i}catch(t){const a=t instanceof Error?t.message:"Failed to export analytics data";throw ft({title:"Error",description:a,variant:"destructive"}),t}}formatCurrency(e){return e==null||isNaN(e)?"0":e>=1e7?`${(e/1e7).toFixed(1)} Cr`:e>=1e5?`${(e/1e5).toFixed(1)} L`:`${e.toLocaleString("en-IN")}`}formatNumber(e){return e==null||isNaN(e)?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}formatPercentage(e){return e==null||isNaN(e)?"0%":`${e.toFixed(1)}%`}calculateChangePercentage(e,n){return n===0?e>0?100:0:(e-n)/n*100}getChangeType(e){return e>0?"increase":e<0?"decrease":"neutral"}getChangeColor(e){switch(e){case"increase":return"text-green-600";case"decrease":return"text-red-600";case"neutral":return"text-gray-600"}}generateDateRange(e){const n=new Date,t=[];switch(e){case"7days":for(let a=6;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a),t.push({name:o.toLocaleDateString("en-US",{weekday:"short"}),value:0})}break;case"30days":for(let a=29;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a),t.push({name:o.getDate().toString(),value:0})}break;case"90days":for(let a=11;a>=0;a--){const o=new Date(n);o.setMonth(o.getMonth()-a),t.push({name:o.toLocaleDateString("en-US",{month:"short"}),value:0})}break;case"1year":for(let a=11;a>=0;a--){const o=new Date(n);o.setMonth(o.getMonth()-a),t.push({name:o.toLocaleDateString("en-US",{month:"short"}),value:0})}break}return t}downloadBlob(e,n){const t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)}}const I=new Kn,oa=()=>{const{toast:r}=dr(),[e,n]=F.useState("30days"),[t,a]=F.useState("all"),[o,i]=F.useState(!0),[l,u]=F.useState(null),[c,d]=F.useState(null),[f,y]=F.useState([]),[x,h]=F.useState(!1),p={timeframe:e,propertyId:t!=="all"?t:void 0},g=async()=>{try{i(!0);const[m,P,E]=await Promise.all([I.getOverviewStats(p),I.getPerformanceMetrics(p),hr.getVendorProperties({page:1,limit:100})]);u(m),d(P);const O=E.success?E.data.properties:[];y(O),t!=="all"&&!O.find($=>$._id===t)&&a("all")}catch(m){console.error("Failed to load analytics data:",m),r({title:"Error",description:"Failed to load analytics data. Please try again.",variant:"destructive"})}finally{i(!1)}};F.useEffect(()=>{g()},[e,t]);const b=async m=>{try{h(!0);const P=await I.exportAnalyticsData(p,m),E=`analytics-${e}-${Date.now()}.${m}`;I.downloadBlob(P,E)}catch(P){console.error("Export failed:",P)}finally{h(!1)}};if(o)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ue,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{children:"Loading analytics..."})]})});const _=l?(m=>{if(!m)return[{title:"Total Views",value:"0",change:"0%",changeType:"neutral",icon:Ge,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:_e,description:"Feature in development"},{title:"Phone Calls",value:"0",change:"0%",changeType:"neutral",icon:Pt,description:"Direct calls"},{title:"Messages",value:"0",change:"0%",changeType:"neutral",icon:pt,description:"Chat inquiries"},{title:"Total Revenue",value:"0",change:"0%",changeType:"neutral",icon:wt,description:"All properties"},{title:"Avg. Rating",value:"0.0",change:"0%",changeType:"neutral",icon:mt,description:"Customer reviews"}];const P=O=>{if(O==null||isNaN(O))return{change:"0%",changeType:"neutral"};const $=O.toFixed(1);return{change:`${O>0?"+":""}${$}%`,changeType:O>0?"increase":O<0?"decrease":"neutral"}},E=P(m.trends?.views?.growth);return P(m.trends?.leads?.growth),P(m.trends?.properties?.growth),[{title:"Total Views",value:I.formatNumber(m.totalViews),change:E.change,changeType:E.changeType,icon:Ge,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:_e,description:"Feature in development"},{title:"Phone Calls",value:I.formatNumber(m.totalCalls),change:"0%",changeType:"neutral",icon:Pt,description:"Direct calls"},{title:"Messages",value:I.formatNumber(m.totalMessages),change:"0%",changeType:"neutral",icon:pt,description:"Chat inquiries"},{title:"Total Revenue",value:`${I.formatNumber(m.totalRevenue)}`,change:"0%",changeType:"neutral",icon:wt,description:"All properties"},{title:"Avg. Rating",value:m.averageRating?.toFixed(1)||"0.0",change:"0%",changeType:"neutral",icon:mt,description:"Customer reviews"}]})(l):[],w=c?.viewsData?.length?c.viewsData:I.generateDateRange(e);c?.leadsData?.length?c.leadsData:I.generateDateRange(e),c?.conversionData?.length?c.conversionData:I.generateDateRange(e),c?.revenueData?.length?c.revenueData:I.generateDateRange(e);const j=c?.propertyPerformance||[],S=c?.leadSources?.length?c.leadSources:[];c?.demographicsData?.length&&c.demographicsData;const T=c?.viewsData?.length?c.viewsData.slice(0,7).map((m,P)=>({name:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][P]||m.name,favorites:Math.floor(m.value*.1),shares:Math.floor(m.value*.05),inquiries:Math.floor(m.value*.02)})):[],k=c?.propertyPerformance.slice(0,3)||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your property performance and marketing insights"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ht,{value:e,onValueChange:m=>n(m),children:[s.jsx(vt,{className:"w-40",children:s.jsx(yt,{})}),s.jsxs(gt,{children:[s.jsx(re,{value:"7days",children:"Last 7 days"}),s.jsx(re,{value:"30days",children:"Last 30 days"}),s.jsx(re,{value:"90days",children:"Last 90 days"}),s.jsx(re,{value:"1year",children:"Last year"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ze,{variant:"outline",onClick:()=>b("csv"),disabled:x,children:[x?s.jsx(Ue,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(xt,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),s.jsxs(ze,{variant:"outline",onClick:()=>b("pdf"),disabled:x,children:[x?s.jsx(Ue,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(xt,{className:"w-4 h-4 mr-2"}),"Export PDF"]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map(m=>s.jsx(ee,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:m.title}),s.jsx("p",{className:"text-2xl font-bold",children:m.value}),s.jsxs("div",{className:"flex items-center mt-2",children:[m.changeType==="increase"?s.jsx(bt,{className:"w-4 h-4 text-green-500 mr-1"}):m.changeType==="decrease"?s.jsx(wr,{className:"w-4 h-4 text-red-500 mr-1"}):null,s.jsx("span",{className:`text-sm ${m.changeType==="increase"?"text-green-500":m.changeType==="decrease"?"text-red-500":"text-muted-foreground"}`,children:m.change})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.description})]}),s.jsx(m.icon,{className:"h-8 w-8 text-muted-foreground"})]})})},m.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ee,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Views & Leads Trend"})}),s.jsx(te,{children:s.jsx(Se,{width:"100%",height:300,children:s.jsxs(Mn,{data:w,children:[s.jsx(He,{strokeDasharray:"3 3"}),s.jsx(xe,{dataKey:"name"}),s.jsx(be,{}),s.jsx(ke,{}),s.jsx(Z,{type:"monotone",dataKey:"views",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),s.jsx(Z,{type:"monotone",dataKey:"leads",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]})})})]}),s.jsxs(ee,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Lead Sources"})}),s.jsx(te,{children:S.length>0?s.jsxs(s.Fragment,{children:[s.jsx(Se,{width:"100%",height:300,children:s.jsxs(Bn,{children:[s.jsx(J,{data:S,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:S.map((m,P)=>s.jsx(Gt,{fill:m.color},`cell-${P}`))}),s.jsx(ke,{})]})}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:S.map(m=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:m.color}}),s.jsxs("span",{className:"text-sm",children:[m.name," (",m.value,"%)"]})]},m.name))})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center",children:[s.jsx(fr,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Lead source analytics will be available once data is collected"})]})})]})]}),s.jsxs(ee,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ce,{children:"Property Performance"}),s.jsxs(ht,{value:t,onValueChange:a,children:[s.jsx(vt,{className:"w-48",children:s.jsx(yt,{placeholder:"Filter by property"})}),s.jsxs(gt,{children:[s.jsx(re,{value:"all",children:"All Properties"}),f.length>0?f.map(m=>s.jsxs(re,{value:m._id,children:[(m.title||"Untitled Property").substring(0,30),m.title&&m.title.length>30?"...":""]},m._id)):s.jsx(re,{value:"no-properties",disabled:!0,children:"No properties available"})]})]})]})}),s.jsx(te,{children:f.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[s.jsx(qe,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Properties Found"}),s.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:"You haven't added any properties yet. Add your first property to start tracking performance analytics."}),s.jsx(ze,{onClick:()=>window.location.href="/vendor/properties/add",className:"mt-2",children:"Add Your First Property"})]}):j.length>0?s.jsx(Se,{width:"100%",height:400,children:s.jsxs(Or,{data:j,children:[s.jsx(He,{strokeDasharray:"3 3"}),s.jsx(xe,{dataKey:"title",angle:-45,textAnchor:"end",height:100}),s.jsx(be,{}),s.jsx(ke,{}),s.jsx(jt,{dataKey:"views",fill:"#8884d8",name:"Views"}),s.jsx(jt,{dataKey:"leads",fill:"#82ca9d",name:"Leads"})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[s.jsx(_e,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Coming Soon"}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:"Property performance analytics will be available once your properties receive sufficient views and interactions."})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ee,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Weekly Engagement"})}),s.jsx(te,{children:T.length>0?s.jsx(Se,{width:"100%",height:300,children:s.jsxs(Fn,{data:T,children:[s.jsx(He,{strokeDasharray:"3 3"}),s.jsx(xe,{dataKey:"name"}),s.jsx(be,{}),s.jsx(ke,{}),s.jsx(se,{type:"monotone",dataKey:"favorites",stroke:"#8884d8",strokeWidth:2,name:"Favorites"}),s.jsx(se,{type:"monotone",dataKey:"shares",stroke:"#82ca9d",strokeWidth:2,name:"Shares"}),s.jsx(se,{type:"monotone",dataKey:"inquiries",stroke:"#ffc658",strokeWidth:2,name:"Inquiries"})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center",children:[s.jsx(_e,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Coming Soon"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Weekly engagement data will be displayed once sufficient activity is recorded"})]})})]}),s.jsxs(ee,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Top Performing Properties"})}),s.jsx(te,{children:k.length>0?s.jsx("div",{className:"space-y-4",children:k.map((m,P)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(qe,{className:"w-6 h-6 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:m.title||"Untitled Property"}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(Ge,{className:"w-3 h-3 mr-1"}),m.views||0]}),s.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(pr,{className:"w-3 h-3 mr-1"}),m.leads||0]}),s.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(bt,{className:"w-3 h-3 mr-1"}),m.conversionRate||0,"%"]})]})]}),s.jsx(mr,{variant:"default",className:"flex-shrink-0",children:I.formatCurrency(m.revenue||0)})]},m.propertyId||P))}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[s.jsx(qe,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Data Available"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Top performing properties will appear here once you have property data and analytics"})]})})]})]}),s.jsxs(ee,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Insights & Recommendations"})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Performance Analytics"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Detailed analytics insights will be available once sufficient data is collected from your property listings."})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Content Optimization"}),s.jsx("p",{className:"text-sm text-green-700",children:"Recommendations for improving your property listings will appear here based on performance data."})]}),s.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[s.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Market Insights"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Market trends and pricing strategy insights will be generated from your property performance data."})]})]})})]})]})};export{oa as default};
