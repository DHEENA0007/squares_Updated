import{j as e}from"./ui-DHQhougw.js";import{d as a,r as s}from"./router-Bi51YGN-.js";import{ak as t,B as r,S as i,q as l,aE as n,r as d,s as c,v as o,f as m,a as x,b as p,c as h,d as j,e as u,aa as g,ab as b,ac as f,ad as v,E as y}from"./index-BXXWUbfo.js";import{S as N}from"./scroll-area-BtLe1ESz.js";import{u as k,f as w}from"./useRealTimeNotifications-BIPAKe-5.js";import{T as _}from"./trash-2-Vx1507RH.js";import{E as C}from"./ellipsis-vertical-Dz5KHYXS.js";import{E as q}from"./eye-off-BZIe8XtF.js";import"./vendor-eVk5PToZ.js";import"./en-US-Blz_tpgH.js";const S=()=>{const{notifications:S,markAsRead:A,clearNotifications:U}=k(),$=a(),[E,F]=s.useState("all"),I=e=>({lead_alert:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",inquiry_received:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200",property_update:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",weekly_report:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200",business_update:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",new_message:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",broadcast:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",announcement:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",test:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"}[e]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"),R=e=>{try{return w(new Date(e),{addSuffix:!0})}catch{return"Unknown time"}},z=S.filter(e=>"all"===E||("unread"===E?!e.read:e.type===E)),M=S.filter(e=>!e.read).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),e.jsx("p",{className:"text-muted-foreground",children:"Stay updated with your vendor activities"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:M>0&&e.jsxs(r,{variant:"secondary",children:[M," unread"]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(i,{value:E,onValueChange:e=>F(e),children:[e.jsxs(l,{className:"w-48",children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),e.jsx(d,{placeholder:"Filter notifications"})]}),e.jsxs(c,{children:[e.jsx(o,{value:"all",children:"All Notifications"}),e.jsx(o,{value:"unread",children:"Unread Only"}),e.jsx(o,{value:"lead_alert",children:"Lead Alerts"}),e.jsx(o,{value:"inquiry_received",children:"Inquiries"}),e.jsx(o,{value:"property_update",children:"Property Updates"})]})]})}),S.length>0&&e.jsxs(m,{variant:"outline",size:"sm",onClick:U,className:"text-destructive",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(h,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Recent Activity"}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[z.length," notification",1!==z.length?"s":""]})]}),z.length>0&&e.jsx(j,{children:"Click on any notification to view details or take action"})]}),e.jsx(u,{className:"p-0",children:0===z.length?e.jsxs("div",{className:"text-center py-12 px-6 text-muted-foreground",children:[e.jsx(t,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-sm",children:"all"===E?"You'll see vendor updates and alerts here when they arrive":`No ${E.replace("_"," ")} notifications at the moment`})]}):e.jsx(N,{className:"h-[600px]",children:e.jsx("div",{className:"space-y-1 p-4",children:z.map((a,s)=>{return e.jsx(x,{className:"cursor-pointer transition-all duration-200 hover:bg-muted/50 "+(a.read?"opacity-70":"bg-background border-l-4 border-l-primary"),onClick:()=>(e=>{if(A(e.timestamp),e.data?.action)switch(e.data.action){case"view_property":e.data.propertyId&&$(`/vendor/properties/${e.data.propertyId}`);break;case"view_leads":$("/vendor/leads");break;case"view_messages":$("/vendor/messages");break;case"view_dashboard":$("/vendor/dashboard");break;case"view_inquiries":$("/vendor/inquiries")}})(a),children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"text-xl mt-1",children:(t=a.type,{lead_alert:"ðŸ‘¥",inquiry_received:"ðŸ“ž",property_update:"ðŸ ",weekly_report:"ðŸ“Š",business_update:"ðŸ¢",new_message:"ðŸ’¬",broadcast:"ðŸ“¢",announcement:"ðŸ“£",test:"ðŸ§ª"}[t]||"ðŸ””")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:a.title}),e.jsx(r,{variant:"secondary",className:`text-xs px-2 py-0.5 ${I(a.type)}`,children:a.type.replace("_"," ")})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:a.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:R(a.timestamp)}),!a.read&&e.jsx(r,{variant:"default",className:"text-xs",children:"New"})]})]})]}),e.jsxs(g,{children:[e.jsx(b,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"sm",onClick:e=>e.stopPropagation(),children:e.jsx(C,{className:"w-4 h-4"})})}),e.jsx(f,{align:"end",children:e.jsx(v,{onClick:e=>{e.stopPropagation(),A(a.timestamp)},children:a.read?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Mark as Unread"]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Mark as Read"]})})})]})]})})},`${a.timestamp}-${s}`);var t})})})})]})]})};export{S as default};
