import{j as e}from"./ui-DHQhougw.js";import{r as s}from"./router-Bi51YGN-.js";import{z as a,t as r,$ as i,f as t,Z as l,a as c,b as n,c as d,e as o,G as h,I as m,S as p,q as x,r as u,s as j,v,B as g,aa as y,ab as N,ac as w,am as f,an as b,ad as A,Q as C,R as S,V as k,W as E,Y as O,L as F,T,a0 as R,U as P,as as I,ap as U}from"./index-CV77Hym3.js";import{T as $,a as M,b as _,c as q,d as D,e as B}from"./table-Cpfq0CO9.js";import{S as z}from"./switch-BzJOIUgv.js";import{E as V}from"./ellipsis-Db7Kl15T.js";import{S as L}from"./square-pen-DMwh3cy6.js";import{T as J}from"./trash-2-Da1AQ7FG.js";import{L as H,M as Q}from"./megaphone-8wEgjUXo.js";import{C as Y}from"./camera-CBOG7LcH.js";import"./vendor-eVk5PToZ.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=a("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),W=a("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=new class{async makeRequest(e,s={}){const a=`https://api.buildhomemartsquares.com/api${e}`,r={headers:{"Content-Type":"application/json",...s.headers},...s},i=localStorage.getItem("token");i&&(r.headers={...r.headers,Authorization:`Bearer ${i}`});try{const e=await fetch(a,r);if(!e.ok){const s=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(s.message||"An error occurred")}return await e.json()}catch(t){throw t}}async getAddons(e={}){try{const s=new URLSearchParams;e.category&&s.append("category",e.category),void 0!==e.isActive&&s.append("isActive",e.isActive.toString()),e.search&&s.append("search",e.search),e.page&&s.append("page",e.page.toString()),e.limit&&s.append("limit",e.limit.toString());const a="/admin/addons"+(s.toString()?"?"+s.toString():""),r=await this.makeRequest(a);if(r.success&&r.data)return r.data;throw new Error("Failed to fetch addons")}catch(s){const e=s instanceof Error?s.message:"Failed to fetch addons";throw r({title:"Error",description:e,variant:"destructive"}),s}}async getAddonById(e){try{const s=await this.makeRequest(`/admin/addons/${e}`);if(s.success&&s.data)return s.data;throw new Error("Failed to fetch addon")}catch(s){const e=s instanceof Error?s.message:"Failed to fetch addon";throw r({title:"Error",description:e,variant:"destructive"}),s}}async createAddon(e){try{const s=await this.makeRequest("/admin/addons",{method:"POST",body:JSON.stringify(e)});if(s.success&&s.data)return r({title:"Success",description:"Addon service created successfully"}),s.data;throw new Error("Failed to create addon")}catch(s){const e=s instanceof Error?s.message:"Failed to create addon";throw r({title:"Error",description:e,variant:"destructive"}),s}}async updateAddon(e,s){try{const a=await this.makeRequest(`/admin/addons/${e}`,{method:"PUT",body:JSON.stringify(s)});if(a.success&&a.data)return r({title:"Success",description:"Addon service updated successfully"}),a.data;throw new Error("Failed to update addon")}catch(a){const e=a instanceof Error?a.message:"Failed to update addon";throw r({title:"Error",description:e,variant:"destructive"}),a}}async deleteAddon(e){try{if((await this.makeRequest(`/admin/addons/${e}`,{method:"DELETE"})).success)return void r({title:"Success",description:"Addon service deleted successfully"});throw new Error("Failed to delete addon")}catch(s){const e=s instanceof Error?s.message:"Failed to delete addon";throw r({title:"Error",description:e,variant:"destructive"}),s}}async toggleAddonStatus(e){try{const s=await this.makeRequest(`/admin/addons/${e}/toggle-status`,{method:"PATCH"});if(s.success&&s.data)return r({title:"Success",description:`Addon service ${s.data.isActive?"activated":"deactivated"} successfully`}),s.data;throw new Error("Failed to toggle addon status")}catch(s){const e=s instanceof Error?s.message:"Failed to toggle addon status";throw r({title:"Error",description:e,variant:"destructive"}),s}}async updateSortOrder(e){try{if((await this.makeRequest("/admin/addons/sort-order",{method:"PUT",body:JSON.stringify({addonIds:e})})).success)return void r({title:"Success",description:"Addon sort order updated successfully"});throw new Error("Failed to update sort order")}catch(s){const e=s instanceof Error?s.message:"Failed to update sort order";throw r({title:"Error",description:e,variant:"destructive"}),s}}getCategoryOptions(){return[{value:"photography",label:"Photography"},{value:"marketing",label:"Marketing"},{value:"technology",label:"Technology"},{value:"support",label:"Support"},{value:"crm",label:"CRM"}]}getBillingTypeOptions(){return[{value:"per_property",label:"Per Property"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"one_time",label:"One Time"}]}getCurrencyOptions(){return[{value:"INR",label:"₹ INR"},{value:"USD",label:"$ USD"},{value:"EUR",label:"€ EUR"}]}},K={photography:Y,marketing:Q,technology:H,support:I,crm:P},X=()=>{const[a,r]=s.useState([]),[P,I]=s.useState(!0),[H,Q]=s.useState(1),[Y,X]=s.useState(1),[ee,se]=s.useState(0),[ae,re]=s.useState({page:1,limit:10}),[ie,te]=s.useState(""),[le,ce]=s.useState(!1),[ne,de]=s.useState(!1),[oe,he]=s.useState(!1),[me,pe]=s.useState(null),[xe,ue]=s.useState({name:"",description:"",price:0,currency:"INR",billingType:"monthly",category:"marketing",icon:"",isActive:!0,sortOrder:0}),[je,ve]=s.useState(!1);i(),s.useEffect(()=>{ge()},[ae]),s.useEffect(()=>{const e=setTimeout(()=>{re(e=>({...e,search:ie,page:1}))},300);return()=>clearTimeout(e)},[ie]);const ge=async()=>{try{I(!0);const e=await Z.getAddons(ae);r(e.addons),Q(e.totalPages),X(e.currentPage),se(e.total)}catch(e){}finally{I(!1)}},ye=()=>{ue({name:"",description:"",price:0,currency:"INR",billingType:"monthly",category:"marketing",icon:"",isActive:!0,sortOrder:0})},Ne=s=>{const a=K[s]||U;return e.jsx(a,{className:"w-4 h-4"})};return e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"dashboard-header-responsive",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"dashboard-title-responsive",children:"Addon Management"}),e.jsx("p",{className:"text-muted-foreground mt-1 md:mt-2 text-sm md:text-base",children:"Manage vendor addon services and pricing"})]}),e.jsxs(t,{onClick:()=>ce(!0),className:"w-full sm:w-auto",children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Addon Service"}),e.jsx("span",{className:"sm:hidden",children:"Add Service"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs(c,{className:"stats-card-responsive",children:[e.jsx(n,{className:"pb-1",children:e.jsx(d,{className:"stats-label-responsive",children:"Total Addons"})}),e.jsx(o,{className:"pt-1",children:e.jsx("div",{className:"stats-value-responsive",children:ee})})]}),e.jsxs(c,{className:"stats-card-responsive",children:[e.jsx(n,{className:"pb-1",children:e.jsx(d,{className:"stats-label-responsive",children:"Active Addons"})}),e.jsx(o,{className:"pt-1",children:e.jsx("div",{className:"stats-value-responsive text-green-600",children:a.filter(e=>e.isActive).length})})]}),e.jsxs(c,{className:"stats-card-responsive",children:[e.jsx(n,{className:"pb-1",children:e.jsx(d,{className:"stats-label-responsive",children:"Categories"})}),e.jsx(o,{className:"pt-1",children:e.jsx("div",{className:"stats-value-responsive",children:new Set(a.map(e=>e.category)).size})})]}),e.jsxs(c,{className:"stats-card-responsive",children:[e.jsx(n,{className:"pb-1",children:e.jsx(d,{className:"stats-label-responsive",children:"Average Price"})}),e.jsx(o,{className:"pt-1",children:e.jsxs("div",{className:"stats-value-responsive",children:["₹",a.length>0?Math.round(a.reduce((e,s)=>e+s.price,0)/a.length).toLocaleString():0]})})]})]}),e.jsxs(c,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(d,{className:"text-base",children:"Filters"})}),e.jsx(o,{className:"pt-2",children:e.jsxs("div",{className:"search-container-responsive",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(m,{placeholder:"Search addons...",value:ie,onChange:e=>te(e.target.value),className:"pl-10 h-9"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(p,{value:ae.category||"all",onValueChange:e=>re(s=>({...s,category:"all"===e?void 0:e,page:1})),children:[e.jsx(x,{className:"w-full sm:w-36 h-9",children:e.jsx(u,{placeholder:"Category"})}),e.jsxs(j,{children:[e.jsx(v,{value:"all",children:"All Categories"}),Z.getCategoryOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))]})]}),e.jsxs(p,{value:void 0===ae.isActive?"all":ae.isActive.toString(),onValueChange:e=>re(s=>({...s,isActive:"all"===e?void 0:"true"===e,page:1})),children:[e.jsx(x,{className:"w-full sm:w-28 h-9",children:e.jsx(u,{placeholder:"Status"})}),e.jsxs(j,{children:[e.jsx(v,{value:"all",children:"All Status"}),e.jsx(v,{value:"true",children:"Active"}),e.jsx(v,{value:"false",children:"Inactive"})]})]})]})]})})]}),e.jsxs(c,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(d,{className:"text-lg md:text-xl",children:"Addon Services"})}),e.jsx(o,{className:"p-0",children:P?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"table-responsive-wrapper",children:e.jsxs($,{children:[e.jsx(M,{children:e.jsxs(_,{className:"h-10",children:[e.jsx(q,{className:"min-w-[250px] py-2",children:"Name"}),e.jsx(q,{className:"min-w-[120px] py-2",children:"Category"}),e.jsx(q,{className:"min-w-[100px] py-2",children:"Price"}),e.jsx(q,{className:"min-w-[100px] py-2",children:"Billing"}),e.jsx(q,{className:"min-w-[80px] py-2",children:"Status"}),e.jsx(q,{className:"min-w-[80px] py-2",children:"Sort Order"}),e.jsx(q,{className:"text-right min-w-[80px] py-2",children:"Actions"})]})}),e.jsx(D,{children:a.map(s=>{return e.jsxs(_,{className:"h-12",children:[e.jsx(B,{className:"py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-gray-100 flex-shrink-0",children:Ne(s.category)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium truncate text-sm",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:s.description})]})]})}),e.jsx(B,{className:"py-2",children:e.jsx(g,{variant:"outline",className:"capitalize whitespace-nowrap text-xs",children:s.category})}),e.jsx(B,{className:"font-medium whitespace-nowrap py-2 text-sm",children:(a=s.price,i=s.currency,`${{INR:"₹",USD:"$",EUR:"€"}[i]||i} ${a.toLocaleString()}`)}),e.jsx(B,{className:"py-2",children:e.jsx(g,{variant:"secondary",className:"capitalize whitespace-nowrap text-xs",children:s.billingType.replace("_"," ")})}),e.jsx(B,{className:"py-2",children:e.jsx(g,{variant:s.isActive?"default":"secondary",className:"whitespace-nowrap text-xs",children:s.isActive?"Active":"Inactive"})}),e.jsx(B,{className:"text-center py-2 text-sm",children:s.sortOrder}),e.jsx(B,{className:"text-right py-2",children:e.jsxs(y,{children:[e.jsx(N,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(V,{className:"w-4 h-4"})})}),e.jsxs(w,{align:"end",children:[e.jsx(f,{children:"Actions"}),e.jsx(b,{}),e.jsxs(A,{onClick:()=>(e=>{pe(e),ue({name:e.name,description:e.description,price:e.price,currency:e.currency,billingType:e.billingType,category:e.category,icon:e.icon||"",isActive:e.isActive,sortOrder:e.sortOrder}),de(!0)})(s),children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsx(A,{onClick:()=>(async e=>{try{const s=await Z.toggleAddonStatus(e._id);r(e=>e.map(e=>e._id===s._id?s:e))}catch(s){}})(s),children:s.isActive?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Activate"]})}),e.jsx(b,{}),e.jsxs(A,{onClick:()=>(e=>{pe(e),he(!0)})(s),className:"text-red-600",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},s._id);var a,i})})]})}),H>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",10*(Y-1)+1," to ",Math.min(10*Y,ee)," of ",ee," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>re(e=>({...e,page:Y-1})),disabled:Y<=1,children:"Previous"}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>re(e=>({...e,page:Y+1})),disabled:Y>=H,children:"Next"})]})]})]})})]}),e.jsx(C,{open:le,onOpenChange:ce,children:e.jsxs(S,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[e.jsxs(k,{children:[e.jsx(E,{children:"Create New Addon Service"}),e.jsx(O,{children:"Add a new addon service that vendors can purchase to enhance their listings."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"name",children:"Name"}),e.jsx(m,{id:"name",value:xe.name,onChange:e=>ue(s=>({...s,name:e.target.value})),placeholder:"Enter addon name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"category",children:"Category"}),e.jsxs(p,{value:xe.category,onValueChange:e=>ue(s=>({...s,category:e})),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(j,{children:Z.getCategoryOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"description",children:"Description"}),e.jsx(T,{id:"description",value:xe.description,onChange:e=>ue(s=>({...s,description:e.target.value})),placeholder:"Enter addon description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"price",children:"Price"}),e.jsx(m,{id:"price",type:"number",value:xe.price,onChange:e=>ue(s=>({...s,price:Number(e.target.value)})),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"currency",children:"Currency"}),e.jsxs(p,{value:xe.currency,onValueChange:e=>ue(s=>({...s,currency:e})),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(j,{children:Z.getCurrencyOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"billingType",children:"Billing Type"}),e.jsxs(p,{value:xe.billingType,onValueChange:e=>ue(s=>({...s,billingType:e})),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(j,{children:Z.getBillingTypeOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"sortOrder",children:"Sort Order"}),e.jsx(m,{id:"sortOrder",type:"number",value:xe.sortOrder,onChange:e=>ue(s=>({...s,sortOrder:Number(e.target.value)})),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"icon",children:"Icon (optional)"}),e.jsx(m,{id:"icon",value:xe.icon,onChange:e=>ue(s=>({...s,icon:e.target.value})),placeholder:"Icon name or URL"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"isActive",checked:xe.isActive,onCheckedChange:e=>ue(s=>({...s,isActive:e}))}),e.jsx(F,{htmlFor:"isActive",children:"Active"})]})]}),e.jsxs(R,{className:"flex-col sm:flex-row gap-2",children:[e.jsx(t,{variant:"outline",onClick:()=>ce(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),e.jsx(t,{onClick:async()=>{try{ve(!0);const e=await Z.createAddon(xe);ce(!1),ye(),r(s=>[e,...s]),se(e=>e+1)}catch(e){}finally{ve(!1)}},disabled:je,className:"w-full sm:w-auto order-1 sm:order-2",children:je?"Creating...":"Create Addon"})]})]})}),e.jsx(C,{open:ne,onOpenChange:de,children:e.jsxs(S,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[e.jsxs(k,{children:[e.jsx(E,{children:"Edit Addon Service"}),e.jsx(O,{children:"Update the addon service details."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-name",children:"Name"}),e.jsx(m,{id:"edit-name",value:xe.name,onChange:e=>ue(s=>({...s,name:e.target.value})),placeholder:"Enter addon name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-category",children:"Category"}),e.jsxs(p,{value:xe.category,onValueChange:e=>ue(s=>({...s,category:e})),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(j,{children:Z.getCategoryOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-description",children:"Description"}),e.jsx(T,{id:"edit-description",value:xe.description,onChange:e=>ue(s=>({...s,description:e.target.value})),placeholder:"Enter addon description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-price",children:"Price"}),e.jsx(m,{id:"edit-price",type:"number",value:xe.price,onChange:e=>ue(s=>({...s,price:Number(e.target.value)})),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-currency",children:"Currency"}),e.jsxs(p,{value:xe.currency,onValueChange:e=>ue(s=>({...s,currency:e})),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(j,{children:Z.getCurrencyOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-billingType",children:"Billing Type"}),e.jsxs(p,{value:xe.billingType,onValueChange:e=>ue(s=>({...s,billingType:e})),children:[e.jsx(x,{children:e.jsx(u,{})}),e.jsx(j,{children:Z.getBillingTypeOptions().map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-sortOrder",children:"Sort Order"}),e.jsx(m,{id:"edit-sortOrder",type:"number",value:xe.sortOrder,onChange:e=>ue(s=>({...s,sortOrder:Number(e.target.value)})),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"edit-icon",children:"Icon (optional)"}),e.jsx(m,{id:"edit-icon",value:xe.icon,onChange:e=>ue(s=>({...s,icon:e.target.value})),placeholder:"Icon name or URL"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"edit-isActive",checked:xe.isActive,onCheckedChange:e=>ue(s=>({...s,isActive:e}))}),e.jsx(F,{htmlFor:"edit-isActive",children:"Active"})]})]}),e.jsxs(R,{className:"flex-col sm:flex-row gap-2",children:[e.jsx(t,{variant:"outline",onClick:()=>de(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),e.jsx(t,{onClick:async()=>{if(me)try{ve(!0);const e=await Z.updateAddon(me._id,xe);de(!1),pe(null),ye(),r(s=>s.map(s=>s._id===e._id?e:s))}catch(e){}finally{ve(!1)}},disabled:je,className:"w-full sm:w-auto order-1 sm:order-2",children:je?"Updating...":"Update Addon"})]})]})}),e.jsx(C,{open:oe,onOpenChange:he,children:e.jsxs(S,{children:[e.jsxs(k,{children:[e.jsx(E,{children:"Delete Addon Service"}),e.jsxs(O,{children:['Are you sure you want to delete "',me?.name,'"? This action cannot be undone.']})]}),e.jsxs(R,{children:[e.jsx(t,{variant:"outline",onClick:()=>he(!1),children:"Cancel"}),e.jsx(t,{variant:"destructive",onClick:async()=>{if(me)try{ve(!0),await Z.deleteAddon(me._id),he(!1);const e=me._id;pe(null),r(s=>s.filter(s=>s._id!==e)),se(e=>e-1)}catch(e){}finally{ve(!1)}},disabled:je,children:je?"Deleting...":"Delete"})]})]})})]})};export{X as default};
