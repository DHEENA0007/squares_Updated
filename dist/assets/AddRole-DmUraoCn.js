import{j as e}from"./ui-DHQhougw.js";import{d as s,r as a}from"./router-Bi51YGN-.js";import{a0 as i,f as r,A as t,a as l,b as n,c,d as o,e as d,L as m,I as p,T as h}from"./index-D7KzNfIb.js";import"./checkbox-BfDnM2ZP.js";import{r as x}from"./roleService-COv2zrkR.js";import"./vendor-eVk5PToZ.js";const j=()=>{const j=s(),{toast:v}=i(),[u,f]=a.useState(!1),[g,N]=a.useState({name:"",description:"",pages:[],level:1,isActive:!0});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>j("/admin/roles"),children:e.jsx(t,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create New Role"}),e.jsx("p",{className:"text-muted-foreground",children:"Define a new role with specific page access"})]})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),g.name.trim())try{f(!0),await x.createRole({name:g.name,description:g.description,pages:g.pages,level:g.level,isActive:g.isActive,isSystemRole:!1}),j("/admin/roles")}catch(s){}finally{f(!1)}else v({title:"Validation Error",description:"Role name is required",variant:"destructive"})},className:"space-y-6",children:[e.jsxs(l,{children:[e.jsxs(n,{children:[e.jsx(c,{children:"Basic Information"}),e.jsx(o,{children:"Enter the basic details for the role"})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(m,{htmlFor:"name",children:["Role Name ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(p,{id:"name",value:g.name,onChange:e=>N({...g,name:e.target.value}),placeholder:"e.g., Content Manager",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(h,{id:"description",value:g.description,onChange:e=>N({...g,description:e.target.value}),placeholder:"Describe the purpose and responsibilities of this role",rows:3})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(r,{type:"submit",disabled:u,children:u?"Creating...":"Create Role"}),e.jsx(r,{type:"button",variant:"outline",onClick:()=>j("/admin/roles"),disabled:u,children:"Cancel"})]})]})]})};export{j as default};
