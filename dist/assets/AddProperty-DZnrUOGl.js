import{j as e}from"./ui-DOY6021Z.js";import{r as h,d as Ae}from"./router-2SVJvIbS.js";import{q as y,r as N,s as w,v as F,w as p,I as S,m as W,t as A,f as T,aq as G,S as V,a as U,e as B,l as J,B as Se,b as H,c as K,E as ae,X as le,h as Pe,ao as qe}from"./index-DJqidggL.js";import{L as n}from"./label-B9O-vWmY.js";import{T as ne}from"./textarea-DO9hd5Hf.js";import{C as X}from"./checkbox-DRMy5EYZ.js";import{R as ke,a as re}from"./radio-group-ByJ4wPM2.js";import{A as E,a as R}from"./alert-diF-BNS3.js";import{P as Te}from"./PincodeAutocomplete-DMRtTwZt.js";import{A as Ue}from"./arrow-left-DvjMreL9.js";import{L as z}from"./loader-circle-C0zUPQir.js";import{C as Be}from"./camera-B6KGjwpp.js";import{U as de}from"./upload-PDzglfZI.js";import{V as oe}from"./video-DCSz15tc.js";import{I as ie}from"./indian-rupee-CzxTBUcA.js";import"./vendor-Dazix4UH.js";import"./dialog-DsaUnv7s.js";const me=[{type:"apartment",label:"Apartment",category:"residential",requiredFields:["bedrooms","bathrooms","builtUpArea","floor","totalFloors"],optionalFields:["carpetArea","furnishing","age","facing","parkingSpaces"],fieldConfigurations:{bedrooms:{label:"Bedrooms",options:[{value:"1",label:"1 BHK"},{value:"2",label:"2 BHK"},{value:"3",label:"3 BHK"},{value:"4",label:"4 BHK"},{value:"5",label:"5+ BHK"}]},bathrooms:{label:"Bathrooms",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4+"}]},areaFields:{builtUpArea:{label:"Built-up Area (sq ft)",placeholder:"e.g., 1200",required:!0},carpetArea:{label:"Carpet Area (sq ft)",placeholder:"e.g., 1000",required:!1}},furnishing:{options:[{value:"fully-furnished",label:"Fully Furnished"},{value:"semi-furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}]},specialFields:{floor:{label:"Floor",type:"input",placeholder:"e.g., Ground, 1st, 2nd",required:!0},totalFloors:{label:"Total Floors",type:"input",placeholder:"e.g., 5, 10, 15",required:!0}}},amenitiesFilter:["Elevator","Parking","Security","Power Backup","Water Supply","Gym/Fitness Center","Swimming Pool","Garden/Park"]},{type:"house",label:"House",category:"residential",requiredFields:["bedrooms","bathrooms","builtUpArea"],optionalFields:["carpetArea","plotArea","furnishing","age","facing","parkingSpaces"],fieldConfigurations:{bedrooms:{label:"Bedrooms",options:[{value:"1",label:"1 BHK"},{value:"2",label:"2 BHK"},{value:"3",label:"3 BHK"},{value:"4",label:"4 BHK"},{value:"5",label:"5+ BHK"}]},bathrooms:{label:"Bathrooms",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4+"}]},areaFields:{builtUpArea:{label:"Built-up Area (sq ft)",placeholder:"e.g., 2000",required:!0},carpetArea:{label:"Carpet Area (sq ft)",placeholder:"e.g., 1800",required:!1},plotArea:{label:"Plot Area (sq ft)",placeholder:"e.g., 3000",required:!1}},furnishing:{options:[{value:"fully-furnished",label:"Fully Furnished"},{value:"semi-furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}]}},amenitiesFilter:["Parking","Security","Garden/Park","Power Backup","Water Supply","Bore Well"]},{type:"villa",label:"Villa",category:"residential",requiredFields:["bedrooms","bathrooms","builtUpArea","plotArea"],optionalFields:["carpetArea","furnishing","age","facing","parkingSpaces"],fieldConfigurations:{bedrooms:{label:"Bedrooms",options:[{value:"2",label:"2 BHK"},{value:"3",label:"3 BHK"},{value:"4",label:"4 BHK"},{value:"5",label:"5+ BHK"}]},bathrooms:{label:"Bathrooms",options:[{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5+"}]},areaFields:{builtUpArea:{label:"Built-up Area (sq ft)",placeholder:"e.g., 3500",required:!0},carpetArea:{label:"Carpet Area (sq ft)",placeholder:"e.g., 3000",required:!1},plotArea:{label:"Plot Area (sq ft)",placeholder:"e.g., 5000",required:!0}},furnishing:{options:[{value:"fully-furnished",label:"Fully Furnished"},{value:"semi-furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}]}},amenitiesFilter:["Swimming Pool","Garden/Park","Parking","Security","Power Backup","Clubhouse","Spa"]},{type:"commercial",label:"Commercial",category:"commercial",requiredFields:["builtUpArea"],optionalFields:["carpetArea","furnishing","floor","totalFloors","parkingSpaces"],fieldConfigurations:{areaFields:{builtUpArea:{label:"Built-up Area (sq ft)",placeholder:"e.g., 2500",required:!0},carpetArea:{label:"Carpet Area (sq ft)",placeholder:"e.g., 2200",required:!1}},furnishing:{options:[{value:"fully-furnished",label:"Fully Furnished"},{value:"semi-furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Bare Shell"}]},specialFields:{commercialType:{label:"Commercial Type",type:"select",options:[{value:"office",label:"Office Space"},{value:"retail",label:"Retail Shop"},{value:"showroom",label:"Showroom"},{value:"warehouse",label:"Warehouse"},{value:"restaurant",label:"Restaurant Space"}],required:!0}}},amenitiesFilter:["Parking","Security","Power Backup","Elevator","CCTV Surveillance","Fire Safety","Central AC"]},{type:"office",label:"Office Space",category:"commercial",requiredFields:["builtUpArea","floor"],optionalFields:["carpetArea","furnishing","totalFloors","parkingSpaces"],fieldConfigurations:{areaFields:{builtUpArea:{label:"Built-up Area (sq ft)",placeholder:"e.g., 1500",required:!0},carpetArea:{label:"Carpet Area (sq ft)",placeholder:"e.g., 1300",required:!1}},furnishing:{options:[{value:"fully-furnished",label:"Fully Furnished"},{value:"semi-furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Bare Shell"}]},specialFields:{floor:{label:"Floor",type:"input",placeholder:"e.g., Ground, 1st, 2nd",required:!0},cabins:{label:"Number of Cabins",type:"number",placeholder:"e.g., 3",required:!1},workstations:{label:"Workstations",type:"number",placeholder:"e.g., 20",required:!1}}},amenitiesFilter:["Parking","Security","Power Backup","Elevator","CCTV Surveillance","Central AC","Cafeteria"]},{type:"plot",label:"Plot",category:"land",requiredFields:["plotArea"],optionalFields:["facing"],fieldConfigurations:{areaFields:{plotArea:{label:"Plot Area (sq ft)",placeholder:"e.g., 5000",required:!0},builtUpArea:{label:"Total Area (sq ft)",placeholder:"Same as plot area",required:!0}},specialFields:{plotType:{label:"Plot Type",type:"select",options:[{value:"residential",label:"Residential"},{value:"commercial",label:"Commercial"},{value:"industrial",label:"Industrial"}],required:!0},boundaryWall:{label:"Boundary Wall",type:"select",options:[{value:"complete",label:"Complete"},{value:"partial",label:"Partial"},{value:"none",label:"None"}],required:!1},roadWidth:{label:"Road Width (ft)",type:"input",placeholder:"e.g., 30",required:!1},cornerPlot:{label:"Corner Plot",type:"select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],required:!1}}},amenitiesFilter:["Road Access","Electricity","Water Connection","Sewerage"]},{type:"land",label:"Land",category:"land",requiredFields:["plotArea"],optionalFields:["facing"],fieldConfigurations:{areaFields:{plotArea:{label:"Land Area",placeholder:"Enter area with unit",required:!0},builtUpArea:{label:"Total Area",placeholder:"Same as land area",required:!0}},specialFields:{landType:{label:"Land Type",type:"select",options:[{value:"residential",label:"Residential"},{value:"commercial",label:"Commercial"},{value:"agricultural",label:"Agricultural"},{value:"industrial",label:"Industrial"}],required:!0},areaUnit:{label:"Area Unit",type:"select",options:[{value:"sqft",label:"Square Feet"},{value:"acre",label:"Acre"},{value:"sqm",label:"Square Meter"}],required:!0},roadWidth:{label:"Road Width (ft)",type:"input",placeholder:"e.g., 30",required:!1},cornerPlot:{label:"Corner Plot",type:"select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],required:!1}}},amenitiesFilter:["Road Access","Electricity","Water Connection","Clear Title"]},{type:"pg",label:"PG (Paying Guest)",category:"special",requiredFields:["bedrooms","builtUpArea"],optionalFields:["bathrooms","floor","furnishing"],fieldConfigurations:{bedrooms:{label:"Room Sharing",options:[{value:"1",label:"Single Sharing"},{value:"2",label:"Double Sharing"},{value:"3",label:"Triple Sharing"},{value:"4",label:"4+ Sharing"}]},bathrooms:{label:"Bathroom Type",options:[{value:"1",label:"Attached"},{value:"0",label:"Common"}]},areaFields:{builtUpArea:{label:"Room Area (sq ft)",placeholder:"e.g., 150",required:!0}},furnishing:{options:[{value:"fully-furnished",label:"Fully Furnished"},{value:"semi-furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}]},specialFields:{foodAvailability:{label:"Food Availability",type:"select",options:[{value:"meals-included",label:"Meals Included"},{value:"kitchen-available",label:"Kitchen Available"},{value:"no-meals",label:"No Meals"}],required:!0},gender:{label:"Gender Preference",type:"select",options:[{value:"male",label:"Boys Only"},{value:"female",label:"Girls Only"},{value:"both",label:"Co-ed"}],required:!0}}},amenitiesFilter:["Meals Included","Laundry Service","Room Cleaning","24/7 Security","WiFi","AC Rooms","Attached Bathroom"]}],D=l=>me.find(i=>i.type===l)||null,ue=l=>{const i=D(l);return i?i.requiredFields:[]},Ve=l=>{const i=D(l);return i?i.optionalFields:[]},Ee=(l,i)=>ue(l).includes(i),Re=(l,i)=>{const g=D(l);return g&&g.fieldConfigurations[i]||null},Ie=l=>D(l)?.amenitiesFilter||[],Le=(l,i)=>{const g=D(l);if(!g)return{isValid:!1,errors:["Invalid property type"]};const f=[];g.requiredFields.forEach(s=>{if(!i[s]||i[s]===""){const t=s.charAt(0).toUpperCase()+s.slice(1).replace(/([A-Z])/g," $1");f.push(`${t} is required`)}});const x=g.fieldConfigurations.areaFields;return x&&Object.entries(x).forEach(([s,t])=>{t&&t.required&&(!i[s]||i[s]==="")&&f.push(`${t.label} is required`)}),{isValid:f.length===0,errors:f}},pe=l=>{const i=h.useMemo(()=>D(l),[l]),g=h.useMemo(()=>ue(l),[l]),f=h.useMemo(()=>Ve(l),[l]),x=h.useMemo(()=>["apartment","villa","house"].includes(l),[l]),s=h.useMemo(()=>["commercial","office"].includes(l),[l]),t=h.useMemo(()=>["plot","land"].includes(l),[l]),v=h.useMemo(()=>l==="pg",[l]);return{config:i,requiredFields:g,optionalFields:f,allPropertyTypes:me,isFieldRequired:b=>Ee(l,b),getFieldConfig:b=>Re(l,b),getAmenities:()=>Ie(l),validateData:b=>Le(l,b),isResidential:x,isCommercial:s,isLand:t,isPG:v}},Oe=({propertyType:l,formData:i,setFormData:g,showValidationErrors:f=!1})=>{const{config:x,isResidential:s,isCommercial:t,isLand:v,isPG:I,isFieldRequired:k,validateData:$}=pe(l),P=$(i);if(!x)return e.jsx(E,{children:e.jsx(R,{children:"Please select a property type to see relevant property specifications."})});const b=(o,u)=>{g(c=>({...c,[o]:u}))},L=()=>{if(!s&&!I)return null;const o=x.fieldConfigurations.bedrooms,u=x.fieldConfigurations.bathrooms;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"bedrooms",className:"text-base font-medium",children:[o.label," ",k("bedrooms")&&"*"]}),e.jsxs(y,{value:i.bedrooms,onValueChange:c=>b("bedrooms",c),children:[e.jsx(N,{className:"h-12",children:e.jsx(w,{placeholder:"Select"})}),e.jsx(F,{children:o.options.map(c=>e.jsx(p,{value:c.value,children:c.label},c.value))})]})]}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"bathrooms",className:"text-base font-medium",children:[u.label," ",k("bathrooms")&&"*"]}),e.jsxs(y,{value:i.bathrooms,onValueChange:c=>b("bathrooms",c),children:[e.jsx(N,{className:"h-12",children:e.jsx(w,{placeholder:"Select"})}),e.jsx(F,{children:u.options.map(c=>e.jsx(p,{value:c.value,children:c.label},c.value))})]})]}),x.fieldConfigurations.furnishing&&(s||t)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"furnishing",className:"text-base font-medium",children:["Furnishing ",k("furnishing")&&"*"]}),e.jsxs(y,{value:i.furnishing,onValueChange:c=>b("furnishing",c),children:[e.jsx(N,{className:"h-12",children:e.jsx(w,{placeholder:"Select"})}),e.jsx(F,{children:x.fieldConfigurations.furnishing.options.map(c=>e.jsx(p,{value:c.value,children:c.label},c.value))})]})]})]})},Y=()=>{const o=x.fieldConfigurations.areaFields;return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.builtUpArea&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"builtUpArea",className:"text-base font-medium",children:[o.builtUpArea.label," ",o.builtUpArea.required&&"*"]}),e.jsx(S,{id:"builtUpArea",placeholder:o.builtUpArea.placeholder,className:"h-12",value:i.builtUpArea,onChange:u=>b("builtUpArea",u.target.value)})]}),o.carpetArea&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"carpetArea",className:"text-base font-medium",children:[o.carpetArea.label," ",o.carpetArea.required&&"*"]}),e.jsx(S,{id:"carpetArea",placeholder:o.carpetArea.placeholder,className:"h-12",value:i.carpetArea,onChange:u=>b("carpetArea",u.target.value)})]}),o.plotArea&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"plotArea",className:"text-base font-medium",children:[o.plotArea.label," ",o.plotArea.required&&"*"]}),e.jsx(S,{id:"plotArea",placeholder:o.plotArea.placeholder,className:"h-12",value:i.plotArea,onChange:u=>b("plotArea",u.target.value)})]})]}):null},Z=()=>{const o=x.fieldConfigurations.specialFields;return o?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(o).map(([u,c])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:u,className:"text-base font-medium",children:[c.label," ",c.required&&"*"]}),c.type==="select"&&c.options?e.jsxs(y,{value:i[u],onValueChange:q=>b(u,q),children:[e.jsx(N,{className:"h-12",children:e.jsx(w,{placeholder:"Select"})}),e.jsx(F,{children:c.options.map(q=>e.jsx(p,{value:q.value,children:q.label},q.value))})]}):e.jsx(S,{id:u,type:c.type==="number"?"number":"text",placeholder:c.placeholder,className:"h-12",value:i[u],onChange:q=>b(u,q.target.value)})]},u))}):null};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[x.category," Property Details"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fill in the details specific to ",x.label.toLowerCase()]})]}),f&&!P.isValid&&P.errors.length>0&&e.jsx(E,{variant:"destructive",children:e.jsxs(R,{children:[e.jsx("div",{children:"Please fix the following errors:"}),e.jsx("ul",{className:"list-disc list-inside mt-2",children:P.errors.map((o,u)=>e.jsx("li",{children:o},u))})]})}),L(),Y(),Z(),I&&e.jsx(E,{children:e.jsx(R,{children:"For PG properties, room sharing indicates the number of people per room, and area should reflect the individual room size."})}),v&&e.jsx(E,{children:e.jsx(R,{children:"For land/plot properties, ensure you specify the correct land type and verify all legal documentation before listing."})}),t&&e.jsx(E,{children:e.jsx(R,{children:"Commercial properties may have different pricing structures and legal requirements. Verify zoning permissions before listing."})})]})},ce=async(l,i)=>{const g=new FormData;g.append("file",l),g.append("folder",i);try{const f=await fetch("https://squares-v2.onrender.com/api/upload/single",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:g});if(!f.ok)throw new Error("Failed to upload file");const x=await f.json();if(!x.success)throw new Error(x.message||"Upload failed");return x.data.url}catch(f){throw console.error("File upload error:",f),new Error("Failed to upload file")}},rs=()=>{const l=Ae(),[i,g]=h.useState(1),[f,x]=h.useState(!1),[s,t]=h.useState({title:"",description:"",propertyType:"",listingType:"",address:"",country:"India",countryCode:"IN",state:"",stateCode:"",district:"",districtCode:"",city:"",cityCode:"",taluk:"",locationName:"",pincode:"",bedrooms:"",bathrooms:"",floor:"",totalFloors:"",furnishing:"",age:"",builtUpArea:"",carpetArea:"",plotArea:"",price:"",priceNegotiable:!1,maintenanceCharges:"",securityDeposit:"",amenities:[],images:[],videos:[],virtualTour:"",availability:"",possession:"",facing:"",parkingSpaces:"",roadWidth:"",cornerPlot:"",isVerified:!0,isFeatured:!1,status:"active",ownerType:"admin",clientName:""}),[v,I]=h.useState([]),[k,$]=h.useState([]),[P,b]=h.useState(!1),[L,Y]=h.useState(!1),{getAmenities:Z}=pe(s.propertyType),[o,u]=h.useState({country:"India",state:"",district:"",city:""}),[c,q]=h.useState([]),[he,te]=h.useState([]),[xe,Q]=h.useState([]),[O,M]=h.useState({states:!1,districts:!1,cities:!1,pincode:!1});h.useEffect(()=>{(async()=>{M(r=>({...r,states:!0}));try{await W.initialize();const r=W.getStates();q(r),console.log(`Loaded ${r.length} states from loca.json`)}catch(r){console.error("Error initializing loca service:",r),A({title:"Error",description:"Failed to load location data. Please refresh the page.",variant:"destructive"})}finally{M(r=>({...r,states:!1}))}})()},[]),h.useEffect(()=>{if(!s.state){te([]);return}M(a=>({...a,districts:!0}));try{const a=W.getDistricts(s.state);te(a),console.log(`Loaded ${a.length} districts for ${s.state}`),t(r=>({...r,district:"",city:"",pincode:""})),u(r=>({...r,district:"",city:""})),Q([])}catch(a){console.error("Error loading districts:",a),A({title:"Error",description:"Failed to load districts. Please try again.",variant:"destructive"})}finally{M(a=>({...a,districts:!1}))}},[s.state]),h.useEffect(()=>{if(!s.state||!s.district){Q([]);return}M(a=>({...a,cities:!0}));try{const a=W.getCities(s.state,s.district);Q(a),console.log(`Loaded ${a.length} cities for ${s.district}`),t(r=>({...r,city:"",pincode:""})),u(r=>({...r,city:""}))}catch(a){console.error("Error loading cities:",a),A({title:"Error",description:"Failed to load cities. Please try again.",variant:"destructive"})}finally{M(a=>({...a,cities:!1}))}},[s.state,s.district]),h.useEffect(()=>{s.state&&u(a=>({...a,state:s.state}))},[s.state]),h.useEffect(()=>{s.district&&u(a=>({...a,district:s.district}))},[s.district]),h.useEffect(()=>{s.city&&u(a=>({...a,city:s.city}))},[s.city]),h.useEffect(()=>{const a=[];o.city&&a.push(o.city),o.district&&a.push(o.district),o.state&&a.push(o.state),s.pincode&&a.push(s.pincode),a.length>0&&!s.address.trim()&&t(r=>({...r,address:a.join(", ")}))},[o,s.pincode]);const ee=[{id:1,title:"Basic Details",description:"Property type and listing details"},{id:2,title:"Location",description:"Address and location information"},{id:3,title:"Property Details",description:"Specifications and measurements"},{id:4,title:"Pricing",description:"Price and financial details"},{id:5,title:"Amenities",description:"Features and facilities"},{id:6,title:"Media",description:"Photos, videos, and virtual tours"},{id:7,title:"Owner Information",description:"Property owner details"},{id:8,title:"Admin Settings",description:"Verification and status settings"},{id:9,title:"Review",description:"Review and submit listing"}],ge=[{value:"apartment",label:"Apartment"},{value:"villa",label:"Villa"},{value:"house",label:"House"},{value:"commercial",label:"Commercial"},{value:"plot",label:"Plot"},{value:"land",label:"Land"},{value:"office",label:"Office Space"},{value:"pg",label:"PG (Paying Guest)"}],fe=["Swimming Pool","Gym/Fitness Center","Parking","Security","Garden/Park","Playground","Clubhouse","Power Backup","Elevator","WiFi","CCTV Surveillance","Intercom","Water Supply","Waste Management","Fire Safety","Visitor Parking","Shopping Complex","Restaurant","Spa","Jogging Track","Meals Included","Laundry Service","Room Cleaning","24/7 Security","Common Kitchen","Common Area","Study Room","Single Occupancy","Double Occupancy","Triple Occupancy","AC Rooms","Non-AC Rooms","Attached Bathroom","Common Bathroom","Wi-Fi in Rooms","TV in Rooms"],be=()=>{i<ee.length&&g(i+1)},je=()=>{i>1&&g(i-1)},ve=async()=>{if(f)return;const a={title:s.title?.trim(),description:s.description?.trim(),propertyType:s.propertyType,listingType:s.listingType,price:s.price,builtUpArea:s.builtUpArea,pincode:s.pincode},r=Object.entries(a).filter(([m,j])=>!j).map(([m])=>m);if(r.length>0){A({title:"Missing Required Fields",description:`Please fill in: ${r.join(", ")}`,variant:"destructive"});return}if(!s.ownerType){A({title:"Owner Information Required",description:"Please select owner type (Admin or Client)",variant:"destructive"});return}if(s.ownerType==="client"&&!s.clientName?.trim()){A({title:"Client Name Required",description:"Please enter the client name when owner type is Client",variant:"destructive"});return}if(!s.state||!s.city){A({title:"Location Required",description:"Please select state and city for your property",variant:"destructive"});return}x(!0);try{const m=[];for(const C of v)if(C.file){const se=await ce(C.file,"admin_property_images");m.push({url:se,caption:C.name,isPrimary:m.length===0})}const j=[];for(const C of k)if(C.file){const se=await ce(C.file,"admin_property_videos");j.push({url:se,caption:C.name})}const d={title:s.title.trim(),description:s.description.trim(),type:s.propertyType,listingType:s.listingType,price:parseFloat(s.price),area:{builtUp:s.builtUpArea?parseFloat(s.builtUpArea):void 0,carpet:s.carpetArea?parseFloat(s.carpetArea):void 0,plot:s.plotArea?parseFloat(s.plotArea):void 0,unit:"sqft"},bedrooms:s.bedrooms?parseInt(s.bedrooms):0,bathrooms:s.bathrooms?parseInt(s.bathrooms):0,address:{street:s.address.trim(),district:s.district||"",city:s.city||"",state:s.state||"",pincode:s.pincode},amenities:s.amenities||[],images:m||[],videos:j||[],isVerified:s.isVerified,isFeatured:s.isFeatured,status:s.status,isAdminProperty:!0,ownerType:s.ownerType,clientName:s.ownerType==="client"?s.clientName:void 0};s.virtualTour?.trim()&&(d.virtualTour=s.virtualTour.trim()),s.furnishing&&(d.furnishing=s.furnishing),s.age&&(d.age=s.age),s.floor?.trim()&&(d.floor=s.floor.trim()),s.totalFloors?.trim()&&(d.totalFloors=s.totalFloors.trim()),s.facing&&(d.facing=s.facing),s.parkingSpaces&&(d.parkingSpaces=s.parkingSpaces),s.priceNegotiable!==void 0&&(d.priceNegotiable=s.priceNegotiable),s.maintenanceCharges?.trim()&&(d.maintenanceCharges=parseFloat(s.maintenanceCharges)),s.securityDeposit?.trim()&&(d.securityDeposit=parseFloat(s.securityDeposit)),s.availability?.trim()&&(d.availability=s.availability.trim()),s.possession?.trim()&&(d.possession=s.possession.trim()),s.roadWidth?.trim()&&(d.roadWidth=s.roadWidth.trim()),s.cornerPlot&&(d.cornerPlot=s.cornerPlot),console.log("Property data being sent:",JSON.stringify(d,null,2));const _=await qe.createProperty(d);A({title:"Success!",description:"Property created successfully by admin."}),l("/admin/properties")}catch(m){console.error("Error submitting property:",m);let j="Failed to submit property. Please try again.";m instanceof Error&&(j=m.message),A({title:"Error",description:j,variant:"destructive"})}finally{x(!1)}},ye=a=>{t(r=>({...r,amenities:r.amenities.includes(a)?r.amenities.filter(m=>m!==a):[...r.amenities,a]}))},Ne=async a=>{if(a.target.files){const r=Array.from(a.target.files);b(!0);try{const m=r.map(async d=>({id:Date.now()+Math.random(),name:d.name,url:URL.createObjectURL(d),file:d})),j=await Promise.all(m);I(d=>[...d,...j])}catch(m){console.error("Error processing images:",m)}finally{b(!1)}}},we=async a=>{if(a.target.files){const r=Array.from(a.target.files);Y(!0);try{const m=r.map(async d=>({id:Date.now()+Math.random(),name:d.name,url:URL.createObjectURL(d),file:d})),j=await Promise.all(m);$(d=>[...d,...j])}catch(m){console.error("Error processing videos:",m)}finally{Y(!1)}}},Fe=a=>{I(r=>r.filter(m=>m.id!==a))},Ce=()=>{switch(i){case 1:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"title",className:"text-base font-medium",children:"Property Title *"}),e.jsx(S,{id:"title",placeholder:"e.g., Luxury 3BHK Apartment in Bandra",value:s.title,onChange:a=>t(r=>({...r,title:a.target.value})),className:"h-12 text-base"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"propertyType",className:"text-base font-medium",children:"Property Type *"}),e.jsxs(y,{value:s.propertyType,onValueChange:a=>t(r=>({...r,propertyType:a})),children:[e.jsx(N,{className:"h-12",children:e.jsx(w,{placeholder:"Select property type"})}),e.jsx(F,{children:ge.map(a=>e.jsx(p,{value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Listing Type *"}),e.jsxs(ke,{value:s.listingType,onValueChange:a=>t(r=>({...r,listingType:a})),children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/30",children:[e.jsx(re,{value:"sale",id:"sale"}),e.jsx(n,{htmlFor:"sale",className:"text-base",children:"For Sale"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/30",children:[e.jsx(re,{value:"rent",id:"rent"}),e.jsx(n,{htmlFor:"rent",className:"text-base",children:"For Rent"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/30",children:[e.jsx(re,{value:"lease",id:"lease"}),e.jsx(n,{htmlFor:"lease",className:"text-base",children:"For Lease"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"description",className:"text-base font-medium",children:"Property Description"}),e.jsx(ne,{id:"description",placeholder:"Describe your property in detail...",rows:6,value:s.description,onChange:a=>t(r=>({...r,description:a.target.value})),className:"text-base"})]})]});case 2:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(U,{className:"border-primary/30 shadow-md",children:[e.jsxs(H,{className:"pb-4",children:[e.jsxs(K,{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[e.jsx(Pe,{className:"w-6 h-6 text-primary"}),"Property Location"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your property location and pincode"})]}),e.jsx(B,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"state",children:"State *"}),e.jsxs(y,{value:s.state,onValueChange:a=>{t(r=>({...r,state:a,stateCode:a}))},disabled:O.states,children:[e.jsx(N,{children:e.jsx(w,{placeholder:O.states?"Loading states...":"Select state"})}),e.jsx(F,{children:c.map(a=>e.jsx(p,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"district",children:"District *"}),e.jsxs(y,{value:s.district,onValueChange:a=>{t(r=>({...r,district:a,districtCode:a}))},disabled:!s.state||O.districts,children:[e.jsx(N,{children:e.jsx(w,{placeholder:s.state?O.districts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(F,{children:he.map(a=>e.jsx(p,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"city",children:"City *"}),e.jsxs(y,{value:s.city,onValueChange:a=>{t(r=>({...r,city:a,cityCode:a}))},disabled:!s.district||O.cities,children:[e.jsx(N,{children:e.jsx(w,{placeholder:s.district?O.cities?"Loading cities...":"Select city":"Select district first"})}),e.jsx(F,{children:xe.map(a=>e.jsx(p,{value:a,children:a},a))})]})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"pincode",className:"text-base font-medium",children:"PIN Code *"}),e.jsx(Te,{value:s.pincode,onChange:(a,r)=>{console.log("Pincode selected:",a,r),t(m=>({...m,pincode:a})),r&&(console.log("Auto-filling location from pincode:",r),r.state&&c.includes(r.state.toUpperCase())&&(t(m=>({...m,state:r.state.toUpperCase(),stateCode:r.state.toUpperCase()})),setTimeout(()=>{if(r.district){const j=W.getDistricts(r.state.toUpperCase()).find(d=>d.toUpperCase()===r.district.toUpperCase());j&&(t(d=>({...d,district:j,districtCode:j})),setTimeout(()=>{if(r.city){const _=W.getCities(r.state.toUpperCase(),j).find(C=>C.toUpperCase()===r.city.toUpperCase());_&&t(C=>({...C,city:_,cityCode:_}))}},100))}},100)),A({title:"Location Auto-filled ✓",description:`${r.city}, ${r.district}, ${r.state}`}))},state:s.state,district:s.district,city:s.city,placeholder:"Enter or select 6-digit PIN code",className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Select state, district, and city above to see matching pincodes, or type to search"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"address",children:"Complete Address"}),e.jsx(ne,{id:"address",placeholder:"Enter complete address with landmark",rows:3,value:s.address,onChange:a=>t(r=>({...r,address:a.target.value}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be auto-filled from location details above"})]})]});case 3:return e.jsx(Oe,{propertyType:s.propertyType,formData:s,setFormData:t,showValidationErrors:!1});case 4:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"price",className:"text-base font-medium",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(S,{id:"price",placeholder:"Enter price",className:"pl-12 h-12 text-base",value:s.price,onChange:a=>t(r=>({...r,price:a.target.value}))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"maintenanceCharges",className:"text-base font-medium",children:"Maintenance Charges (Monthly)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(S,{id:"maintenanceCharges",placeholder:"Optional",className:"pl-12 h-12 text-base",value:s.maintenanceCharges,onChange:a=>t(r=>({...r,maintenanceCharges:a.target.value}))})]})]})]}),(s.listingType==="rent"||s.listingType==="lease")&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"securityDeposit",className:"text-base font-medium",children:"Security Deposit"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(S,{id:"securityDeposit",placeholder:"Enter security deposit",className:"pl-12 h-12 text-base",value:s.securityDeposit,onChange:a=>t(r=>({...r,securityDeposit:a.target.value}))})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-muted/20 rounded-lg border",children:[e.jsx(X,{id:"priceNegotiable",checked:s.priceNegotiable,onCheckedChange:a=>t(r=>({...r,priceNegotiable:a===!0})),className:"h-5 w-5"}),e.jsx(n,{htmlFor:"priceNegotiable",className:"text-base font-medium",children:"Price is negotiable"})]})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{className:"text-base font-medium",children:"Property Amenities"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select all amenities available in your property"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(s.propertyType?Z():fe).map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:a,checked:s.amenities.includes(a),onCheckedChange:()=>ye(a)}),e.jsx(n,{htmlFor:a,className:"text-sm",children:a})]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"facing",children:"Facing"}),e.jsxs(y,{value:s.facing,onValueChange:a=>t(r=>({...r,facing:a})),children:[e.jsx(N,{children:e.jsx(w,{placeholder:"Select"})}),e.jsxs(F,{children:[e.jsx(p,{value:"north",children:"North"}),e.jsx(p,{value:"south",children:"South"}),e.jsx(p,{value:"east",children:"East"}),e.jsx(p,{value:"west",children:"West"}),e.jsx(p,{value:"north-east",children:"North-East"}),e.jsx(p,{value:"north-west",children:"North-West"}),e.jsx(p,{value:"south-east",children:"South-East"}),e.jsx(p,{value:"south-west",children:"South-West"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"parkingSpaces",children:"Parking Spaces"}),e.jsxs(y,{value:s.parkingSpaces,onValueChange:a=>t(r=>({...r,parkingSpaces:a})),children:[e.jsx(N,{children:e.jsx(w,{placeholder:"Select"})}),e.jsxs(F,{children:[e.jsx(p,{value:"0",children:"No Parking"}),e.jsx(p,{value:"1",children:"1 Car"}),e.jsx(p,{value:"2",children:"2 Cars"}),e.jsx(p,{value:"3",children:"3+ Cars"})]})]})]})]})]});case 6:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx(n,{className:"text-xl font-semibold",children:"Property Images"}),e.jsx("p",{className:"text-base text-muted-foreground mb-6 mt-2",children:"Upload high-quality images of your property (up to 20 images)"}),e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[e.jsx(Be,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(T,{variant:"outline",onClick:()=>document.getElementById("image-upload")?.click(),size:"lg",className:"px-8",disabled:P,children:P?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"w-5 h-5 mr-2"}),"Choose Images"]})}),e.jsx("p",{className:"text-base text-muted-foreground",children:"or drag and drop images here"})]}),e.jsx("input",{id:"image-upload",type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:Ne,disabled:P})]}),P&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsx(z,{className:"w-5 h-5 animate-spin text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Processing images..."})]}),v.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:v.map(a=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.url,alt:a.name,className:"w-full h-24 object-cover rounded-lg"}),e.jsx(T,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6",onClick:()=>Fe(a.id),children:e.jsx(le,{className:"h-3 w-3"})})]},a.id))})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-xl font-semibold",children:"Property Videos (Optional)"}),e.jsx("p",{className:"text-base text-muted-foreground mb-6 mt-2",children:"Upload videos to showcase your property better"}),e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-12 text-center hover:border-primary/50 transition-colors",children:[e.jsx(oe,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(T,{variant:"outline",onClick:()=>document.getElementById("video-upload")?.click(),size:"lg",className:"px-8",disabled:L,children:L?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"w-5 h-5 mr-2"}),"Upload Video"]})}),e.jsx("p",{className:"text-base text-muted-foreground",children:"MP4, MOV, AVI (max 100MB)"})]}),e.jsx("input",{id:"video-upload",type:"file",multiple:!0,accept:"video/*",className:"hidden",onChange:we,disabled:L})]}),L&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsx(z,{className:"w-5 h-5 animate-spin text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Processing videos..."})]}),k.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:k.map(a=>e.jsx("div",{className:"relative border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Video file"})]}),e.jsx(T,{size:"icon",variant:"destructive",className:"h-6 w-6",onClick:()=>$(r=>r.filter(m=>m.id!==a.id)),children:e.jsx(le,{className:"h-3 w-3"})})]})},a.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"virtualTour",className:"text-base font-medium",children:"Virtual Tour URL (Optional)"}),e.jsx(S,{id:"virtualTour",placeholder:"e.g., https://your-virtual-tour-link.com",value:s.virtualTour,onChange:a=>t(r=>({...r,virtualTour:a.target.value})),className:"h-12 text-base"})]})]});case 7:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-primary to-blue-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:e.jsx(G,{className:"h-12 w-12 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent mb-3",children:"Owner Information"}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-md mx-auto",children:"Specify who owns this property"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(U,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-blue-50/50 hover:shadow-lg transition-all duration-300",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-xl",children:"Property Owner"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select who owns this property"})]})]})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{htmlFor:"ownerType",className:"text-base font-medium",children:"Owner Type *"}),e.jsxs(y,{value:s.ownerType,onValueChange:a=>t(r=>({...r,ownerType:a,clientName:a==="admin"?"":r.clientName})),children:[e.jsx(N,{className:"h-12 border-2 border-primary/20 bg-background/50",children:e.jsx(w,{placeholder:"Select owner type"})}),e.jsxs(F,{children:[e.jsx(p,{value:"admin",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-blue-600"}),"Admin"]})}),e.jsx(p,{value:"client",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Client"]})})]})]}),s.ownerType==="client"&&e.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-300",children:[e.jsx(n,{htmlFor:"clientName",className:"text-base font-medium",children:"Client Name *"}),e.jsx(S,{id:"clientName",placeholder:"Enter client's full name",className:"h-12 border-2 border-green-200/50 bg-background/50",value:s.clientName,onChange:a=>t(r=>({...r,clientName:a.target.value}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be shown as the property owner in contact information"})]})]})})]}),e.jsxs(U,{className:"border-2 border-green-200 bg-gradient-to-r from-green-50/50 to-emerald-50/50 hover:shadow-lg transition-all duration-300",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ae,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-xl",children:"Contact Information Preview"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"How customers will see the contact information"})]})]})}),e.jsx(B,{children:e.jsx("div",{className:"p-4 bg-background/50 rounded-lg border border-green-200/50",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Owner:"}),e.jsx("span",{children:s.ownerType==="admin"?"Squares":s.clientName||"Client Name"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{children:"Type:"}),e.jsx("span",{children:s.ownerType==="admin"?"Platform Admin":"Property Owner"})]})]})})})]})]})]});case 8:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-primary to-blue-600 rounded-full flex items-center justify-center mb-6 shadow-lg",children:e.jsx(V,{className:"h-12 w-12 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent mb-3",children:"Admin Settings"}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-md mx-auto",children:"Configure admin-specific settings for this property"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(U,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-blue-50/50 hover:shadow-lg transition-all duration-300",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-xl",children:"Property Verification"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Admin properties are automatically verified"})]})]})}),e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/50 rounded-lg border border-primary/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(J,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx(n,{className:"text-base font-medium",children:"Verified Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically approved"})]})]}),e.jsx(X,{id:"isVerified",checked:s.isVerified,onCheckedChange:a=>t(r=>({...r,isVerified:a===!0})),className:"h-5 w-5 border-2"})]})})]}),e.jsxs(U,{className:"border-2 border-amber-200 bg-gradient-to-r from-amber-50/50 to-orange-50/50 hover:shadow-lg transition-all duration-300",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx(ae,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-xl",children:"Featured Property"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark as featured for better visibility"})]})]})}),e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/50 rounded-lg border border-amber-200/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx(n,{className:"text-base font-medium",children:"Featured Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enhanced visibility"})]})]}),e.jsx(X,{id:"isFeatured",checked:s.isFeatured,onCheckedChange:a=>t(r=>({...r,isFeatured:a===!0})),className:"h-5 w-5 border-2"})]})})]}),e.jsxs(U,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 hover:shadow-lg transition-all duration-300",children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-xl",children:"Property Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set the current status of this property"})]})]})}),e.jsx(B,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"status",className:"text-base font-medium",children:"Current Status"}),e.jsxs(y,{value:s.status,onValueChange:a=>t(r=>({...r,status:a})),children:[e.jsx(N,{className:"h-12 border-2 border-blue-200/50 bg-background/50",children:e.jsx(w,{placeholder:"Select property status"})}),e.jsxs(F,{children:[e.jsx(p,{value:"active",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]})}),e.jsx(p,{value:"pending",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Pending"]})}),e.jsx(p,{value:"inactive",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),"Inactive"]})}),e.jsx(p,{value:"sold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Sold"]})}),e.jsx(p,{value:"rented",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Rented"]})})]})]})]})})]})]}),e.jsx(E,{className:"border-2 border-amber-200 bg-gradient-to-r from-amber-50 to-yellow-50 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(V,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-semibold text-amber-800 text-lg",children:"Admin Privileges"}),e.jsx(R,{className:"text-amber-700 text-base leading-relaxed",children:"As an admin, you can add unlimited properties without subscription limits. All admin properties bypass normal verification processes and get priority listing placement."})]})]})})]});case 9:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(J,{className:"mx-auto h-20 w-20 text-green-600 mb-6"}),e.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Review Your Listing"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Please review all the details before submitting your property listing"})]}),e.jsx(U,{className:"shadow-lg",children:e.jsxs(B,{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Basic Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Title:"})," ",s.title]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",s.propertyType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Listing:"})," ",s.listingType]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Location"}),e.jsxs("p",{children:[e.jsx("strong",{children:"State:"})," ",s.state||"Not selected"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",s.city||"Not selected"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pincode:"})," ",s.pincode||"Not provided"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Property Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Bedrooms:"})," ",s.bedrooms]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Area:"})," ",s.builtUpArea," sq ft"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Furnishing:"})," ",s.furnishing]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Pricing"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ₹",s.price]}),s.maintenanceCharges&&e.jsxs("p",{children:[e.jsx("strong",{children:"Maintenance:"})," ₹",s.maintenanceCharges,"/month"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Owner Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Owner Type:"})," ",s.ownerType==="admin"?"Admin":"Client"]}),s.ownerType==="client"&&e.jsxs("p",{children:[e.jsx("strong",{children:"Client Name:"})," ",s.clientName||"Not specified"]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-primary"}),"Admin Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Verified:"})," ",s.isVerified?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Featured:"})," ",s.isFeatured?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.status]})]})]}),s.amenities.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.amenities.map(a=>e.jsx(Se,{variant:"secondary",children:a},a))})]}),v.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-semibold mb-2",children:["Images (",v.length,")"]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[v.slice(0,4).map(a=>e.jsx("img",{src:a.url,alt:a.name,className:"w-full h-16 object-cover rounded"},a.id)),v.length>4&&e.jsxs("div",{className:"w-full h-16 bg-muted rounded flex items-center justify-center text-sm",children:["+",v.length-4," more"]})]})]})]})})]});default:return null}};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 md:space-y-8 p-4 md:p-6 mt-6 md:mt-8",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>l("/admin/properties"),className:"mt-1",children:e.jsx(Ue,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2 flex-wrap",children:[e.jsx(G,{className:"w-6 md:w-8 h-6 md:h-8 text-primary"}),e.jsx(V,{className:"w-5 md:w-6 h-5 md:h-6 text-blue-600"}),e.jsx("span",{children:"Add New Property (Admin)"})]}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm md:text-base",children:"Admin panel - Add properties with unlimited access and special privileges"})]})]})}),e.jsxs(E,{className:"border-blue-200 bg-blue-50 dark:bg-black p-4 md:p-6",children:[e.jsx(V,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),e.jsxs(R,{className:"text-sm md:text-base",children:[e.jsx("strong",{children:"Admin Mode:"})," You have unlimited property creation privileges. Properties added through admin panel are automatically verified and bypass subscription limits."]})]}),e.jsx(U,{className:"shadow-lg",children:e.jsxs(B,{className:"p-6 md:p-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-10 gap-2 overflow-x-auto pb-4",children:ee.map((a,r)=>e.jsxs("div",{className:"flex flex-col items-center min-w-[120px] flex-shrink-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 mb-3 ${i>=a.id?"bg-primary border-primary text-primary-foreground":"border-muted-foreground text-muted-foreground"}`,children:i>a.id?e.jsx(J,{className:"w-6 h-6"}):e.jsx("span",{className:"text-sm font-semibold",children:a.id})}),e.jsxs("div",{className:"text-center px-1",children:[e.jsx("p",{className:"text-sm font-medium leading-tight break-words",children:a.title}),e.jsx("p",{className:"text-xs text-muted-foreground leading-tight mt-1 break-words",children:a.description})]})]},a.id))}),e.jsx("div",{className:"min-h-[500px] bg-gradient-to-br from-background to-muted/20 rounded-lg p-4 md:p-8 border",children:Ce()}),e.jsxs("div",{className:"flex justify-between mt-8 md:mt-10",children:[e.jsx(T,{variant:"outline",onClick:je,disabled:i===1,size:"lg",className:"px-8",children:"Previous"}),i===ee.length?e.jsx(T,{onClick:ve,className:"px-12",disabled:f,size:"lg",children:f?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-5 h-5 mr-2"}),"Submit Property (Admin)"]})}):e.jsx(T,{onClick:be,size:"lg",className:"px-8",children:"Next"})]})]})})]})};export{rs as default};
