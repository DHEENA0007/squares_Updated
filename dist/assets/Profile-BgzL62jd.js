import{j as e}from"./ui-DHQhougw.js";import{d as s,r as t}from"./router-Bi51YGN-.js";import{q as a,a2 as i,v as r,t as c,aB as l,f as n,p as o,am as d,a4 as m,a5 as p,a6 as u,ak as h,a as x,e as f,a7 as g,a8 as j,a9 as v,B as y,M as N,P as w,j as b,b as S,c as C,L as P,I as $,C as k,S as D,l as R,m as F,n as q,o as A,T,aj as I,Y as V,E,af as L,ar as M}from"./index-B494FSRu.js";import{P as U}from"./PincodeAutocomplete-CcIrQ3zD.js";import{locaService as O}from"./locaService-BHv9WoZx.js";import{u as z}from"./use-mobile-WsBtvUz6.js";import{c as J}from"./customerDashboardService-ZWyMN7g0.js";import{u as _}from"./uploadService-Bwy6d1dt.js";import{R as B}from"./refresh-cw-CG5q2i5F.js";import{P as H}from"./pen-line-D7ArZ5_h.js";import{C as G}from"./camera-BqmuXAO9.js";import{S as Y}from"./shield-juP9eV8-.js";import{C as Q}from"./calendar-DEtUwBTO.js";import{T as K}from"./trending-up-h12q0I83.js";import{A as W}from"./activity-BTJrxK9F.js";import"./vendor-eVk5PToZ.js";import"./command-BWiq5F-M.js";const X=new class{baseUrl="https://api.buildhomemartsquares.com/api";async makeRequest(e,s={}){const t=`${this.baseUrl}${e}`,i={headers:{"Content-Type":"application/json",...s.headers},...s},r=a.getToken();r&&(i.headers={...i.headers,Authorization:`Bearer ${r}`});try{const e=await fetch(t,i);if(!e.ok){const s=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(s.message||"An error occurred")}return await e.json()}catch(c){throw c}}async getCustomerProperties(e={}){try{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t.toString())});const t="/customer/properties"+(s.toString()?`?${s.toString()}`:"");return await this.makeRequest(t)}catch(s){return{success:!0,data:{properties:[],pagination:{currentPage:1,totalPages:0,totalProperties:0,hasNextPage:!1,hasPrevPage:!1},stats:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}}async getCustomerPropertyStats(){try{return await this.makeRequest("/customer/properties/stats")}catch(e){return{success:!0,data:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}async getProperty(e){try{return await this.makeRequest(`/customer/properties/${e}`)}catch(s){throw s}}async createProperty(e){try{return await this.makeRequest("/customer/properties",{method:"POST",body:JSON.stringify(e)})}catch(s){throw s}}async updateProperty(e,s){try{return await this.makeRequest(`/customer/properties/${e}`,{method:"PUT",body:JSON.stringify(s)})}catch(t){throw t}}async deleteProperty(e){try{await this.makeRequest(`/customer/properties/${e}`,{method:"DELETE"})}catch(s){throw s}}async togglePropertyStatus(e,s){try{return await this.makeRequest(`/customer/properties/${e}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}catch(t){throw t}}async togglePropertyFeatured(e,s){try{return await this.makeRequest(`/customer/properties/${e}/featured`,{method:"PATCH",body:JSON.stringify({featured:s})})}catch(t){const e=t.response?.data||t;throw(e.upgradeRequired||e.limitReached)&&function(){throw new Error("Function not implemented.")}((e.limitReached,e.message)),t}}async getPropertyAnalytics(e,s="month"){try{return await this.makeRequest(`/customer/properties/${e}/analytics?period=${s}`)}catch(t){return{success:!0,data:{views:[],inquiries:[],favorites:[],conversionRate:0,avgResponseTime:"N/A",topReferrers:[],engagement:{totalClicks:0,phoneClicks:0,emailClicks:0,messageClicks:0}}}}}formatPrice(e,s){return"rent"===s?`â‚¹${e.toLocaleString("en-IN")}/month`:"lease"===s?`â‚¹${e.toLocaleString("en-IN")}/year`:e>=1e7?`â‚¹${(e/1e7).toFixed(1)} Cr`:e>=1e5?`â‚¹${(e/1e5).toFixed(1)} Lac`:`â‚¹${e.toLocaleString("en-IN")}`}formatArea(e){return e.builtUp?`${e.builtUp} ${e.unit}`:e.plot?`${e.plot} ${e.unit}`:e.carpet?`${e.carpet} ${e.unit}`:"Area not specified"}getStatusColor(e){switch(e){case"active":return"bg-green-500";case"rented":return"bg-blue-500";case"sold":return"bg-purple-500";case"pending":return"bg-yellow-500";case"draft":default:return"bg-gray-500";case"inactive":return"bg-red-500"}}getStatusText(e){switch(e){case"active":return"Active";case"rented":return"Rented";case"sold":return"Sold";case"pending":return"Under Review";case"draft":return"Draft";case"inactive":return"Inactive";default:return e}}formatTimeAgo(e){const s=new Date(e),t=(new Date).getTime()-s.getTime(),a=Math.floor(t/6e4),i=Math.floor(a/60),r=Math.floor(i/24);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:r<7?`${r} day${r>1?"s":""} ago`:s.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}getPrimaryImage(e){const s=e.images.find(e=>e.isPrimary);return s?.url||e.images[0]?.url||"/placeholder-property.jpg"}getDaysOnMarket(e){const s=new Date(e),t=(new Date).getTime()-s.getTime();return Math.floor(t/864e5)}calculateMonthlyRevenue(e){return e.filter(e=>"rented"===e.status&&"rent"===e.listingType).reduce((e,s)=>e+s.price,0)}calculateTotalRevenue(e){const s=e.filter(e=>"sold"===e.status);e.filter(e=>"rented"===e.status);return s.reduce((e,s)=>e+s.price,0)+12*this.calculateMonthlyRevenue(e)}};const Z=()=>{const a=s(),{isConnected:Z,lastEvent:ee}=i(),se=z(),[te,ae]=t.useState(!1),[ie,re]=t.useState(!0),[ce,le]=t.useState(!1),[ne,oe]=t.useState(!1),[de,me]=t.useState(null),[pe,ue]=t.useState(!1),he=t.useRef(null),[xe,fe]=t.useState({name:"",email:"",phone:"",location:"",address:"",pincode:"",bio:"",joinDate:"",avatar:"",verified:!1}),[ge,je]=t.useState({states:[],districts:[],cities:[],selectedState:"",selectedDistrict:"",selectedCity:"",loadingStates:!1,loadingDistricts:!1,loadingCities:!1}),[ve,ye]=t.useState({inquiriesSent:0,savedSearches:0,propertiesViewed:0,totalFavorites:0,ownedProperties:0}),[Ne,we]=t.useState([]);t.useEffect(()=>{(async()=>{try{await O.initialize();const e=O.getStates();je(s=>({...s,states:e}))}catch(e){}})()},[]);const be=t.useCallback(e=>{je(s=>({...s,selectedState:e,selectedDistrict:"",selectedCity:"",districts:O.getDistricts(e),cities:[]})),fe(s=>({...s,location:`${e}`}))},[]),Se=t.useCallback(e=>{je(s=>{const t=s.selectedState;return{...s,selectedDistrict:e,selectedCity:"",cities:O.getCities(t,e)}}),fe(s=>({...s,location:`${e}, ${ge.selectedState}`}))},[ge.selectedState]),Ce=t.useCallback(e=>{je(s=>({...s,selectedCity:e})),fe(s=>({...s,location:`${e}, ${ge.selectedDistrict}, ${ge.selectedState}`}))},[ge.selectedState,ge.selectedDistrict]),Pe=t.useCallback(e=>{if(!e)return"Not specified";const s=[];return e.city&&s.push(e.city),e.district&&e.district!==e.city&&s.push(e.district),e.state&&s.push(e.state),s.length>0?s.join(", "):"Not specified"},[]),$e=t.useCallback(async()=>{try{re(!0);const[e,s,t]=await Promise.all([r.getCurrentUser(),J.getCustomerDashboardData().catch(()=>null),X.getCustomerPropertyStats().catch(()=>null)]),a=e.data.user;me(a);const i=a.profile.address,c=i?`${i.city||""}, ${i.state||""}`.replace(/^,\s*|,\s*$/g,""):"";if(fe({name:r.getFullName(a),email:a.email,phone:a.profile.phone||"",location:c,address:i?.street||"",pincode:i?.zipCode||"",bio:"",joinDate:r.formatCreationDate(a.createdAt),avatar:a.profile.avatar||"",verified:a.profile.emailVerified||!1}),i?.state||i?.city){const e=i.state||"",s=i.city||"";if(je(t=>({...t,selectedState:e,selectedCity:s,districts:e?O.getDistricts(e):[],cities:e?O.getCities(e,""):[]})),s&&e){const t=O.getDistricts(e);for(const a of t){const t=O.getCities(e,a);if(t.includes(s)){je(e=>({...e,selectedDistrict:a,cities:t}));break}}}}if(s?.success){const e=s.data.stats;ye(s=>({...s,inquiriesSent:e.activeInquiries||0,propertiesViewed:e.propertiesViewed||0,totalFavorites:e.savedFavorites||0})),we(s.data.recentActivities.map(e=>({id:e._id,type:e.type,message:e.message,timestamp:e.time,icon:e.icon})))}if(t?.success){const e=t.data;ye(s=>({...s,ownedProperties:e.totalProperties||0,savedSearches:e.pendingApproval||0}))}}catch(e){c({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{re(!1)}},[]),ke=t.useCallback(async()=>{oe(!0),await $e(),oe(!1)},[]);t.useEffect(()=>{$e()},[]);const De=t.useCallback(()=>{$e()},[]),Re=t.useCallback(()=>{ye(e=>({...e,inquiriesSent:e.inquiriesSent+1}))},[]),Fe=t.useCallback(()=>{ye(e=>({...e,propertiesViewed:e.propertiesViewed+1}))},[]),qe=t.useCallback(e=>{"add"===e.action?ye(e=>({...e,totalFavorites:e.totalFavorites+1})):"remove"===e.action&&ye(e=>({...e,totalFavorites:Math.max(0,e.totalFavorites-1)}))},[]);l("profile_updated",De),l("property_inquiry",Re),l("property_viewed",Fe),l("property_favorited",qe);return ie?e.jsx("div",{className:"space-y-6 pt-24",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(n,{variant:"outline",size:"sm",onClick:ke,disabled:ne,children:[e.jsx(B,{className:"w-4 h-4 mr-2 "+(ne?"animate-spin":"")}),ne?"Refreshing...":"Refresh"]})}),e.jsxs("div",{className:"flex "+(se?"flex-col gap-4":"items-center justify-between"),children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-bold flex items-center gap-2 "+(se?"text-2xl":"text-3xl"),children:[e.jsx(o,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["View your profile information and activity. Visit ",e.jsx("span",{className:"font-medium",children:"Settings"})," to manage preferences."]})]}),e.jsxs("div",{className:"flex gap-2 "+(se?"flex-col w-full":""),children:[!te&&!ie&&e.jsxs(n,{onClick:()=>ae(!0),className:se?"w-full":"",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(n,{variant:"outline",onClick:()=>a("/customer/settings"),className:se?"w-full":"",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsxs(m,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(p,{className:"grid w-full grid-cols-2",children:[e.jsx(u,{value:"profile",children:"Profile"}),e.jsx(u,{value:"activity",children:"Activity"})]}),e.jsxs(h,{value:"profile",className:"space-y-6",children:[e.jsx(x,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:`flex ${se?"flex-col":"flex-col md:flex-row"} items-start md:items-center gap-6`,children:[e.jsxs("div",{className:"relative self-center md:self-start",children:[e.jsxs(g,{className:""+(se?"w-20 h-20":"w-24 h-24"),children:[e.jsx(j,{src:xe.avatar}),e.jsx(v,{className:""+(se?"text-xl":"text-2xl"),children:xe.name.split(" ").map(e=>e[0]).join("")})]}),e.jsx("input",{ref:he,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;const t=_.validateImageFile(s);if(t.valid)try{ue(!0);const e=await _.compressImage(s),t=await _.uploadAvatar(e);fe(e=>({...e,avatar:t})),de&&await r.updateCurrentUser({profile:{...de.profile,avatar:t}}),c({title:"Success",description:"Profile picture updated successfully!"}),await $e()}catch(a){c({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{ue(!1),he.current&&(he.current.value="")}else c({title:"Invalid File",description:t.error,variant:"destructive"})},className:"hidden"}),e.jsx(n,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full",onClick:()=>he.current?.click(),disabled:pe,children:pe?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(G,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-2 text-center md:text-left",children:[e.jsxs("div",{className:"flex "+(se?"flex-col gap-2":"items-center gap-2"),children:[e.jsx("h2",{className:(se?"text-xl":"text-2xl")+" font-bold",children:xe.name}),xe.verified&&e.jsxs(y,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:`flex ${se?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4"}),xe.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),xe.phone]})]}),e.jsxs("div",{className:`flex ${se?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-4 h-4"}),xe.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),"Joined ",xe.joinDate]})]})]}),e.jsxs("div",{className:"grid gap-4 text-center "+(se?"grid-cols-2 w-full":"grid-cols-2"),children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:ve.ownedProperties}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties"})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:ve.totalFavorites}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]})]})]})})}),e.jsxs("div",{className:"grid gap-6 "+(se?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(x,{children:[e.jsx(S,{children:e.jsx(C,{children:"Personal Information"})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 "+(se?"grid-cols-1":"grid-cols-1 md:grid-cols-2"),children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Full Name"}),te?e.jsx($,{value:xe.name,onChange:e=>fe(s=>({...s,name:e.target.value}))}):e.jsx("p",{className:"text-sm",children:xe.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Email"}),te?e.jsx($,{type:"email",value:xe.email,onChange:e=>fe(s=>({...s,email:e.target.value}))}):e.jsx("p",{className:"text-sm",children:xe.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Phone"}),te?e.jsx($,{type:"tel",value:xe.phone,onChange:e=>{const s=e.target.value.replace(/\D/g,"");s.length<=10&&fe(e=>({...e,phone:s}))},placeholder:"10 digit mobile number",maxLength:10}):e.jsx("p",{className:"text-sm",children:xe.phone})]}),te?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(P,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(U,{value:xe.pincode||"",state:ge.selectedState,district:ge.selectedDistrict,city:ge.selectedCity,onChange:(e,s)=>{if(fe(s=>({...s,pincode:e})),s){const t=O.getDistricts(s.state),a=O.getCities(s.state,s.district);je(e=>({...e,selectedState:s.state||"",selectedDistrict:s.district||"",selectedCity:s.city||"",districts:t,cities:a})),fe(t=>({...t,location:`${s.city}, ${s.district}, ${s.state}`,pincode:e})),c({title:"Location Auto-filled âœ“",description:`${s.city}, ${s.district}, ${s.state}`})}},placeholder:"Enter PIN code to auto-fill location...",className:"w-full"}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Type your PIN code to auto-fill state, district, and city"}),xe.pincode&&ge.selectedCity&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"}),"Location: ",ge.selectedCity,", ",ge.selectedDistrict,", ",ge.selectedState]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"State"}),e.jsxs(D,{value:ge.selectedState,onValueChange:be,children:[e.jsx(R,{children:e.jsx(F,{placeholder:"Select state"})}),e.jsx(q,{children:ge.states.map(s=>e.jsx(A,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"District"}),e.jsxs(D,{value:ge.selectedDistrict,onValueChange:Se,disabled:!ge.selectedState,children:[e.jsx(R,{children:e.jsx(F,{placeholder:ge.selectedState?ge.loadingDistricts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(q,{children:ge.districts.map(s=>e.jsx(A,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"City"}),e.jsxs(D,{value:ge.selectedCity,onValueChange:Ce,disabled:!ge.selectedDistrict,children:[e.jsx(R,{children:e.jsx(F,{placeholder:ge.selectedState?ge.selectedDistrict?ge.loadingCities?"Loading cities...":"Select city":"Select district first":"Select state first"})}),e.jsx(q,{children:ge.cities.map(s=>e.jsx(A,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Street Address"}),e.jsx($,{value:xe.address,onChange:e=>fe(s=>({...s,address:e.target.value})),placeholder:"House/Flat number, Street name, Area"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Location"}),e.jsx("p",{className:"text-sm",children:de?.profile?.address?Pe(de.profile.address):"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Address"}),e.jsx("p",{className:"text-sm",children:xe.address||"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:de?.profile?.address?.zipCode||xe.pincode||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{children:"Bio"}),te?e.jsx(T,{rows:3,value:xe.bio,onChange:e=>fe(s=>({...s,bio:e.target.value}))}):e.jsx("p",{className:"text-sm",children:xe.bio})]}),te&&e.jsxs("div",{className:"flex gap-2 pt-4 "+(se?"flex-col":""),children:[e.jsx(n,{onClick:async()=>{if(de)try{le(!0);const e={notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!1}},s=de.profile?.preferences,t=s?{notifications:{email:s.notifications?.email??e.notifications.email,sms:s.notifications?.sms??e.notifications.sms,push:s.notifications?.push??e.notifications.push},privacy:{showEmail:s.privacy?.showEmail??e.privacy.showEmail,showPhone:s.privacy?.showPhone??e.privacy.showPhone}}:e,a={profile:{firstName:xe.name.split(" ")[0]||"",lastName:xe.name.split(" ").slice(1).join(" ")||"",phone:xe.phone,address:{street:xe.address,city:ge.selectedCity||xe.location.split(",")[0]?.trim()||"",district:ge.selectedDistrict||"",state:ge.selectedState||xe.location.split(",")[1]?.trim()||"",zipCode:xe.pincode||""},preferences:t}};await r.updateCurrentUser(a),await $e(),ae(!1)}catch(e){}finally{le(!1)}},disabled:ce,className:se?"w-full":"",children:ce?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(n,{variant:"outline",onClick:()=>{ae(!1)},className:se?"w-full":"",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(x,{children:[e.jsx(S,{children:e.jsx(C,{children:"Account Statistics"})}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Owned Properties"})]}),e.jsx("span",{className:"font-semibold",children:ve.ownedProperties})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Inquiries Sent"})]}),e.jsx("span",{className:"font-semibold",children:ve.inquiriesSent})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Properties Viewed"})]}),e.jsx("span",{className:"font-semibold",children:ve.propertiesViewed.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Total Favorites"})]}),e.jsx("span",{className:"font-semibold",children:ve.totalFavorites})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Saved Searches"})]}),e.jsx("span",{className:"font-semibold",children:ve.savedSearches})]})]})})]})]}),e.jsx(x,{className:"border-primary/20 bg-primary/5",children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex "+(se?"flex-col gap-4":"items-center justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Your Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure notifications, privacy, security, and account settings"})]})]}),e.jsx(n,{onClick:()=>a("/customer/settings"),className:se?"w-full":"",children:"Go to Settings"})]})})})]}),e.jsx(h,{value:"activity",className:"space-y-6",children:e.jsxs(x,{children:[e.jsx(S,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(f,{children:!ie&&Ne.length>0?e.jsx("div",{className:"space-y-4",children:Ne.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${(e=>{switch(e){case"property_posted":return"bg-green-500";case"inquiry":return"bg-blue-500";case"favorite":return"bg-red-500";case"search":return"bg-purple-500";default:return"bg-gray-500"}})(s.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:J.formatTimeAgo(s.timestamp)})]})]},s.id))}):ie?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(W,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start browsing properties to see your activity here"})]})})]})})]})]})};export{Z as default};
