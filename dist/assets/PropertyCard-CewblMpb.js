import{j as e}from"./ui-CEt46o3G.js";import{r as p,d as w}from"./router-2SVJvIbS.js";import{S as h,a as u,b as j,c as g,d as a}from"./select-BHWxeluH.js";import{a as d,B as c,L as C,M as S,o as y}from"./index-CiYV0Sy0.js";import{F}from"./filter-pPW3lLKU.js";import{C as B,d as T,e as L}from"./card-YvDMUmzt.js";import{p as b,D as k}from"./propertyService-vaYzuoi1.js";import{a as A}from"./propertyUtils-B_5yebUt.js";import{P as D,a as M}from"./PropertyContactDialog-CJxUFPij.js";import{B as V,a as H}from"./bed-uPel24Y9.js";import{S as K}from"./square-DioGN4r8.js";import{P as E}from"./phone-BlyPoB6i.js";const W=({onFilterChange:s})=>{const[i,o]=p.useState({propertyType:void 0,bedrooms:void 0,minPrice:void 0,maxPrice:void 0,listingType:void 0}),n=(t,l)=>{const r={...i,[t]:l==="all"||l==="any"||l==="any-budget"?void 0:l};o(r),s(r)},v=t=>{let l,r;switch(t){case"20-40":l=2e6,r=4e6;break;case"40-60":l=4e6,r=6e6;break;case"60-80":l=6e6,r=8e6;break;case"80-1cr":l=8e6,r=1e7;break;case"1cr+":l=1e7,r=void 0;break;default:l=void 0,r=void 0}const x={...i,minPrice:l,maxPrice:r};o(x),s(x)},m=()=>{const t={propertyType:void 0,bedrooms:void 0,minPrice:void 0,maxPrice:void 0,listingType:void 0};o(t),s(t)};return e.jsx("div",{className:"bg-card border border-border rounded-xl p-4 shadow-[var(--shadow-soft)]",children:e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[e.jsx(F,{className:"h-5 w-5"}),e.jsx("span",{children:"Filters:"})]}),e.jsxs(h,{value:i.listingType||"all",onValueChange:t=>n("listingType",t),children:[e.jsx(u,{className:"w-[150px]",children:e.jsx(j,{placeholder:"Listing Type"})}),e.jsxs(g,{children:[e.jsx(a,{value:"all",children:"All Types"}),e.jsx(a,{value:"sale",children:"For Sale"}),e.jsx(a,{value:"rent",children:"For Rent"}),e.jsx(a,{value:"lease",children:"For Lease"})]})]}),e.jsxs(h,{value:i.propertyType||"all",onValueChange:t=>n("propertyType",t),children:[e.jsx(u,{className:"w-[180px]",children:e.jsx(j,{placeholder:"Property Type"})}),e.jsxs(g,{children:[e.jsx(a,{value:"all",children:"All Properties"}),e.jsx(a,{value:"apartment",children:"Apartment"}),e.jsx(a,{value:"villa",children:"Villa"}),e.jsx(a,{value:"house",children:"House"}),e.jsx(a,{value:"plot",children:"Plot"}),e.jsx(a,{value:"land",children:"Land"}),e.jsx(a,{value:"commercial",children:"Commercial"}),e.jsx(a,{value:"office",children:"Office"}),e.jsx(a,{value:"pg",children:"PG (Paying Guest)"})]})]}),e.jsxs(h,{value:i.bedrooms?.toString()||"any",onValueChange:t=>{const l=t==="any"?void 0:parseInt(t);n("bedrooms",l&&!isNaN(l)?l:void 0)},children:[e.jsx(u,{className:"w-[150px]",children:e.jsx(j,{placeholder:"BHK"})}),e.jsxs(g,{children:[e.jsx(a,{value:"any",children:"Any BHK"}),e.jsx(a,{value:"1",children:"1 BHK"}),e.jsx(a,{value:"2",children:"2 BHK"}),e.jsx(a,{value:"3",children:"3 BHK"}),e.jsx(a,{value:"4",children:"4+ BHK"})]})]}),e.jsxs(h,{value:i.minPrice===2e6&&i.maxPrice===4e6?"20-40":i.minPrice===4e6&&i.maxPrice===6e6?"40-60":i.minPrice===6e6&&i.maxPrice===8e6?"60-80":i.minPrice===8e6&&i.maxPrice===1e7?"80-1cr":i.minPrice===1e7&&!i.maxPrice?"1cr+":"any-budget",onValueChange:v,children:[e.jsx(u,{className:"w-[180px]",children:e.jsx(j,{placeholder:"Budget"})}),e.jsxs(g,{children:[e.jsx(a,{value:"any-budget",children:"Any Budget"}),e.jsx(a,{value:"20-40",children:"₹20L - ₹40L"}),e.jsx(a,{value:"40-60",children:"₹40L - ₹60L"}),e.jsx(a,{value:"60-80",children:"₹60L - ₹80L"}),e.jsx(a,{value:"80-1cr",children:"₹80L - ₹1Cr"}),e.jsx(a,{value:"1cr+",children:"₹1Cr+"})]})]}),e.jsx(d,{variant:"secondary",className:"ml-auto",onClick:m,children:"Reset Filters"})]})})},X=({property:s})=>{const i=w(),[o,n]=p.useState(!1),[v,m]=p.useState(!1),t=b.getPrimaryImage(s),l=b.formatPrice(s.price,s.listingType),r=b.formatArea(s.area),x=`${s.address.city}, ${s.address.state}`,N=()=>{i(`/property/${s._id}`)};return e.jsxs(B,{className:"group overflow-hidden hover:shadow-[var(--shadow-large)] transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:f=>{f.target.src=k}}),s.featured&&e.jsx(c,{className:"absolute top-3 left-3 bg-accent text-accent-foreground",children:"Featured"}),s.verified&&e.jsx(c,{className:"absolute top-3 left-3 mt-8 bg-green-500 text-white",children:"Verified"}),e.jsx(c,{className:`absolute top-3 right-12 ${s.status==="available"?"bg-green-500":s.status==="sold"?"bg-red-500":s.status==="rented"?"bg-blue-500":"bg-yellow-500"} text-white`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),e.jsx(d,{size:"icon",variant:"ghost",className:"absolute top-3 right-3 bg-background/80 backdrop-blur hover:bg-background",children:e.jsx(C,{className:"h-5 w-5"})})]}),e.jsxs(T,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:s.title}),e.jsx(c,{variant:"secondary",children:s.listingType==="sale"?"For Sale":s.listingType==="rent"?"For Rent":"For Lease"})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-2",children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm line-clamp-1",children:x})]}),e.jsx("div",{className:"text-xs text-muted-foreground mb-3 capitalize",children:s.type?s.type.replace("_"," "):"property"}),e.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:A(s)}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[s.bedrooms>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.bedrooms," BHK"]})]}),s.bathrooms>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.bathrooms," Bath"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:r})]})]}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:l}),s.amenities.length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[s.amenities.slice(0,3).map((f,P)=>e.jsx(c,{variant:"outline",className:"text-xs",children:f},P)),s.amenities.length>3&&e.jsxs(c,{variant:"outline",className:"text-xs",children:["+",s.amenities.length-3," more"]})]})]}),e.jsxs(L,{className:"p-4 pt-0 flex gap-2",children:[e.jsxs(d,{variant:"outline",className:"flex-1",onClick:()=>n(!0),children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Message"]}),e.jsxs(d,{variant:"outline",className:"flex-1",onClick:()=>m(!0),children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Contact"]}),e.jsx(d,{className:"flex-1",onClick:N,children:"View Details"})]}),e.jsx(D,{open:o,onOpenChange:n,property:s,onMessageSent:()=>{console.log("Message sent for property:",s._id)}}),e.jsx(M,{open:v,onOpenChange:m,property:s})]})};export{W as P,X as a};
