import{j as e}from"./ui-DHQhougw.js";import{R as s,r as i}from"./router-Bi51YGN-.js";import{D as t,a,b as r,c as n,al as l,e as o,M as c,af as d,B as p,U as m,f,m as x,t as u,O as h,x as j,X as v,aj as g,a7 as N,a8 as y,a9 as b,L as w,I as C,y as S,ar as k,a4 as I,a5 as E,a6 as R,ak as P,T as M,S as A,r as F,s as U,v as T,w as z,C as L,q,az as V,h as B}from"./index-D7KzNfIb.js";import{S as D}from"./switch-P8mowaNy.js";import{vendorService as $}from"./vendorService-DQhsavna.js";import{m as _}from"./messageService-ep_MLnIS.js";import{P as O}from"./PincodeAutocomplete-CzfafFmI.js";import{P as J}from"./PasswordChangeDialog-GZy-S2ps.js";import{S as G}from"./separator-C_EF-JtC.js";import{G as H}from"./globe-aV8tez7F.js";import{T as W}from"./trending-up-jUvE4dj9.js";import{C as Y}from"./circle-alert-CnFPhnT_.js";import{u as K}from"./uploadService-BWdkr4U6.js";import{u as Q}from"./use-mobile-WsBtvUz6.js";import{S as Z}from"./square-pen-CJbmpsoN.js";import{C as X}from"./camera-vVtOmo1v.js";import{C as ee}from"./calendar-22zCFttS.js";import{K as se}from"./key-BCWL2kLY.js";import{S as ie}from"./shield-DZma8h3a.js";import"./vendor-eVk5PToZ.js";import"./reviewsService-9cO6P0ol.js";import"./alert-CmRZT_SV.js";import"./input-otp-QOAD9Y-G.js";import"./triangle-alert-B6835OBl.js";import"./eye-off-BhAYBzhN.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=t("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ae=t("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),re=({preferences:i,businessPreferences:t,onChange:x,onBusinessChange:u,onTestPushNotification:h,onTestEmail:j,showTestButtons:v=!1,supportEmail:g="support@buildhomemartsquares.com"})=>{const N=[{key:"email",icon:c,color:"text-blue-500",title:"Email Notifications",description:"Receive updates and alerts via email",isCore:!0},{key:"push",icon:l,color:"text-purple-500",title:"Push Notifications",description:"Browser notifications for instant updates",isCore:!0},{key:"newMessages",icon:d,color:"text-indigo-500",title:"New Message Alerts",description:"Get notified when you receive new messages from customers",requiresEmail:!0},{key:"newsUpdates",icon:H,color:"text-teal-500",title:"News & Updates",description:"Real estate market news and platform updates",requiresEmail:!0},{key:"marketing",icon:W,color:"text-green-500",title:"Marketing Communications",description:"Platform announcements and promotional content",requiresEmail:!0}],y=[{key:"emailNotifications",icon:c,color:"text-blue-600",title:"Business Email Notifications",description:"General business communications and updates",isCore:!0},{key:"smsNotifications",icon:ae,color:"text-green-600",title:"SMS Notifications",description:"Urgent alerts and time-sensitive notifications via SMS",isCore:!0},{key:"leadAlerts",icon:m,color:"text-orange-600",title:"Lead Alerts",description:"Instant notifications when you receive new property inquiries",requiresBusiness:!0},{key:"weeklyReports",icon:W,color:"text-purple-600",title:"Weekly Reports",description:"Weekly performance reports and analytics",requiresBusiness:!0},{key:"marketingEmails",icon:W,color:"text-pink-600",title:"Marketing Emails",description:"Business growth tips and marketing opportunities",requiresBusiness:!0}],b=e=>e.requiresEmail&&!i.email,w=e=>e.requiresBusiness&&!t.emailNotifications;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5"}),"General Notification Preferences"]})}),e.jsx(o,{className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:N.map((t,a)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{className:`w-5 h-5 ${t.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:t.title}),t.isCore&&e.jsx(p,{variant:"outline",className:"text-xs",children:"Core"}),b(t)&&e.jsx(p,{variant:"secondary",className:"text-xs",children:"Requires Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),b(t)&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Y,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:"Enable email notifications first"})]})]})]}),e.jsx(D,{checked:i[t.key],onCheckedChange:e=>x(t.key,e),disabled:b(t)})]}),a<N.length-1&&e.jsx(G,{})]},t.key))})})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5"}),"Business Notification Preferences"]})}),e.jsx(o,{className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:y.map((i,a)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i.icon,{className:`w-5 h-5 ${i.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:i.title}),i.isCore&&e.jsx(p,{variant:"outline",className:"text-xs",children:"Core"}),w(i)&&e.jsx(p,{variant:"secondary",className:"text-xs",children:"Requires Business Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),w(i)&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Y,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:"Enable business email notifications first"})]})]})]}),e.jsx(D,{checked:t[i.key],onCheckedChange:e=>u(i.key,e),disabled:w(i)})]}),a<y.length-1&&e.jsx(G,{})]},i.key))})})]}),v&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5"}),"Test Notifications"]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex gap-2",children:[h&&e.jsxs(f,{variant:"outline",size:"sm",onClick:h,disabled:!i.push,children:[e.jsx(l,{className:"w-4 h-4 mr-2"}),"Test Push Notification"]}),j&&e.jsxs(f,{variant:"outline",size:"sm",onClick:j,disabled:!i.email,children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"Test Email"]})]})})]})]})},ne=()=>{const t=Q(),[l,G]=i.useState(!1),[H,Y]=i.useState(!0),[ae,ne]=i.useState(!1),[le,oe]=i.useState(null),[ce,de]=i.useState(null),[pe,me]=i.useState("profile"),[fe,xe]=i.useState(null),[ue,he]=i.useState(!1),je=s.useRef(null),[ve,ge]=i.useState([]),[Ne,ye]=i.useState([]),[be,we]=i.useState([]),[Ce,Se]=i.useState({states:!1,districts:!1,cities:!1,pincode:!1}),[ke,Ie]=i.useState({country:"India",state:"",district:"",city:""}),[Ee,Re]=i.useState({notifications:{email:!0,push:!0,newMessages:!0,newsUpdates:!0,marketing:!1},business:{emailNotifications:!0,smsNotifications:!1,leadAlerts:!0,marketingEmails:!1,weeklyReports:!0,autoResponseEnabled:!1,autoResponseMessage:"Thank you for your interest! I'll get back to you soon."}}),[Pe,Me]=i.useState(!1),Ae=i.useCallback(async(e,s,i)=>{Re(t=>({...t,[e]:{...t[e],[s]:i}}));try{await Le(e,s,i)}catch(t){}},[le]);i.useEffect(()=>{Fe(),Ue(),Be()},[]),i.useEffect(()=>{(async()=>{Se(e=>({...e,states:!0}));try{await x.initialize();const e=x.getStates();ge(e)}catch(e){u({title:"Error",description:"Failed to load location data. Please refresh the page.",variant:"destructive"})}finally{Se(e=>({...e,states:!1}))}})()},[]),i.useEffect(()=>{if(ce?.profile?.address?.state){Se(e=>({...e,districts:!0}));try{const e=x.getDistricts(ce.profile.address.state);if(ye(e),ce.profile.address.district){const s=ce.profile.address.district;e.some(e=>e.toLowerCase()===s.toLowerCase()||e===s)||(De("profile.address.district",""),De("profile.address.city",""))}}catch(e){u({title:"Error",description:"Failed to load districts. Please try again.",variant:"destructive"})}finally{Se(e=>({...e,districts:!1}))}}else ye([])},[ce?.profile?.address?.state]),i.useEffect(()=>{if(ce?.profile?.address?.state&&ce?.profile?.address?.district){Se(e=>({...e,cities:!0}));try{const e=x.getCities(ce.profile.address.state,ce.profile.address.district);we(e),ce.profile.address.city&&!e.includes(ce.profile.address.city)&&De("profile.address.city",""),Ie(e=>({...e,city:""}))}catch(e){u({title:"Error",description:"Failed to load cities. Please try again.",variant:"destructive"})}finally{Se(e=>({...e,cities:!1}))}}else we([])},[ce?.profile?.address?.state,ce?.profile?.address?.district]),i.useEffect(()=>{ce?.profile?.address?.state&&Ie(e=>({...e,state:ce.profile.address.state}))},[ce?.profile?.address?.state]),i.useEffect(()=>{ce?.profile?.address?.district&&Ie(e=>({...e,district:ce.profile.address.district}))},[ce?.profile?.address?.district]),i.useEffect(()=>{ce?.profile?.address?.city&&Ie(e=>({...e,city:ce.profile.address.city}))},[ce?.profile?.address?.city]),i.useEffect(()=>{if(!H){const e=setTimeout(()=>{Te()},1500);return()=>clearTimeout(e)}},[Ee,H]);const Fe=async()=>{try{Y(!0);const e=await $.getVendorProfile(),s={...e,profile:{...e.profile,preferences:{language:e.profile.preferences?.language||"en",currency:e.profile.preferences?.currency||"INR",notifications:{email:e.profile.preferences?.notifications?.email??!0,push:e.profile.preferences?.notifications?.push??!0,newMessages:e.profile.preferences?.notifications?.newMessages??!0,newsUpdates:e.profile.preferences?.notifications?.newsUpdates??!0,marketing:e.profile.preferences?.notifications?.marketing??!0},privacy:{showEmail:e.profile.preferences?.privacy?.showEmail??!1,showPhone:e.profile.preferences?.privacy?.showPhone??!1,allowMessages:e.profile.preferences?.privacy?.allowMessages??!0}}}};oe(s),de(s),localStorage.setItem("user",JSON.stringify(s))}catch(e){u({title:"Error",description:"Failed to load vendor profile. Please try again.",variant:"destructive"})}finally{Y(!1)}},Ue=async()=>{try{const s=localStorage.getItem("vendorSettings");if(s){const e=JSON.parse(s);Re(s=>({...s,...e}))}try{const e=await $.getVendorProfile();if(e&&e.profile.vendorInfo?.vendorPreferences){const s=e.profile.vendorInfo.vendorPreferences,i={notifications:{email:e.profile?.preferences?.notifications?.email||Ee.notifications.email,push:e.profile?.preferences?.notifications?.push||Ee.notifications.push,newMessages:e.profile?.preferences?.notifications?.newMessages||Ee.notifications.newMessages,newsUpdates:e.profile?.preferences?.notifications?.newsUpdates||Ee.notifications.newsUpdates,marketing:e.profile?.preferences?.notifications?.marketing||Ee.notifications.marketing},business:{emailNotifications:s.emailNotifications||Ee.business.emailNotifications,smsNotifications:s.smsNotifications||Ee.business.smsNotifications,leadAlerts:s.leadAlerts||Ee.business.leadAlerts,marketingEmails:s.marketingEmails||Ee.business.marketingEmails,weeklyReports:s.weeklyReports||Ee.business.weeklyReports,autoResponseEnabled:s.autoResponseEnabled||Ee.business.autoResponseEnabled,autoResponseMessage:s.autoResponseMessage||Ee.business.autoResponseMessage}};Re(i),localStorage.setItem("vendorSettings",JSON.stringify(i))}}catch(e){}}catch(s){u({title:"Settings Loaded",description:"Using saved settings.",variant:"default"})}},Te=async()=>{try{ne(!0);const s=ze(Ee);s.isValid||u({title:"Validation Warning",description:s.message,variant:"default"});try{const e={profile:{preferences:{notifications:{email:Ee.notifications.email,push:Ee.notifications.push,newMessages:Ee.notifications.newMessages,newsUpdates:Ee.notifications.newsUpdates,marketing:Ee.notifications.marketing}},vendorInfo:{vendorPreferences:{emailNotifications:Ee.business.emailNotifications,smsNotifications:Ee.business.smsNotifications,leadAlerts:Ee.business.leadAlerts,marketingEmails:Ee.business.marketingEmails,weeklyReports:Ee.business.weeklyReports,autoResponseEnabled:Ee.business.autoResponseEnabled,autoResponseMessage:Ee.business.autoResponseMessage}}}};await $.updateVendorProfile(e),localStorage.setItem("vendorSettings",JSON.stringify(Ee)),xe((new Date).toISOString()),u({title:"Settings Saved",description:"Your preferences have been updated"})}catch(e){localStorage.setItem("vendorSettings",JSON.stringify(Ee)),u({title:"Settings Saved",description:"Your preferences have been saved",variant:"default"})}}catch(s){u({title:"Save Failed",description:s.message||"Unable to save vendor settings.",variant:"destructive"})}finally{ne(!1)}},ze=e=>!e.business.emailNotifications||e.business.leadAlerts||e.notifications.newMessages?e.business.autoResponseEnabled&&!e.business.autoResponseMessage.trim()?{isValid:!1,message:"Auto-response enabled but no message set. Please provide a response message."}:{isValid:!0,message:""}:{isValid:!1,message:"Business email enabled but no notification types selected. Consider enabling lead alerts or new message notifications."},Le=async(e,s,i)=>{try{ne(!0),await $.updateVendorPreferences(`${e}.${s}`,i);const t=s.replace(/([A-Z])/g," $1").toLowerCase(),a="boolean"==typeof i?i?"enabled":"disabled":"updated";xe((new Date).toISOString()),"autoResponseEnabled"===s&&!0===i&&await qe(),u({title:"Setting Updated",description:`${t} ${a}`})}catch(t){u({title:"Setting Saved",description:"Your preference has been saved",variant:"default"})}finally{ne(!1)}},qe=async()=>{try{if(!Ee.business.autoResponseMessage.trim())return void u({title:"Auto-Response Setup",description:"Please set an auto-response message below",variant:"default"});u({title:"Auto-Response Active",description:"Auto-responses will be sent to new inquiries"})}catch(e){}},Ve=async e=>{try{"inquiry"!==e.type&&"lead"!==e.type&&"property_inquiry"!==e.type||_.isAutoResponse(e)||await(async(e,s)=>{try{if(!Ee.business.autoResponseEnabled||!Ee.business.autoResponseMessage.trim())return;await _.sendAutoResponse(e,s,Ee.business.autoResponseMessage)}catch(i){}})(e.conversationId,e.sender._id)}catch(s){}};s.useEffect(()=>(Ee.business.autoResponseEnabled?window.vendorAutoResponseHandler=Ve:delete window.vendorAutoResponseHandler,()=>{delete window.vendorAutoResponseHandler}),[Ee.business.autoResponseEnabled,Ee.business.autoResponseMessage]);const Be=async()=>{try{x.isReady()||await x.initialize()}catch(e){}},De=(e,s)=>{if(!ce)return;const i=e.split("."),t={...ce};let a=t;for(let r=0;r<i.length-1;r++)a[i[r]]||(a[i[r]]={}),a=a[i[r]];a[i[i.length-1]]=s,de(t)};if(H)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Loading vendor profile..."})]})});if(!le||!ce)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-destructive mb-4",children:"Failed to load vendor profile"}),e.jsx(f,{onClick:Fe,children:"Retry"})]})});ce.profile.firstName,ce.profile.lastName;const $e=ce.profile.vendorInfo?.memberSince?new Date(ce.profile.vendorInfo.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex "+(t?"flex-col space-y-4":"justify-between items-center"),children:[e.jsxs("div",{children:[e.jsxs("h1",{className:(t?"text-2xl":"text-3xl")+" font-bold tracking-tight flex items-center gap-2",children:[e.jsx(j,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your profile information and preferences."})]}),e.jsx("div",{className:"flex gap-2 "+(t?"w-full":""),children:l?e.jsxs(e.Fragment,{children:[e.jsxs(f,{variant:"outline",onClick:()=>{de(le),G(!1)},disabled:ae,className:t?"flex-1":"",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(f,{onClick:async()=>{if(ce){(()=>{const e=ce?.profile?.address;if(!e)return!0;if(e.zipCode&&e.state&&e.district&&e.city&&!x.getLocationByPincode(e.zipCode).some(s=>s.state.toUpperCase()===e.state?.toUpperCase()&&s.district.toUpperCase()===e.district?.toUpperCase()&&s.city.toUpperCase()===e.city?.toUpperCase()))return!1;return!0})()||u({title:"Location Validation",description:"Please verify that your PIN code matches the selected location",variant:"default"});try{ne(!0);const e={profile:{firstName:ce.profile.firstName,lastName:ce.profile.lastName,phone:ce.profile.phone,bio:ce.profile.bio,preferences:{language:ce.profile.preferences?.language||"en",currency:ce.profile.preferences?.currency||"INR",notifications:{email:ce.profile.preferences?.notifications?.email??!0,push:ce.profile.preferences?.notifications?.push??!0,newMessages:ce.profile.preferences?.notifications?.newMessages??!0,newsUpdates:ce.profile.preferences?.notifications?.newsUpdates??!0,marketing:ce.profile.preferences?.notifications?.marketing??!0},privacy:{showEmail:ce.profile.preferences?.privacy?.showEmail??!1,showPhone:ce.profile.preferences?.privacy?.showPhone??!1,allowMessages:ce.profile.preferences?.privacy?.allowMessages??!0}},address:{...ce.profile.address,street:ce.profile.address?.street||"",state:ce.profile.address?.state||"",district:ce.profile.address?.district||"",city:ce.profile.address?.city||"",zipCode:ce.profile.address?.zipCode||"",country:ce.profile.address?.country||"India"},vendorInfo:ce.profile.vendorInfo}},s=await $.updateVendorProfile(e);oe(s),de(s),G(!1),u({title:"Success",description:"Profile updated successfully!"})}catch(e){}finally{ne(!1)}}},disabled:ae,className:t?"flex-1":"",children:[ae?e.jsx(h,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(g,{className:"w-4 h-4 mr-2"}),"Save Profile"]})]}):e.jsxs(f,{onClick:()=>G(!0),className:t?"w-full":"",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]}),e.jsx(a,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-start "+(t?"flex-col space-y-4":"space-x-6"),children:[e.jsxs("div",{className:"relative",children:[e.jsxs(N,{className:`${t?"h-20 w-20":"h-24 w-24"} ${t?"mx-auto":""}`,children:[e.jsx(y,{src:ce.profile.avatar||""}),e.jsxs(b,{className:""+(t?"text-base":"text-lg"),children:[ce.profile.firstName.charAt(0),ce.profile.lastName.charAt(0)]})]}),e.jsx("input",{ref:je,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;const i=K.validateImageFile(s);if(i.valid)try{he(!0);const e=await K.compressImage(s),i=await K.uploadAvatar(e);De("profile.avatar",i);const t={profile:{...ce?.profile,avatar:i}},a=await $.updateVendorProfile(t);oe(a),de(a),u({title:"Success",description:"Profile picture updated successfully!"})}catch(t){u({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{he(!1),je.current&&(je.current.value="")}else u({title:"Invalid File",description:i.error,variant:"destructive"})},className:"hidden"}),e.jsx(f,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0 "+(t?"right-1/2 translate-x-1/2":""),onClick:()=>je.current?.click(),disabled:ue,children:ue?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(X,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:`grid grid-cols-1 ${t?"":"md:"}grid-cols-2 gap-4`,children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"firstName",children:"First Name"}),l?e.jsx(C,{id:"firstName",value:ce.profile.firstName,onChange:e=>De("profile.firstName",e.target.value)}):e.jsx("p",{className:(t?"text-base":"text-lg")+" font-semibold",children:ce.profile.firstName})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"lastName",children:"Last Name"}),l?e.jsx(C,{id:"lastName",value:ce.profile.lastName,onChange:e=>De("profile.lastName",e.target.value)}):e.jsx("p",{className:(t?"text-base":"text-lg")+" font-semibold",children:ce.profile.lastName})]})]}),e.jsxs("div",{className:`flex items-center ${t?"flex-col space-y-2":"space-x-4"} text-sm text-muted-foreground`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),ce.email]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),l?e.jsx(C,{value:ce.profile.phone,onChange:e=>De("profile.phone",e.target.value),className:"h-6 text-sm w-32"}):ce.profile.phone]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),"Member since ",$e]})]}),e.jsxs("div",{className:"flex items-center "+(t?"flex-col space-y-2":"space-x-4"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 text-yellow-400 mr-1"}),e.jsx("span",{className:"font-medium",children:(ce.profile.vendorInfo?.rating?.average||0).toFixed(1)}),e.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",ce.profile.vendorInfo?.rating?.count||0," reviews)"]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",children:[ce.profile.vendorInfo?.responseTime||"Not calculated"," avg response"]})})]})]})]})})}),e.jsxs(I,{value:pe,onValueChange:me,className:"space-y-6",children:[e.jsxs(E,{className:""+(t?"flex flex-col h-auto gap-2":"grid w-full grid-cols-4"),children:[e.jsx(R,{value:"profile",className:t?"w-full justify-start":"",children:"Personal Info"}),e.jsx(R,{value:"company",className:t?"w-full justify-start":"",children:"Company Details"}),e.jsx(R,{value:"specializations",className:t?"w-full justify-start":"",children:"Specializations"}),e.jsx(R,{value:"notifications",className:t?"w-full justify-start":"",children:"Settings"})]}),e.jsx(P,{value:"profile",className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Personal Information"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"bio",children:"Bio"}),l?e.jsx(M,{id:"bio",value:ce.profile.bio||"",onChange:e=>De("profile.bio",e.target.value),placeholder:"Tell us about yourself and your experience...",rows:4}):e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ce.profile.bio||"No bio provided"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"street",children:"Street Address"}),l?e.jsx(C,{id:"street",value:ce.profile.address?.street||"",onChange:e=>De("profile.address.street",e.target.value),placeholder:"Enter street address..."}):e.jsx("p",{className:"text-sm",children:ce.profile.address?.street||"Not provided"})]}),l?e.jsxs("div",{children:[e.jsx(w,{className:"text-sm font-medium",children:"Location Details"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"state",children:"State"}),e.jsxs(A,{value:ce.profile.address?.state||"",onValueChange:e=>{De("profile.address.state",e),De("profile.address.district",""),De("profile.address.city",""),De("profile.address.zipCode","")},disabled:Ce.states,children:[e.jsx(F,{children:e.jsx(U,{placeholder:Ce.states?"Loading states...":"Select state"})}),e.jsx(T,{children:ve.map(s=>e.jsx(z,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"district",children:"District"}),e.jsxs(A,{value:ce.profile.address?.district||"",onValueChange:e=>{De("profile.address.district",e),De("profile.address.city",""),De("profile.address.zipCode","")},disabled:!ce.profile.address?.state||Ce.districts,children:[e.jsx(F,{children:e.jsx(U,{placeholder:ce.profile.address?.state?Ce.districts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(T,{children:Ne.map(s=>e.jsx(z,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"city",children:"City"}),e.jsxs(A,{value:ce.profile.address?.city||"",onValueChange:e=>{De("profile.address.city",e),De("profile.address.zipCode","")},disabled:!ce.profile.address?.district||Ce.cities,children:[e.jsx(F,{children:e.jsx(U,{placeholder:ce.profile.address?.district?Ce.cities?"Loading cities...":"Select city":"Select district first"})}),e.jsx(T,{children:be.map(s=>e.jsx(z,{value:s,children:s},s))})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{children:"State"}),e.jsx("p",{className:"text-sm",children:ce.profile.address?.state||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{children:"District"}),e.jsx("p",{className:"text-sm",children:ce.profile.address?.district||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{children:"City"}),e.jsx("p",{className:"text-sm",children:ce.profile.address?.city||"Not provided"})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"zipCode",children:"PIN Code"}),l?e.jsx(O,{value:ce.profile.address?.zipCode||"",onChange:(e,s)=>{if(De("profile.address.zipCode",e),s&&s.state){const e=s.state.toUpperCase();ve.includes(e)&&(De("profile.address.state",e),De("profile.address.stateCode",e),setTimeout(()=>{const i=x.getDistricts(e);if(ye(i),s.district){const t=i.find(e=>e.toUpperCase()===s.district.toUpperCase());t&&(De("profile.address.district",t),De("profile.address.districtCode",t),setTimeout(()=>{const i=x.getCities(e,t);if(we(i),s.city){const e=i.find(e=>e.toUpperCase()===s.city.toUpperCase());e&&(De("profile.address.city",e),De("profile.address.cityCode",e))}},100))}},100))}},state:ce.profile.address?.state,district:ce.profile.address?.district,city:ce.profile.address?.city,placeholder:ce.profile.address?.city?`Enter PIN code for ${ce.profile.address.city}...`:"Enter PIN code to auto-fill location...",className:"w-full"}):e.jsx("p",{className:"text-sm",children:ce.profile.address?.zipCode||"Not provided"}),l&&e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"ðŸ’¡ Select your location first or enter PIN code to auto-fill location details"}),ce.profile.address?.zipCode&&ce.profile.address?.city&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),"Location validated with PIN code"]})]})]})]})]})]})}),e.jsx(P,{value:"company",className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Company Information"]})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"companyName",children:"Company Name"}),l?e.jsx(C,{id:"companyName",value:ce.profile.vendorInfo?.companyName||"",onChange:e=>De("profile.vendorInfo.companyName",e.target.value)}):e.jsx("p",{className:"text-sm",children:ce.profile.vendorInfo?.companyName||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"businessType",children:"Business Type"}),l?e.jsxs(A,{value:ce.profile.vendorInfo?.businessType||"",onValueChange:e=>De("profile.vendorInfo.businessType",e),children:[e.jsx(F,{children:e.jsx(U,{placeholder:"Select business type"})}),e.jsxs(T,{children:[e.jsx(z,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(z,{value:"property_developer",children:"Property Developer"}),e.jsx(z,{value:"construction_company",children:"Construction Company"}),e.jsx(z,{value:"interior_designer",children:"Interior Designer"}),e.jsx(z,{value:"legal_services",children:"Legal Services"}),e.jsx(z,{value:"home_loan_provider",children:"Home Loan Provider"}),e.jsx(z,{value:"packers_movers",children:"Packers & Movers"}),e.jsx(z,{value:"property_management",children:"Property Management"}),e.jsx(z,{value:"other",children:"Other"})]})]}):e.jsx("p",{className:"text-sm",children:ce.profile.vendorInfo?.businessType?ce.profile.vendorInfo.businessType.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"experience",children:"Experience (Years)"}),l?e.jsx(C,{id:"experience",type:"number",value:ce.profile.vendorInfo?.experience||0,onChange:e=>De("profile.vendorInfo.experience",parseInt(e.target.value)||0)}):e.jsxs("p",{className:"text-sm",children:[ce.profile.vendorInfo?.experience||0," years"]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"website",children:"Website"}),l?e.jsx(C,{id:"website",value:ce.profile.vendorInfo?.website||"",onChange:e=>De("profile.vendorInfo.website",e.target.value)}):e.jsx("p",{className:"text-sm",children:ce.profile.vendorInfo?.website||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"licenseNumber",children:"License Number"}),l?e.jsx(C,{id:"licenseNumber",value:ce.profile.vendorInfo?.licenseNumber||"",onChange:e=>De("profile.vendorInfo.licenseNumber",e.target.value)}):e.jsx("p",{className:"text-sm",children:ce.profile.vendorInfo?.licenseNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"gstNumber",children:"GST Number"}),l?e.jsx(C,{id:"gstNumber",value:ce.profile.vendorInfo?.gstNumber||"",onChange:e=>De("profile.vendorInfo.gstNumber",e.target.value)}):e.jsx("p",{className:"text-sm",children:ce.profile.vendorInfo?.gstNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"panNumber",children:"PAN Number"}),l?e.jsx(C,{id:"panNumber",value:ce.profile.vendorInfo?.panNumber||"",onChange:e=>De("profile.vendorInfo.panNumber",e.target.value)}):e.jsx("p",{className:"text-sm",children:ce.profile.vendorInfo?.panNumber||"Not provided"})]})]})})]})}),e.jsxs(P,{value:"specializations",className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(V,{className:"w-5 h-5 mr-2"}),"Specializations"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(ce.profile.vendorInfo?.specializations||[]).length>0?ce.profile.vendorInfo.specializations.map((s,i)=>e.jsx(p,{variant:"secondary",className:"flex items-center",children:s},i)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No specializations added yet"})})})})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),"Service Areas"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(ce.profile.vendorInfo?.serviceAreas||[]).length>0?ce.profile.vendorInfo.serviceAreas.map((s,i)=>e.jsx(p,{variant:"outline",className:"flex items-center",children:s},i)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No service areas added yet"})})})})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),"Certifications"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:(ce.profile.vendorInfo?.certifications||[]).length>0?ce.profile.vendorInfo.certifications.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(te,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issued by ",s.issuedBy," â€¢ ",s.date]})]})]}),s.verified&&e.jsxs(p,{className:"bg-green-100 text-green-800",children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),"Verified"]})]},i)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No certifications added yet"})})})]})]}),e.jsxs(P,{value:"notifications",className:"space-y-6",children:[e.jsx(re,{preferences:Ee.notifications,businessPreferences:{emailNotifications:Ee.business.emailNotifications,smsNotifications:Ee.business.smsNotifications,leadAlerts:Ee.business.leadAlerts,marketingEmails:Ee.business.marketingEmails,weeklyReports:Ee.business.weeklyReports},onChange:(e,s)=>Ae("notifications",e,s),onBusinessChange:(e,s)=>Ae("business",e,s),showTestButtons:!0,onTestPushNotification:()=>{u({title:"Test Push Notification",description:"Push notification test sent successfully!"})},onTestEmail:()=>{u({title:"Test Email",description:"Test email sent successfully!"})}}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5"}),"Auto-Response Settings"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure automatic replies to new customer inquiries."})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"autoResponse",children:"Enable Auto-Response"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatic replies to new inquiries"})]}),e.jsx(D,{id:"autoResponse",checked:Ee.business.autoResponseEnabled,onCheckedChange:async e=>{await Ae("business","autoResponseEnabled",e)},disabled:ae})]}),Ee.business.autoResponseEnabled&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"autoResponseMessage",children:"Auto-Response Message"}),e.jsx(M,{id:"autoResponseMessage",value:Ee.business.autoResponseMessage,onChange:async e=>{const s=e.target.value;await Ae("business","autoResponseMessage",s)},placeholder:"Enter your automatic response message...",rows:3,disabled:ae}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be automatically sent to new inquiries"})]})]})]}),e.jsxs(a,{className:"mb-6",children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Security Settings"]})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Change Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your account password with secure OTP verification"})]}),e.jsxs(f,{variant:"outline",onClick:()=>Me(!0),className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Change Password"]})]})})]}),e.jsx(J,{open:Pe,onOpenChange:Me})]})]}),le.statistics&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Performance Statistics"]})}),e.jsx(o,{children:e.jsxs("div",{className:`grid ${t?"grid-cols-2":"grid-cols-2 md:grid-cols-4"} gap-4`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-blue-600",children:le.statistics.totalProperties}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Properties Listed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-green-600",children:le.statistics.totalValue||"???0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-purple-600",children:(ce.profile.vendorInfo?.rating?.average||0).toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-orange-600",children:le.statistics.totalMessages}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Messages"})]})]})})]})]})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{ne as default};
