import{j as e}from"./ui-DOY6021Z.js";import{r as o}from"./router-2SVJvIbS.js";import{z as ye,aB as Ne,m as y,t as $,aD as A,B as Z,f as C,x as we,ae as ee,T as be,K as Ce,L as se,ac as te,a as D,e as R,O as Se,Q as Pe,R as $e,S as De,M as Re,y as ke,h as Fe,b as V,c as U,I,C as Ae,q as M,r as z,s as O,v as B,w as H,X as Ie,E as Te,$ as qe,ai as Le}from"./index-DJqidggL.js";import{L as j}from"./label-B9O-vWmY.js";import{T as Ee}from"./textarea-DO9hd5Hf.js";import{P as Ve}from"./PincodeAutocomplete-DMRtTwZt.js";import{u as k}from"./userService-uIioZVG9.js";import{c as ae}from"./customerDashboardService-Bb08iMoH.js";import{u as J}from"./uploadService-CFdVKia9.js";import{R as re}from"./refresh-cw-C3gAEdXw.js";import{P as Ue}from"./pen-line-MVIgrvu7.js";import{C as Me}from"./camera-B6KGjwpp.js";import{C as ze}from"./calendar-B7ilpZNA.js";import{S as Oe}from"./save-CDsOycSg.js";import{T as Be}from"./trending-up-BhzOTv6v.js";import{A as _}from"./activity-D9p9sAWx.js";import"./vendor-Dazix4UH.js";import"./dialog-DsaUnv7s.js";import"./loader-circle-C0zUPQir.js";class He{baseUrl="https://squares-v2.onrender.com/api";async makeRequest(a,r={}){const i=`${this.baseUrl}${a}`,h={headers:{"Content-Type":"application/json",...r.headers},...r},x=ye.getToken();x&&(h.headers={...h.headers,Authorization:`Bearer ${x}`});try{const l=await fetch(i,h);if(!l.ok){const v=await l.json().catch(()=>({success:!1,message:`HTTP ${l.status}: ${l.statusText}`}));throw new Error(v.message||"An error occurred")}return await l.json()}catch(l){throw console.error("API request failed:",l),l}}async getCustomerProperties(a={}){try{const r=new URLSearchParams;Object.entries(a).forEach(([x,l])=>{l!=null&&l!==""&&r.append(x,l.toString())});const i=`/customer/properties${r.toString()?`?${r.toString()}`:""}`;return await this.makeRequest(i)}catch(r){return console.error("Failed to fetch customer properties:",r),{success:!0,data:{properties:[],pagination:{currentPage:1,totalPages:0,totalProperties:0,hasNextPage:!1,hasPrevPage:!1},stats:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}}async getCustomerPropertyStats(){try{return await this.makeRequest("/customer/properties/stats")}catch(a){return console.error("Failed to fetch customer property stats:",a),{success:!0,data:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}async getProperty(a){try{return await this.makeRequest(`/customer/properties/${a}`)}catch(r){throw console.error("Failed to fetch property:",r),r}}async createProperty(a){try{return await this.makeRequest("/customer/properties",{method:"POST",body:JSON.stringify(a)})}catch(r){throw console.error("Failed to create property:",r),r}}async updateProperty(a,r){try{return await this.makeRequest(`/customer/properties/${a}`,{method:"PUT",body:JSON.stringify(r)})}catch(i){throw console.error("Failed to update property:",i),i}}async deleteProperty(a){try{await this.makeRequest(`/customer/properties/${a}`,{method:"DELETE"})}catch(r){throw console.error("Failed to delete property:",r),r}}async togglePropertyStatus(a,r){try{return await this.makeRequest(`/customer/properties/${a}/status`,{method:"PATCH",body:JSON.stringify({status:r})})}catch(i){throw console.error("Failed to toggle property status:",i),i}}async togglePropertyFeatured(a,r){try{return await this.makeRequest(`/customer/properties/${a}/featured`,{method:"PATCH",body:JSON.stringify({featured:r})})}catch(i){throw console.error("Failed to toggle property featured status:",i),i}}async getPropertyAnalytics(a,r="month"){try{return await this.makeRequest(`/customer/properties/${a}/analytics?period=${r}`)}catch(i){return console.error("Failed to fetch property analytics:",i),{success:!0,data:{views:[],inquiries:[],favorites:[],conversionRate:0,avgResponseTime:"N/A",topReferrers:[],engagement:{totalClicks:0,phoneClicks:0,emailClicks:0,messageClicks:0}}}}}formatPrice(a,r){return r==="rent"?`â‚¹${a.toLocaleString("en-IN")}/month`:r==="lease"?`â‚¹${a.toLocaleString("en-IN")}/year`:a>=1e7?`â‚¹${(a/1e7).toFixed(1)} Cr`:a>=1e5?`â‚¹${(a/1e5).toFixed(1)} Lac`:`â‚¹${a.toLocaleString("en-IN")}`}formatArea(a){return a.builtUp?`${a.builtUp} ${a.unit}`:a.plot?`${a.plot} ${a.unit}`:a.carpet?`${a.carpet} ${a.unit}`:"Area not specified"}getStatusColor(a){switch(a){case"active":return"bg-green-500";case"rented":return"bg-blue-500";case"sold":return"bg-purple-500";case"pending":return"bg-yellow-500";case"draft":return"bg-gray-500";case"inactive":return"bg-red-500";default:return"bg-gray-500"}}getStatusText(a){switch(a){case"active":return"Active";case"rented":return"Rented";case"sold":return"Sold";case"pending":return"Under Review";case"draft":return"Draft";case"inactive":return"Inactive";default:return a}}formatTimeAgo(a){const r=new Date(a),h=new Date().getTime()-r.getTime(),x=Math.floor(h/(1e3*60)),l=Math.floor(x/60),v=Math.floor(l/24);return x<1?"Just now":x<60?`${x} min ago`:l<24?`${l} hour${l>1?"s":""} ago`:v<7?`${v} day${v>1?"s":""} ago`:r.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}getPrimaryImage(a){return a.images.find(i=>i.isPrimary)?.url||a.images[0]?.url||"/placeholder-property.jpg"}getDaysOnMarket(a){const r=new Date(a),h=new Date().getTime()-r.getTime();return Math.floor(h/(1e3*60*60*24))}calculateMonthlyRevenue(a){return a.filter(r=>r.status==="rented"&&r.listingType==="rent").reduce((r,i)=>r+i.price,0)}calculateTotalRevenue(a){const r=a.filter(l=>l.status==="sold");a.filter(l=>l.status==="rented");const i=r.reduce((l,v)=>l+v.price,0),x=this.calculateMonthlyRevenue(a)*12;return i+x}}const Je=new He,ms=()=>{const{isConnected:T,lastEvent:a}=Ne(),[r,i]=o.useState(!1),[h,x]=o.useState(!0),[l,v]=o.useState(!1),[q,G]=o.useState(!1),[N,ie]=o.useState(null),[K,Q]=o.useState(!1),F=o.useRef(null),[c,g]=o.useState({name:"",email:"",phone:"",location:"",address:"",pincode:"",bio:"",joinDate:"",avatar:"",verified:!1}),[n,w]=o.useState({states:[],districts:[],cities:[],selectedState:"",selectedDistrict:"",selectedCity:"",loadingStates:!1,loadingDistricts:!1,loadingCities:!1}),[b,S]=o.useState({inquiriesSent:0,savedSearches:0,propertiesViewed:0,totalFavorites:0,ownedProperties:0}),[X,ce]=o.useState([]);o.useEffect(()=>{(async()=>{try{await y.initialize();const t=y.getStates();w(p=>({...p,states:t}))}catch(t){console.error("Error initializing location service:",t)}})()},[]);const ne=o.useCallback(s=>{w(t=>({...t,selectedState:s,selectedDistrict:"",selectedCity:"",districts:y.getDistricts(s),cities:[]})),g(t=>({...t,location:`${s}`}))},[]),le=o.useCallback(s=>{w(t=>{const p=t.selectedState;return{...t,selectedDistrict:s,selectedCity:"",cities:y.getCities(p,s)}}),g(t=>({...t,location:`${s}, ${n.selectedState}`}))},[n.selectedState]),oe=o.useCallback(s=>{w(t=>({...t,selectedCity:s})),g(t=>({...t,location:`${s}, ${n.selectedDistrict}, ${n.selectedState}`}))},[n.selectedState,n.selectedDistrict]),de=o.useCallback(s=>{if(!s)return"Not specified";const t=[];return s.city&&t.push(s.city),s.district&&s.district!==s.city&&t.push(s.district),s.state&&t.push(s.state),t.length>0?t.join(", "):"Not specified"},[]),P=o.useCallback(async()=>{try{x(!0);const[s,t,p]=await Promise.all([k.getCurrentUser(),ae.getCustomerDashboardData().catch(()=>null),Je.getCustomerPropertyStats().catch(()=>null)]),d=s.data.user;ie(d);const m=d.profile.address,L=m?`${m.city||""}, ${m.state||""}`.replace(/^,\s*|,\s*$/g,""):"";if(console.log("Loading user data, address:",m),console.log("Existing zipCode from database:",m?.zipCode),g({name:k.getFullName(d),email:d.email,phone:d.profile.phone||"",location:L,address:m?.street||"",pincode:m?.zipCode||"",bio:"",joinDate:k.formatCreationDate(d.createdAt),avatar:d.profile.avatar||"",verified:d.profile.emailVerified||!1}),m?.state||m?.city){const u=m.state||"",f=m.city||"";if(w(E=>({...E,selectedState:u,selectedCity:f,districts:u?y.getDistricts(u):[],cities:u?y.getCities(u,""):[]})),f&&u){const E=y.getDistricts(u);for(const Y of E){const W=y.getCities(u,Y);if(W.includes(f)){w(ve=>({...ve,selectedDistrict:Y,cities:W}));break}}}}if(t?.success){const u=t.data.stats;S(f=>({...f,inquiriesSent:u.activeInquiries||0,propertiesViewed:u.propertiesViewed||0,totalFavorites:u.savedFavorites||0})),ce(t.data.recentActivities.map(f=>({id:f._id,type:f.type,message:f.message,timestamp:f.time,icon:f.icon})))}if(p?.success){const u=p.data;S(f=>({...f,ownedProperties:u.totalProperties||0,savedSearches:u.pendingApproval||0}))}}catch(s){console.error("Error loading user data:",s),$({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{x(!1)}},[]),me=o.useCallback(async()=>{G(!0),await P(),G(!1)},[]);o.useEffect(()=>{P()},[]);const pe=o.useCallback(()=>{console.log("Profile updated via realtime"),P()},[]),ue=o.useCallback(()=>{S(s=>({...s,inquiriesSent:s.inquiriesSent+1}))},[]),he=o.useCallback(()=>{S(s=>({...s,propertiesViewed:s.propertiesViewed+1}))},[]),xe=o.useCallback(s=>{s.action==="add"?S(t=>({...t,totalFavorites:t.totalFavorites+1})):s.action==="remove"&&S(t=>({...t,totalFavorites:Math.max(0,t.totalFavorites-1)}))},[]);A("profile_updated",pe),A("property_inquiry",ue),A("property_viewed",he),A("property_favorited",xe);const fe=async()=>{if(N)try{v(!0);const s={notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!1}},t=N.profile?.preferences,p=t?{notifications:{email:t.notifications?.email??s.notifications.email,sms:t.notifications?.sms??s.notifications.sms,push:t.notifications?.push??s.notifications.push},privacy:{showEmail:t.privacy?.showEmail??s.privacy.showEmail,showPhone:t.privacy?.showPhone??s.privacy.showPhone}}:s,d={profile:{firstName:c.name.split(" ")[0]||"",lastName:c.name.split(" ").slice(1).join(" ")||"",phone:c.phone,address:{street:c.address,city:n.selectedCity||c.location.split(",")[0]?.trim()||"",district:n.selectedDistrict||"",state:n.selectedState||c.location.split(",")[1]?.trim()||"",zipCode:c.pincode||""},preferences:p}};console.log("Profile data being sent:",d),console.log("Current profile.pincode:",c.pincode),console.log("Address object being sent:",d.profile?.address),await k.updateCurrentUser(d),await P(),console.log("User data refreshed, checking pincode..."),i(!1)}catch(s){console.error("Error saving profile:",s)}finally{v(!1)}},ge=()=>{i(!1)},je=async s=>{const t=s.target.files?.[0];if(!t)return;const p=J.validateImageFile(t);if(!p.valid){$({title:"Invalid File",description:p.error,variant:"destructive"});return}try{Q(!0);const d=await J.compressImage(t),m=await J.uploadAvatar(d);g(L=>({...L,avatar:m})),N&&await k.updateCurrentUser({profile:{...N.profile,avatar:m}}),$({title:"Success",description:"Profile picture updated successfully!"}),await P()}catch(d){console.error("Avatar upload error:",d),$({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{Q(!1),F.current&&(F.current.value="")}};return h?e.jsx("div",{className:"space-y-6 pt-24",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${T?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-muted-foreground",children:T?"Real-time profile updates active":"Offline mode"}),a&&e.jsxs(Z,{variant:"secondary",className:"text-xs",children:["Last update: ",new Date(a.timestamp).toLocaleTimeString()]})]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:me,disabled:q,children:[e.jsx(re,{className:`w-4 h-4 mr-2 ${q?"animate-spin":""}`}),q?"Refreshing...":"Refresh"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(we,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["View your profile information and activity. Visit ",e.jsx("span",{className:"font-medium",children:"Settings"})," to manage preferences."]})]}),e.jsxs("div",{className:"flex gap-2",children:[!r&&!h&&e.jsxs(C,{onClick:()=>i(!0),children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(C,{variant:"outline",onClick:()=>window.location.href="/customer/settings",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsxs(be,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(Ce,{className:"grid w-full grid-cols-2",children:[e.jsx(se,{value:"profile",children:"Profile"}),e.jsx(se,{value:"activity",children:"Activity"})]}),e.jsxs(te,{value:"profile",className:"space-y-6",children:[e.jsx(D,{children:e.jsx(R,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Se,{className:"w-24 h-24",children:[e.jsx(Pe,{src:c.avatar}),e.jsx($e,{className:"text-2xl",children:c.name.split(" ").map(s=>s[0]).join("")})]}),e.jsx("input",{ref:F,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:je,className:"hidden"}),e.jsx(C,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full",onClick:()=>F.current?.click(),disabled:K,children:K?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(Me,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold",children:c.name}),c.verified&&e.jsxs(Z,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(De,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-4 h-4"}),c.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"w-4 h-4"}),c.phone]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4"}),c.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"w-4 h-4"}),"Joined ",c.joinDate]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:b.ownedProperties}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties"})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:b.totalFavorites}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(D,{children:[e.jsx(V,{children:e.jsx(U,{children:"Personal Information"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Full Name"}),r?e.jsx(I,{value:c.name,onChange:s=>g(t=>({...t,name:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Email"}),r?e.jsx(I,{type:"email",value:c.email,onChange:s=>g(t=>({...t,email:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Phone"}),r?e.jsx(I,{value:c.phone,onChange:s=>g(t=>({...t,phone:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.phone})]}),r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(j,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(Ve,{value:c.pincode||"",state:n.selectedState,district:n.selectedDistrict,city:n.selectedCity,onChange:(s,t)=>{if(console.log("Pincode selected:",s,t),g(p=>({...p,pincode:s})),t){console.log("Auto-filling location from pincode:",t);const p=y.getDistricts(t.state),d=y.getCities(t.state,t.district);w(m=>({...m,selectedState:t.state||"",selectedDistrict:t.district||"",selectedCity:t.city||"",districts:p,cities:d})),g(m=>({...m,location:`${t.city}, ${t.district}, ${t.state}`,pincode:s})),console.log("Profile updated with pincode and location:",{pincode:s,location:`${t.city}, ${t.district}, ${t.state}`}),$({title:"Location Auto-filled âœ“",description:`${t.city}, ${t.district}, ${t.state}`})}},placeholder:"Enter PIN code to auto-fill location...",className:"w-full"}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Type your PIN code to auto-fill state, district, and city"}),c.pincode&&n.selectedCity&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),"Location: ",n.selectedCity,", ",n.selectedDistrict,", ",n.selectedState]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"State"}),e.jsxs(M,{value:n.selectedState,onValueChange:ne,children:[e.jsx(z,{children:e.jsx(O,{placeholder:"Select state"})}),e.jsx(B,{children:n.states.map(s=>e.jsx(H,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"District"}),e.jsxs(M,{value:n.selectedDistrict,onValueChange:le,disabled:!n.selectedState,children:[e.jsx(z,{children:e.jsx(O,{placeholder:n.selectedState?n.loadingDistricts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(B,{children:n.districts.map(s=>e.jsx(H,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"City"}),e.jsxs(M,{value:n.selectedCity,onValueChange:oe,disabled:!n.selectedDistrict,children:[e.jsx(z,{children:e.jsx(O,{placeholder:n.selectedState?n.selectedDistrict?n.loadingCities?"Loading cities...":"Select city":"Select district first":"Select state first"})}),e.jsx(B,{children:n.cities.map(s=>e.jsx(H,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Street Address"}),e.jsx(I,{value:c.address,onChange:s=>g(t=>({...t,address:s.target.value})),placeholder:"House/Flat number, Street name, Area"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Location"}),e.jsx("p",{className:"text-sm",children:N?.profile?.address?de(N.profile.address):"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Address"}),e.jsx("p",{className:"text-sm",children:c.address||"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:N?.profile?.address?.zipCode||c.pincode||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{children:"Bio"}),r?e.jsx(Ee,{rows:3,value:c.bio,onChange:s=>g(t=>({...t,bio:s.target.value}))}):e.jsx("p",{className:"text-sm",children:c.bio})]}),r&&e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(C,{onClick:fe,disabled:l,children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(C,{variant:"outline",onClick:ge,children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(D,{children:[e.jsx(V,{children:e.jsx(U,{children:"Account Statistics"})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Owned Properties"})]}),e.jsx("span",{className:"font-semibold",children:b.ownedProperties})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Inquiries Sent"})]}),e.jsx("span",{className:"font-semibold",children:b.inquiriesSent})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Properties Viewed"})]}),e.jsx("span",{className:"font-semibold",children:b.propertiesViewed.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Total Favorites"})]}),e.jsx("span",{className:"font-semibold",children:b.totalFavorites})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Saved Searches"})]}),e.jsx("span",{className:"font-semibold",children:b.savedSearches})]})]})})]})]}),e.jsx(D,{className:"border-primary/20 bg-primary/5",children:e.jsx(R,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Your Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure notifications, privacy, security, and account settings"})]})]}),e.jsx(C,{onClick:()=>window.location.href="/customer/settings",children:"Go to Settings"})]})})})]}),e.jsx(te,{value:"activity",className:"space-y-6",children:e.jsxs(D,{children:[e.jsx(V,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(R,{children:!h&&X.length>0?e.jsx("div",{className:"space-y-4",children:X.map(s=>{const t=p=>{switch(p){case"property_posted":return"bg-green-500";case"inquiry":return"bg-blue-500";case"favorite":return"bg-red-500";case"search":return"bg-purple-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t(s.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:ae.formatTimeAgo(s.timestamp)})]})]},s.id)})}):h?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start browsing properties to see your activity here"})]})})]})})]})]})};export{ms as default};
