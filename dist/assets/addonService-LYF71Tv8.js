import{t as n}from"./index-Bd1eLXM_.js";const d="https://api.akodefy.com/api";class i{async makeRequest(s,e={}){const r=`${d}${s}`,a={headers:{"Content-Type":"application/json",...e.headers},...e},o=localStorage.getItem("token");o&&(a.headers={...a.headers,Authorization:`Bearer ${o}`});try{const t=await fetch(r,a);if(!t.ok){const c=await t.json().catch(()=>({success:!1,message:`HTTP ${t.status}: ${t.statusText}`}));throw new Error(c.message||"An error occurred")}return await t.json()}catch(t){throw console.error("Addon API request failed:",t),t}}async getAddons(s){try{const e=new URLSearchParams;s&&e.append("category",s);const r=`/addons${e.toString()?"?"+e.toString():""}`,a=await this.makeRequest(r);if(a.success&&a.data)return a.data.addons;throw new Error("Failed to fetch addons")}catch(e){const r=e instanceof Error?e.message:"Failed to fetch addons";throw n({title:"Error",description:r,variant:"destructive"}),e}}async getAddonById(s){try{const e=await this.makeRequest(`/addons/${s}`);if(e.success&&e.data)return e.data;throw new Error("Failed to fetch addon")}catch(e){const r=e instanceof Error?e.message:"Failed to fetch addon";throw n({title:"Error",description:r,variant:"destructive"}),e}}}const f=new i;export{f as a};
