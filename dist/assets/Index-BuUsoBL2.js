import{j as e}from"./ui-s1SEoZIF.js";import{r as s,L as t}from"./router-D8v2YSKU.js";import{P as a,a as r}from"./PropertyCard-B3V_KhsM.js";import{w as i,a as n,b as l,ak as o,al as c,am as d,G as m,B as x,e as p,k as h,h as u,P as g,b1 as j,S as f,ax as v,t as N,x as y,U as b}from"./index-YrVmIx3a.js";import{T as w}from"./trending-up-DbwyOQAf.js";import"./vendor-BxThA0WO.js";import"./propertyUtils-41DuwCMc.js";import"./PropertyContactDialog-CEb66K_0.js";import"./messageService-Su2xQswC.js";import"./uploadService-C_cH8Ofp.js";import"./send-IVeIvFQ5.js";import"./EnterprisePropertyContactDialog-C_OgieUi.js";import"./indian-rupee-EkOzOuU4.js";import"./vendorService-DCrWkx_G.js";import"./reviewsService-E1EyDdEs.js";import"./favoriteService-DwzATwTP.js";import"./square-Cto-ijCZ.js";const k=i("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),C=({vendor:s})=>{const t=(s,t)=>{if(t)switch(t){case"star":default:return e.jsx(m,{className:"w-3 h-3 mr-1"});case"shield":case"shield-check":return e.jsx(f,{className:"w-3 h-3 mr-1"});case"trending-up":return e.jsx(w,{className:"w-3 h-3 mr-1"});case"dollar-sign":return e.jsx(k,{className:"w-3 h-3 mr-1"});case"crown":return e.jsx(j,{className:"w-3 h-3 mr-1"})}switch(s){case"topRated":default:return e.jsx(m,{className:"w-3 h-3 mr-1"});case"verifiedBadge":return e.jsx(f,{className:"w-3 h-3 mr-1"});case"marketingManager":return e.jsx(w,{className:"w-3 h-3 mr-1"});case"commissionBased":return e.jsx(k,{className:"w-3 h-3 mr-1"})}},a=(e,s)=>{switch(e){case"topRated":return"Top Rated";case"verifiedBadge":return"Verified";case"marketingManager":return"Marketing Pro";case"commissionBased":return"Commission Based";default:return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}},r=(e,s=0)=>{const t=["default","secondary","outline","destructive"];switch(e){case"topRated":return"default";case"verifiedBadge":return"secondary";case"marketingManager":return"outline";case"commissionBased":return"destructive";default:return t[s%t.length]}},i=Array.isArray(s.badges)?s.badges.filter(e=>e.enabled):Object.entries(s.badges).filter(([e,s])=>s).map(([e,s])=>({key:e,name:a(e),enabled:!0,icon:void 0}));return e.jsxs(n,{className:"h-full hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/20",children:[e.jsxs(l,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(o,{className:"h-16 w-16",children:[e.jsx(c,{src:s.avatar||void 0,alt:s.name,className:"object-cover"}),e.jsx(d,{className:"bg-primary/10 text-primary font-semibold text-lg",children:(v=s.name,v.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg leading-tight text-foreground truncate",children:s.name}),s.companyName&&e.jsx("p",{className:"text-sm text-muted-foreground font-medium truncate",children:s.companyName}),s.rating.count>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(m,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:s.rating.average.toFixed(1)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",s.rating.count," reviews)"]})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:i.map((s,i)=>{const n="object"==typeof s?s.key:s,l="object"==typeof s?s.name:a(s),o="object"==typeof s?s.icon:void 0;return e.jsxs(x,{variant:r(n,i),className:"text-xs font-medium",children:[t(n,o),l]},n)})})]}),e.jsxs(p,{className:"pt-0 space-y-3",children:[(s.location.city||s.location.state)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:[s.location.city,s.location.state].filter(Boolean).join(", ")})]}),s.responseTime&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.responseTime," response time"]})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:s.phone})]}),s.specialization.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[s.specialization.slice(0,3).map((s,t)=>e.jsx(x,{variant:"outline",className:"text-xs",children:s},t)),s.specialization.length>3&&e.jsxs(x,{variant:"outline",className:"text-xs",children:["+",s.specialization.length-3]})]}),s.bio&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",textOverflow:"ellipsis"},children:s.bio}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(j,{className:"w-3 h-3 inline mr-1"}),s.planName," Plan"]})})]})]});var v};const P=new class{async getFeaturedVendors(e=8){try{const s=await fetch(`https://app.buildhomemartsquares.com/api/properties/featured-vendors?limit=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();if(!t.success)throw new Error(t.message||"Failed to fetch featured vendors");return{vendors:t.data.vendors||[],totalCount:t.data.totalCount||0}}catch(s){return{vendors:[],totalCount:0}}}},S=()=>{const[i,n]=s.useState([]),[l,o]=s.useState([]),[c,d]=s.useState(!0),[x,p]=s.useState(!0),[h,u]=s.useState({}),g=s.useCallback(async(e={})=>{try{d(!0);const s=await v.getProperties({limit:12,page:1,...e});s.success&&n(s.data.properties)}catch(s){N({title:"Error",description:"Failed to load properties. Please try again.",variant:"destructive"})}finally{d(!1)}},[]),j=s.useCallback(async()=>{try{p(!0);const e=await P.getFeaturedVendors(8);o(e.vendors)}catch(e){}finally{p(!1)}},[]);s.useEffect(()=>{g(h),j()},[g,j,h]);return e.jsxs(e.Fragment,{children:[e.jsx(a,{onFilterChange:e=>{u(e)}}),e.jsxs("section",{className:"mt-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:Object.keys(h).some(e=>void 0!==h[e])?"Filtered Properties":"Latest Properties"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:Object.keys(h).some(e=>void 0!==h[e])?`Found ${i.length} properties matching your criteria`:"Discover our newest property listings"})]}),e.jsx(t,{to:"/products",className:"text-primary hover:underline font-medium",children:"View All"})]}),c?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(y,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2 text-lg",children:"Loading properties..."})]}):0===i.length?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-lg text-muted-foreground",children:"No properties available at the moment."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>e.jsx(r,{property:s},s._id))})]}),e.jsxs("section",{className:"mt-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Our Vendors"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect with top-rated professional vendors based on their subscription plans"})]}),l.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsxs("span",{children:[l.length," featured vendors"]})]})]}),x?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(y,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2 text-lg",children:"Loading vendors..."})]}):0===l.length?e.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-lg",children:[e.jsx(f,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-2",children:"No featured vendors available"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Check back soon for verified professional vendors"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(s=>e.jsx(C,{vendor:s},s._id))}),l.length>0&&e.jsxs("div",{className:"mt-8 p-4 bg-muted/30 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-3 text-sm",children:"Vendor Badges:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-3 h-3 text-yellow-500"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Top Rated"})," - Highly rated professionals"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-3 h-3 text-blue-500"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Verified"})," - Identity & credentials verified"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Marketing Pro"})," - Advanced marketing tools"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Commission Based"})," - Performance-based pricing"]})]})]})]})]}),e.jsxs("section",{className:"mt-16 bg-gradient-to-r from-primary to-primary/80 rounded-2xl p-12 text-center text-primary-foreground",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Dream Home?"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Join thousands of happy homeowners who found their perfect property with us"}),e.jsx(t,{to:"/products",className:"bg-accent text-accent-foreground px-8 py-3 rounded-lg font-semibold hover:bg-accent/80 hover:brightness-110 hover:shadow-lg hover:scale-105 transition-all duration-300 shadow-[var(--shadow-medium)] inline-block",children:"Get Started Today"})]})]})};export{S as default};
