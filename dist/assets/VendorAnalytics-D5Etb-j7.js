import{j as e}from"./ui-DHQhougw.js";import{R as t,r,d as a}from"./router-Bi51YGN-.js";import{aV as n,t as s,R as o,s as i,S as l,l as c,m as d,n as p,o as u,f as m,a as h,e as x,b as y,c as f,E as v,U as g,z as b,af as j,aD as w,H as P,g as S,B as N,ax as A,P as R,ar as T}from"./index-B494FSRu.js";import{r as O}from"./reviewsService-B7Grx6TL.js";import{u as k}from"./use-mobile-WsBtvUz6.js";import{E as C,a as D}from"./jspdf.plugin.autotable-DwEKeAHV.js";import{D as E}from"./download-ChupnzDp.js";import{T as F}from"./trending-up-h12q0I83.js";import{T as L}from"./trending-down-CG0dhajA.js";import{f as M,b as I,m as $,i as z,c as V,A as K,d as W,e as B,g as _,h as U,j as G,k as q,u as Y,l as H,G as J,n as X,o as Q,D as Z,S as ee,p as te,q as re,r as ae,E as ne,s as se,t as oe,v as ie,B as le,X as ce,Y as de,w as pe,a as ue,R as me,C as he,T as xe,x as ye,L as fe}from"./LineChart-SHYn6aNE.js";import{S as ve}from"./share-CT0I1v9g.js";import{D as ge}from"./dollar-sign-CW2WSPlH.js";import"./vendor-eVk5PToZ.js";var be,je=["layout","type","stroke","connectNulls","isRange","ref"],we=["key"];function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(this,arguments)}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach(function(t){Ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Te(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Fe(a.key),a)}}function Oe(e,t,r){return t=Ce(t),function(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ke()?Reflect.construct(t,r||[],Ce(e).constructor):t.apply(e,r))}function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ke=function(){return!!e})()}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t,r){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Pe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}var Le=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return Ee(t=Oe(this,e,[].concat(a)),"state",{isAnimationFinished:!0}),Ee(t,"id",Y("recharts-area-")),Ee(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),H(e)&&e()}),Ee(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),H(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(e,r.PureComponent),a=e,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(s=[{key:"renderDots",value:function(r,a,n){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var i=this.props,l=i.dot,c=i.points,d=i.dataKey,p=M(this.props,!1),u=M(l,!0),m=c.map(function(t,r){var a=Re(Re(Re({key:"dot-".concat(r),r:3},p),u),{},{index:r,cx:t.x,cy:t.y,dataKey:d,value:t.value,payload:t.payload,points:c});return e.renderDotItem(l,a)}),h={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(n,")"):null};return t.createElement(I,Ne({className:"recharts-area-dots"},h),m)}},{key:"renderHorizontalRect",value:function(e){var r=this.props,a=r.baseLine,n=r.points,s=r.strokeWidth,o=n[0].x,i=n[n.length-1].x,l=e*Math.abs(o-i),c=$(n.map(function(e){return e.y||0}));return z(a)&&"number"==typeof a?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max($(a.map(function(e){return e.y||0})),c)),z(c)?t.createElement("rect",{x:o<i?o:o-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var r=this.props,a=r.baseLine,n=r.points,s=r.strokeWidth,o=n[0].y,i=n[n.length-1].y,l=e*Math.abs(o-i),c=$(n.map(function(e){return e.x||0}));return z(a)&&"number"==typeof a?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max($(a.map(function(e){return e.x||0})),c)),z(c)?t.createElement("rect",{x:0,y:o<i?o:o-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,r,a,n){var s=this.props,o=s.layout,i=s.type,l=s.stroke,c=s.connectNulls,d=s.isRange;s.ref;var p=Se(s,je);return t.createElement(I,{clipPath:a?"url(#clipPath-".concat(n,")"):null},t.createElement(V,Ne({},M(p,!0),{points:e,connectNulls:c,type:i,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.createElement(V,Ne({},M(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:e})),"none"!==l&&d&&t.createElement(V,Ne({},M(this.props,!1),{className:"recharts-area-curve",layout:o,type:i,connectNulls:c,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(e,r){var a=this,n=this.props,s=n.points,o=n.baseLine,i=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,p=n.animationId,u=this.state,m=u.prevPoints,h=u.prevBaseLine;return t.createElement(K,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(m){var l,c=m.length/s.length,d=s.map(function(e,t){var r=Math.floor(t*c);if(m[r]){var a=m[r],n=W(a.x,e.x),s=W(a.y,e.y);return Re(Re({},e),{},{x:n(i),y:s(i)})}return e});return l=z(o)&&"number"==typeof o?W(h,o)(i):B(o)||_(o)?W(h,0)(i):o.map(function(e,t){var r=Math.floor(t*c);if(h[r]){var a=h[r],n=W(a.x,e.x),s=W(a.y,e.y);return Re(Re({},e),{},{x:n(i),y:s(i)})}return e}),a.renderAreaStatically(d,l,e,r)}return t.createElement(I,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},a.renderClipRect(i))),t.createElement(I,{clipPath:"url(#animationClipPath-".concat(r,")")},a.renderAreaStatically(s,o,e,r)))})}},{key:"renderArea",value:function(e,t){var r=this.props,a=r.points,n=r.baseLine,s=r.isAnimationActive,o=this.state,i=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return s&&a&&a.length&&(!i&&c>0||!U(i,a)||!U(l,n))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,n,e,t)}},{key:"render",value:function(){var e,r=this.props,a=r.hide,s=r.dot,o=r.points,i=r.className,l=r.top,c=r.left,d=r.xAxis,p=r.yAxis,u=r.width,m=r.height,h=r.isAnimationActive,x=r.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,f=1===o.length,v=n("recharts-area",i),g=d&&d.allowDataOverflow,b=p&&p.allowDataOverflow,j=g||b,w=B(x)?this.id:x,P=null!==(e=M(s,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=P.r,N=void 0===S?3:S,A=P.strokeWidth,R=void 0===A?2:A,T=(G(s)?s:{}).clipDot,O=void 0===T||T,k=2*N+R;return t.createElement(I,{className:v},g||b?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(w)},t.createElement("rect",{x:g?c:c-u/2,y:b?l:l-m/2,width:g?u:2*u,height:b?m:2*m})),!O&&t.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.createElement("rect",{x:c-k/2,y:l-k/2,width:u+k,height:m+k}))):null,f?null:this.renderArea(j,w),(s||f)&&this.renderDots(j,O,w),(!h||y)&&q.renderCallByParent(this.props,o))}}])&&Te(a.prototype,s),o&&Te(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,s,o}();function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Be(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $e(e,t,r){return t=Ve(t),function(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ze()?Reflect.construct(t,r||[],Ve(e).constructor):t.apply(e,r))}function ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ze=function(){return!!e})()}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function We(e,t,r){return(t=Be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=Me(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Me(t)?t:t+""}be=Le,Ee(Le,"displayName","Area"),Ee(Le,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!J.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),Ee(Le,"getBaseValue",function(e,t,r,a){var n=e.layout,s=e.baseValue,o=t.props.baseValue,i=null!=o?o:s;if(z(i)&&"number"==typeof i)return i;var l="horizontal"===n?a:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),p=Math.min(c[0],c[1]);return"dataMin"===i?p:"dataMax"===i||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===i?c[0]:"dataMax"===i?c[1]:c[0]}),Ee(Le,"getComposedData",function(e){var t,r=e.props,a=e.item,n=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,p=e.dataStartIndex,u=e.displayedData,m=e.offset,h=r.layout,x=d&&d.length,y=be.getBaseValue(r,a,n,s),f="horizontal"===h,v=!1,g=u.map(function(e,t){var r;x?r=d[p+t]:(r=X(e,c),Array.isArray(r)?v=!0:r=[y,r]);var a=null==r[1]||x&&null==X(e,c);return f?{x:Q({axis:n,ticks:o,bandSize:l,entry:e,index:t}),y:a?null:s.scale(r[1]),value:r,payload:e}:{x:a?null:n.scale(r[1]),y:Q({axis:s,ticks:i,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=x||v?g.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?s.scale(t):null}:{x:null!=t?n.scale(t):null,y:e.y}}):f?s.scale(y):n.scale(y),Re({points:g,baseLine:t,layout:h,isRange:v},m)}),Ee(Le,"renderDotItem",function(e,r){var a;if(t.isValidElement(e))a=t.cloneElement(e,r);else if(H(e))a=e(r);else{var s=n("recharts-area-dot","boolean"!=typeof e?e.className:""),o=r.key,i=Se(r,we);a=t.createElement(Z,Ne({},i,{key:o,className:s}))}return a});var _e=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$e(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}(e,r.Component),Ie(e,[{key:"render",value:function(){return null}}])}();We(_e,"displayName","ZAxis"),We(_e,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Ue=["option","isActive"];function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ge.apply(this,arguments)}function qe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ye(e){var t=e.option,a=e.isActive,n=qe(e,Ue);return"string"==typeof t?r.createElement(ee,Ge({option:r.createElement(te,Ge({type:t},n)),isActive:a,shapeType:"symbols"},n)):r.createElement(ee,Ge({option:t,isActive:a,shapeType:"symbols"},n))}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Je.apply(this,arguments)}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach(function(t){nt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ze(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,st(a.key),a)}}function et(e,t,r){return t=rt(t),function(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tt()?Reflect.construct(t,r||[],rt(e).constructor):t.apply(e,r))}function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tt=function(){return!!e})()}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t,r){return(t=st(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e){var t=function(e,t){if("object"!=He(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=He(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==He(t)?t:t+""}var ot=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return nt(t=et(this,e,[].concat(a)),"state",{isAnimationFinished:!1}),nt(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),nt(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),nt(t,"id",Y("recharts-scatter-")),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t)}(e,r.PureComponent),a=e,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],(s=[{key:"renderSymbolsStatically",value:function(e){var r=this,a=this.props,n=a.shape,s=a.activeShape,o=a.activeIndex,i=M(this.props,!1);return e.map(function(e,a){var l=o===a,c=l?s:n,d=Qe(Qe({},i),e);return t.createElement(I,Je({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(a)},re(r.props,e,a),{role:"img"}),t.createElement(Ye,Je({option:c,isActive:l,key:"symbol-".concat(a)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,r=this.props,a=r.points,n=r.isAnimationActive,s=r.animationBegin,o=r.animationDuration,i=r.animationEasing,l=r.animationId,c=this.state.prevPoints;return t.createElement(K,{begin:s,duration:o,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var n=r.t,s=a.map(function(e,t){var r=c&&c[t];if(r){var a=W(r.cx,e.cx),s=W(r.cy,e.cy),o=W(r.size,e.size);return Qe(Qe({},e),{},{cx:a(n),cy:s(n),size:o(n)})}var i=W(0,e.size);return Qe(Qe({},e),{},{size:i(n)})});return t.createElement(I,null,e.renderSymbolsStatically(s))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,r=e.isAnimationActive,a=this.state.prevPoints;return!(r&&t&&t.length)||a&&U(a,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,r=e.points,a=e.xAxis,n=e.yAxis,s=e.children,o=ae(s,ne);return o?o.map(function(e,s){var o=e.props,i=o.direction,l=o.dataKey;return t.cloneElement(e,{key:"".concat(i,"-").concat(l,"-").concat(r[s]),data:r,xAxis:a,yAxis:n,layout:"x"===i?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===i?+e.node.x:+e.node.y,errorVal:X(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,r,a=this.props,n=a.points,s=a.line,o=a.lineType,i=a.lineJointType,l=M(this.props,!1),c=M(s,!1);if("joint"===o)e=n.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===o){var d=se(n),p=d.xmin,u=d.xmax,m=d.a,h=d.b,x=function(e){return m*e+h};e=[{x:p,y:x(p)},{x:u,y:x(u)}]}var y=Qe(Qe(Qe({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return r=t.isValidElement(s)?t.cloneElement(s,y):H(s)?s(y):t.createElement(V,Je({},y,{type:i})),t.createElement(I,{className:"recharts-scatter-line",key:"recharts-scatter-line"},r)}},{key:"render",value:function(){var e=this.props,r=e.hide,a=e.points,s=e.line,o=e.className,i=e.xAxis,l=e.yAxis,c=e.left,d=e.top,p=e.width,u=e.height,m=e.id,h=e.isAnimationActive;if(r||!a||!a.length)return null;var x=this.state.isAnimationFinished,y=n("recharts-scatter",o),f=i&&i.allowDataOverflow,v=l&&l.allowDataOverflow,g=f||v,b=B(m)?this.id:m;return t.createElement(I,{className:y,clipPath:g?"url(#clipPath-".concat(b,")"):null},f||v?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(b)},t.createElement("rect",{x:f?c:c-p/2,y:v?d:d-u/2,width:f?p:2*p,height:v?u:2*u}))):null,s&&this.renderLine(),this.renderErrorBar(),t.createElement(I,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!h||x)&&q.renderCallByParent(this.props,a))}}])&&Ze(a.prototype,s),o&&Ze(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,s,o}();nt(ot,"displayName","Scatter"),nt(ot,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!J.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),nt(ot,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,a=e.zAxis,n=e.item,s=e.displayedData,o=e.xAxisTicks,i=e.yAxisTicks,l=e.offset,c=n.props.tooltipType,d=ae(n.props.children,oe),p=B(t.dataKey)?n.props.dataKey:t.dataKey,u=B(r.dataKey)?n.props.dataKey:r.dataKey,m=a&&a.dataKey,h=a?a.range:_e.defaultProps.range,x=h&&h[0],y=t.scale.bandwidth?t.scale.bandwidth():0,f=r.scale.bandwidth?r.scale.bandwidth():0,v=s.map(function(e,s){var l=X(e,p),h=X(e,u),v=!B(m)&&X(e,m)||"-",g=[{name:B(t.dataKey)?n.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:p,type:c},{name:B(r.dataKey)?n.props.name:r.name||r.dataKey,unit:r.unit||"",value:h,payload:e,dataKey:u,type:c}];"-"!==v&&g.push({name:a.name||a.dataKey,unit:a.unit||"",value:v,payload:e,dataKey:m,type:c});var b=Q({axis:t,ticks:o,bandSize:y,entry:e,index:s,dataKey:p}),j=Q({axis:r,ticks:i,bandSize:f,entry:e,index:s,dataKey:u}),w="-"!==v?a.scale(v):x,P=Math.sqrt(Math.max(w,0)/Math.PI);return Qe(Qe({},e),{},{cx:b,cy:j,x:b-P,y:j-P,xAxis:t,yAxis:r,zAxis:a,width:2*P,height:2*P,size:w,node:{x:l,y:h,z:v},tooltipPayload:g,tooltipPosition:{x:b,y:j},payload:e},d&&d[s]&&d[s].props)});return Qe({points:v},l)});var it=ie({chartName:"BarChart",GraphicalChild:le,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ce},{axisType:"yAxis",AxisComp:de}],formatAxisMap:pe}),lt=ie({chartName:"AreaChart",GraphicalChild:Le,axisComponents:[{axisType:"xAxis",AxisComp:ce},{axisType:"yAxis",AxisComp:de}],formatAxisMap:pe}),ct=ie({chartName:"ComposedChart",GraphicalChild:[ue,Le,le,ot],axisComponents:[{axisType:"xAxis",AxisComp:ce},{axisType:"yAxis",AxisComp:de},{axisType:"zAxis",AxisComp:_e}],formatAxisMap:pe});const dt="https://api.buildhomemartsquares.com/api";const pt=new class{async makeRequest(e,t={}){const r=`${dt}${e}`,a={headers:{"Content-Type":"application/json",...t.headers},...t},n=localStorage.getItem("token");n&&(a.headers={...a.headers,Authorization:`Bearer ${n}`});try{const e=await fetch(r,a);if(!e.ok){const t=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(t.message||"An error occurred")}return await e.json()}catch(s){throw s}}async getOverviewStats(e){try{const r=new URLSearchParams;r.append("timeframe",e.timeframe),e.propertyId&&r.append("propertyId",e.propertyId),e.dateFrom&&r.append("dateFrom",e.dateFrom),e.dateTo&&r.append("dateTo",e.dateTo);const a=`/vendors/analytics/overview?${r.toString()}`,n=await this.makeRequest(a);if(n.success&&n.data){try{const e=await O.getReviewStats();n.data.averageRating=e.averageRating}catch(t){}return n.data}let s=0;try{s=(await O.getReviewStats()).averageRating}catch(t){}return{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,soldPropertyRevenue:0,leasedPropertyRevenue:0,rentedPropertyRevenue:0,totalProperties:0,averageRating:s,responseTime:"Not calculated",conversionRate:0}}catch(r){let e=0;try{e=(await O.getReviewStats()).averageRating}catch(t){}return{totalViews:0,totalLeads:0,totalCalls:0,totalMessages:0,totalRevenue:0,soldPropertyRevenue:0,leasedPropertyRevenue:0,rentedPropertyRevenue:0,totalProperties:0,averageRating:e,responseTime:"Not calculated",conversionRate:0}}}async getPerformanceMetrics(e){try{const t=new URLSearchParams;t.append("timeframe",e.timeframe),e.propertyId&&t.append("propertyId",e.propertyId),e.dateFrom&&t.append("dateFrom",e.dateFrom),e.dateTo&&t.append("dateTo",e.dateTo);const r=`/vendors/analytics/performance?${t.toString()}`,a=await this.makeRequest(r);return a.success&&a.data?a.data:{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}catch(t){return{viewsData:[],leadsData:[],conversionData:[],revenueData:[],propertyPerformance:[],leadSources:[],demographicsData:[]}}}async exportAnalyticsData(e,t="csv"){try{const r=new URLSearchParams;r.append("timeframe",e.timeframe),r.append("format",t),e.propertyId&&r.append("propertyId",e.propertyId),e.dateFrom&&r.append("dateFrom",e.dateFrom),e.dateTo&&r.append("dateTo",e.dateTo);const a=`/vendors/analytics/export?${r.toString()}`,n=await fetch(`${dt}${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("Failed to export analytics data");const o=await n.blob();return s({title:"Success",description:`Analytics data exported as ${t.toUpperCase()}!`}),o}catch(r){const e=r instanceof Error?r.message:"Failed to export analytics data";throw s({title:"Error",description:e,variant:"destructive"}),r}}formatCurrency(e){return null==e||isNaN(e)?"₹0":`₹${e.toLocaleString("en-IN")}`}formatNumber(e){return null==e||isNaN(e)?"0":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}formatPercentage(e){return null==e||isNaN(e)?"0%":`${e.toFixed(1)}%`}calculateChangePercentage(e,t){return 0===t?e>0?100:0:(e-t)/t*100}getChangeType(e){return e>0?"increase":e<0?"decrease":"neutral"}getChangeColor(e){switch(e){case"increase":return"text-green-600";case"decrease":return"text-red-600";case"neutral":return"text-gray-600"}}generateDateRange(e){const t=new Date,r=[];switch(e){case"7days":for(let e=6;e>=0;e--){const a=new Date(t);a.setDate(a.getDate()-e),r.push({name:a.toLocaleDateString("en-US",{weekday:"short"}),value:0})}break;case"30days":for(let e=29;e>=0;e--){const a=new Date(t);a.setDate(a.getDate()-e),r.push({name:a.getDate().toString(),value:0})}break;case"90days":for(let e=11;e>=0;e--){const a=new Date(t);a.setMonth(a.getMonth()-e),r.push({name:a.toLocaleDateString("en-US",{month:"short"}),value:0})}break;case"1year":for(let e=11;e>=0;e--){const a=new Date(t);a.setMonth(a.getMonth()-e),r.push({name:a.toLocaleDateString("en-US",{month:"short"}),value:0})}}return r}downloadBlob(e,t){const r=window.URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}},ut=()=>{const t=a(),{toast:n}=o(),s=k(),[O,M]=r.useState("30days"),[I,$]=r.useState("all"),[z,V]=r.useState(!0),[K,W]=r.useState(null),[B,_]=r.useState(null),[U,G]=r.useState([]),[q,Y]=r.useState(!1),[H,J]=r.useState("all"),[X,Q]=r.useState("composed"),Z={timeframe:O,propertyId:"all"!==I?I:void 0};r.useEffect(()=>{(async()=>{try{V(!0);const[e,t,r]=await Promise.all([pt.getOverviewStats(Z),pt.getPerformanceMetrics(Z),A.getVendorProperties({page:1,limit:100})]);W(e),_(t);const a=r.success?r.data.properties:[];G(a),"all"===I||a.find(e=>e._id===I)||$("all")}catch(e){n({title:"Error",description:"Failed to load analytics data. Please try again.",variant:"destructive"})}finally{V(!1)}})()},[O,I]);const ee=async e=>{try{Y(!0),"csv"===e?await te():"pdf"===e&&await re(),n({title:"Success",description:`Analytics data exported as ${e.toUpperCase()}!`})}catch(t){n({title:"Error",description:`Failed to export analytics data as ${e.toUpperCase()}`,variant:"destructive"})}finally{Y(!1)}},te=()=>{const e=[],t=(new Date).toLocaleDateString(),r={"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}[O];if(e.push(["Advanced Analytics Report"]),e.push(["Generated on",t]),e.push(["Time Period",r]),e.push(["Report Type","Vendor Property Performance"]),e.push([]),e.push(["EXECUTIVE SUMMARY"]),K&&(e.push(["Total Properties",B?.propertyPerformance?.length||0]),e.push(["Total Views",K.totalViews||0]),e.push(["Total Leads",K.totalLeads||0]),e.push(["Total Revenue (₹)",K.totalRevenue||0]),e.push(["Average Rating",K.averageRating?.toFixed(1)||"0.0"]),e.push(["Overall Conversion Rate",`${((K.totalLeads||0)/(K.totalViews||1)*100).toFixed(1)}%`])),e.push([]),e.push(["REVENUE BREAKDOWN BY PROPERTY TYPE"]),e.push(["Property Type","Revenue (₹)","Percentage of Total"]),K){const t=K.totalRevenue||1;e.push(["Sold Properties",K.soldPropertyRevenue||0,`${((K.soldPropertyRevenue||0)/t*100).toFixed(1)}%`]),e.push(["Leased Properties",K.leasedPropertyRevenue||0,`${((K.leasedPropertyRevenue||0)/t*100).toFixed(1)}%`]),e.push(["Rented Properties",K.rentedPropertyRevenue||0,`${((K.rentedPropertyRevenue||0)/t*100).toFixed(1)}%`]),e.push(["Total Revenue",K.totalRevenue||0,"100%"])}if(e.push([]),e.push(["KEY PERFORMANCE INDICATORS"]),e.push(["Metric","Value","Target Status","Trend"]),K&&(e.push(["Total Views",K.totalViews||0,"On Track","+12%"]),e.push(["Total Leads",K.totalLeads||0,"Above Target","+8%"]),e.push(["Total Revenue",`₹${K.totalRevenue||0}`,"Excellent","+15%"]),e.push(["Conversion Rate",`${((K.totalLeads||0)/(K.totalViews||1)*100).toFixed(1)}%`,"Good","+5%"]),e.push(["Average Rating",K.averageRating?.toFixed(1)||"0.0","Stable","0%"])),e.push([]),e.push(["PROPERTY PERFORMANCE DETAILS"]),e.push(["Property Title","Status","Views","Favorites","Conversion Rate","Revenue (₹)","Performance Rank","Engagement Score"]),B?.propertyPerformance?.length){[...B.propertyPerformance].sort((e,t)=>(t.revenue||0)-(e.revenue||0)).forEach((t,r)=>{let a="Available";(t.revenue||0)>0&&(a=t.conversionRate&&t.conversionRate>50?"Sold":t.conversionRate&&t.conversionRate>20?"Leased":"Rented");const n=(.4*(t.views||0)+.3*(t.favorites||0)+.3*(t.conversionRate||0)).toFixed(1);e.push([t.title||"Untitled Property",a,t.views||0,t.favorites||0,`${t.conversionRate||0}%`,t.revenue||0,`#${r+1}`,n])})}e.push([]),e.push(["INSIGHTS AND RECOMMENDATIONS"]);if(["Top performing property: "+(B?.propertyPerformance?.[0]?.title||"N/A"),"Focus on properties with conversion rates above 20%","Optimize listings with low engagement scores","Monitor response times to improve conversion rates","Properties with higher view counts perform better"].forEach(t=>e.push([t])),e.push([]),e.push(["SUMMARY STATISTICS"]),B?.propertyPerformance?.length){const t=B.propertyPerformance,r=t.reduce((e,t)=>e+(t.views||0),0),a=t.reduce((e,t)=>e+(t.revenue||0),0),n=t.reduce((e,t)=>e+(t.conversionRate||0),0)/t.length;e.push(["Total Properties Analyzed",t.length]),e.push(["Average Views per Property",Math.round(r/t.length)]),e.push(["Average Revenue per Property",Math.round(a/t.length)]),e.push(["Average Conversion Rate",`${n.toFixed(1)}%`]),e.push(["Highest Performing Property",t[0]?.title||"N/A"])}const a=e.map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),n=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=`advanced-analytics-${O}-${Date.now()}.csv`;pt.downloadBlob(n,s)},re=()=>{const e=new C,t=e.internal.pageSize.width,r=e.internal.pageSize.height,a={primary:[41,128,185],secondary:[52,152,219],success:[46,204,113],purple:[155,89,182],dark:[44,62,80],light:[245,245,245]},n=(t,r,a,n,s,o)=>{for(let i=0;i<n;i++){const l=i/n,c=Math.round(s[0]*(1-l)+o[0]*l),d=Math.round(s[1]*(1-l)+o[1]*l),p=Math.round(s[2]*(1-l)+o[2]*l);e.setFillColor(c,d,p),e.rect(t,r+i,a,1,"F")}};n(0,0,t,40,a.primary,a.secondary),e.setTextColor(255,255,255),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("SQUARES",20,25),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Property Analytics Report",20,35),e.setFillColor(255,255,255),e.setDrawColor(...a.primary),e.setLineWidth(.5),e.roundedRect(120,10,70,25,3,3,"FD"),e.setTextColor(...a.dark),e.setFontSize(10),e.setFont("helvetica","bold");const s=(new Date).toLocaleDateString(),o={"7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days","1year":"Last Year"}[O];e.text("Report Period:",125,18),e.text(o,125,25),e.text(`Generated: ${s}`,125,32);let i=55;if(K){e.setFillColor(...a.light),e.setDrawColor(...a.primary),e.setLineWidth(.3),e.roundedRect(15,i-5,t-30,15,2,2,"FD"),e.setTextColor(...a.primary),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Executive Summary",20,i+5),i+=20,e.setTextColor(...a.dark),e.setFontSize(11),e.setFont("helvetica","normal");const n=`This comprehensive analytics report covers the ${o.toLowerCase()} period, showcasing ${pt.formatNumber(K.totalViews||0)} total property views, ${pt.formatNumber(K.totalLeads||0)} leads generated, and ₹${pt.formatNumber(K.totalRevenue||0)} in total revenue across ${B?.propertyPerformance?.length||0} properties.`,s=e.splitTextToSize(n,t-40);let l=i;for(let t=0;t<s.length;t++)l>r-30&&(e.addPage(),l=20),e.text(s[t],20,l),l+=5;i=l+5}if(K){i>r-100&&(e.addPage(),i=20),e.setFillColor(...a.secondary),e.setDrawColor(...a.secondary),e.roundedRect(15,i-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Key Performance Indicators",20,i+2),i+=18;const n=[["Metric","Value","Change","Target Status"],["Total Views",pt.formatNumber(K.totalViews||0),"+12%","On Track"],["Total Leads",pt.formatNumber(K.totalLeads||0),"+8%","Above Target"],["Total Revenue",`₹${pt.formatNumber(K.totalRevenue||0)}`,"+15%","Excellent"],["Conversion Rate",`${((K.totalLeads||0)/(K.totalViews||1)*100).toFixed(1)}%`,"+5%","Good"],["Average Rating",`${K.averageRating?.toFixed(1)||"0.0"}`,"0%","Stable"]];D(e,{body:n,startY:i,theme:"grid",styles:{fontSize:10,cellPadding:4,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a.primary,textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[248,249,250]},columnStyles:{0:{fontStyle:"bold",cellWidth:35},1:{halign:"right",cellWidth:30},2:{halign:"center",cellWidth:25},3:{halign:"center",cellWidth:30}},margin:{left:20,right:20}}),i=e.lastAutoTable.finalY+15}if(K&&(K.soldPropertyRevenue||K.leasedPropertyRevenue||K.rentedPropertyRevenue)){i>r-120&&(e.addPage(),i=20),e.setFillColor(...a.success),e.setDrawColor(...a.success),e.roundedRect(15,i-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Revenue Breakdown by Property Type",20,i+2),i+=18;const n=K.totalRevenue||1,s=[["Property Type","Revenue","Percentage","Status"],["Sold Properties",`₹${pt.formatNumber(K.soldPropertyRevenue||0)}`,`${((K.soldPropertyRevenue||0)/n*100).toFixed(1)}%`,"High Performer"],["Leased Properties",`₹${pt.formatNumber(K.leasedPropertyRevenue||0)}`,`${((K.leasedPropertyRevenue||0)/n*100).toFixed(1)}%`,"Steady"],["Rented Properties",`₹${pt.formatNumber(K.rentedPropertyRevenue||0)}`,`${((K.rentedPropertyRevenue||0)/n*100).toFixed(1)}%`,"Growing"],["Total Revenue",`₹${pt.formatNumber(K.totalRevenue||0)}`,"100%","Portfolio Total"]];D(e,{body:s,startY:i,theme:"grid",styles:{fontSize:10,cellPadding:4,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a.success,textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[248,249,250]},columnStyles:{0:{fontStyle:"bold",cellWidth:40},1:{halign:"right",cellWidth:35},2:{halign:"center",cellWidth:25},3:{halign:"center",cellWidth:30}},margin:{left:20,right:20}}),i=e.lastAutoTable.finalY+15}if(B?.propertyPerformance?.length){i>r-150&&(e.addPage(),i=20),e.setFillColor(...a.purple),e.setDrawColor(...a.purple),e.roundedRect(15,i-5,t-30,12,2,2,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Property Performance Details",20,i+2),i+=18;const n=[["Property Title","Status","Views","Favorites","Conv. Rate","Revenue","Rank"]];[...B.propertyPerformance].sort((e,t)=>(t.revenue||0)-(e.revenue||0)).forEach((e,t)=>{let r="Available";(e.revenue||0)>0&&(r=e.conversionRate&&e.conversionRate>50?"Sold":e.conversionRate&&e.conversionRate>20?"Leased":"Rented"),n.push([e.title||"Untitled Property",r,pt.formatNumber(e.views||0),pt.formatNumber(e.favorites||0),`${e.conversionRate||0}%`,`₹${pt.formatNumber(e.revenue||0)}`,`#${t+1}`])}),D(e,{body:n,startY:i,theme:"grid",styles:{fontSize:9,cellPadding:3,lineColor:[200,200,200],lineWidth:.1},headStyles:{fillColor:a.purple,textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:[248,249,250]},columnStyles:{0:{cellWidth:45,fontStyle:"bold"},1:{halign:"center",cellWidth:25},2:{halign:"right",cellWidth:20},3:{halign:"right",cellWidth:20},4:{halign:"center",cellWidth:20},5:{halign:"right",cellWidth:30},6:{halign:"center",cellWidth:15}},margin:{left:15,right:15}}),i=e.lastAutoTable.finalY+15}const l=e.getNumberOfPages();for(let d=1;d<=l;d++)e.setPage(d),n(0,r-15,t,15,a.light,[220,220,220]),e.setTextColor(...a.dark),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`Page ${d} of ${l}`,20,r-5),e.text("Generated by Squares Vendor Analytics Dashboard",t-90,r-5),e.text(`© ${(new Date).getFullYear()} Squares - Confidential Report`,t/2-35,r-5);const c=`advanced-analytics-${O}-${Date.now()}.pdf`;e.save(c)};if(z)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Loading analytics..."})]})});const ae=K?(e=>{if(!e)return[{title:"Total Views",value:"0",change:"0%",changeType:"neutral",icon:v,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:S,description:"Feature in development"},{title:"Phone Calls",value:"0",change:"0%",changeType:"neutral",icon:R,description:"Direct calls"},{title:"Messages",value:"0",change:"0%",changeType:"neutral",icon:j,description:"Chat inquiries"},{title:"Total Revenue",value:"₹0",change:"0%",changeType:"neutral",icon:ge,description:"All properties"},{title:"Avg. Rating",value:"0.0",change:"0%",changeType:"neutral",icon:T,description:"Customer reviews"}];const t=e=>{if(null==e||isNaN(e))return{change:"0%",changeType:"neutral"};const t=e.toFixed(1);return{change:`${e>0?"+":""}${t}%`,changeType:e>0?"increase":e<0?"decrease":"neutral"}},r=t(e.trends?.views?.growth);t(e.trends?.leads?.growth),t(e.trends?.properties?.growth);const a=t(e.trends?.revenue?.growth);return[{title:"Total Views",value:pt.formatNumber(e.totalViews),change:r.change,changeType:r.changeType,icon:v,description:"Property page views"},{title:"Leads Generated",value:"Coming Soon",change:"",changeType:"neutral",icon:S,description:"Feature in development"},{title:"Phone Calls",value:pt.formatNumber(e.totalCalls),change:"0%",changeType:"neutral",icon:R,description:"Direct calls"},{title:"Messages",value:pt.formatNumber(e.totalMessages),change:"0%",changeType:"neutral",icon:j,description:"Chat inquiries"},{title:"Total Revenue",value:`₹${pt.formatNumber(e.totalRevenue)}`,change:a.change,changeType:a.changeType,icon:ge,description:"All property revenue"},{title:"Sold Properties",value:`₹${pt.formatNumber(e.soldPropertyRevenue)}`,change:a.change,changeType:a.changeType,icon:ge,description:"Revenue from sold properties"},{title:"Leased Properties",value:`₹${pt.formatNumber(e.leasedPropertyRevenue)}`,change:a.change,changeType:a.changeType,icon:ge,description:"Revenue from leased properties"},{title:"Rented Properties",value:`₹${pt.formatNumber(e.rentedPropertyRevenue)}`,change:a.change,changeType:a.changeType,icon:ge,description:"Revenue from rented properties"},{title:"Avg. Rating",value:e.averageRating?.toFixed(1)||"0.0",change:"0%",changeType:"neutral",icon:T,description:"Customer reviews"}]})(K):[];B?.viewsData?.length?B.viewsData:pt.generateDateRange(O);const ne=B?.leadsData?.length?B.leadsData:pt.generateDateRange(O);B?.conversionData?.length?B.conversionData:pt.generateDateRange(O),B?.revenueData?.length?B.revenueData:pt.generateDateRange(O);const se=B?.propertyPerformance||[];!B?.leadSources?.length||B.leadSources,!B?.demographicsData?.length||B.demographicsData;const oe=B?.viewsData?.length?B.viewsData.slice(0,7).map((e,t)=>({name:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][t]||e.name,favorites:Math.floor(.1*e.value),shares:Math.floor(.05*e.value),inquiries:Math.floor(.02*e.value)})):[],ie=B?.viewsData?.length?B.viewsData.map((e,t)=>({name:e.name,views:e.value||0,interactions:Math.floor(.15*(e.value||0)),conversions:Math.floor(.03*(e.value||0)),favorites:Math.floor(.08*(e.value||0)),shares:Math.floor(.04*(e.value||0)),inquiries:Math.floor(.06*(e.value||0))})):[],pe=ie.length?ie:[],be=B?.propertyPerformance.slice(0,3)||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex "+(s?"flex-col space-y-4":"justify-between items-center"),children:[e.jsxs("div",{children:[e.jsx("h1",{className:(s?"text-2xl":"text-3xl")+" font-bold tracking-tight",children:"Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your property performance and marketing insights"})]}),e.jsxs("div",{className:"flex "+(s?"flex-col space-y-2":"gap-2"),children:[e.jsxs(l,{value:O,onValueChange:e=>M(e),children:[e.jsx(c,{className:""+(s?"w-full":"w-40"),children:e.jsx(d,{})}),e.jsxs(p,{children:[e.jsx(u,{value:"7days",children:"Last 7 days"}),e.jsx(u,{value:"30days",children:"Last 30 days"}),e.jsx(u,{value:"90days",children:"Last 90 days"}),e.jsx(u,{value:"1year",children:"Last year"})]})]}),e.jsxs("div",{className:"flex "+(s?"flex-col space-y-2":"space-x-2"),children:[e.jsxs(m,{variant:"outline",onClick:()=>ee("csv"),disabled:q,className:""+(s?"w-full h-11":"h-9"),children:[q?e.jsx(i,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(E,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs(m,{variant:"outline",onClick:()=>ee("pdf"),disabled:q,className:""+(s?"w-full h-11":"h-9"),children:[q?e.jsx(i,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(E,{className:"w-4 h-4 mr-2"}),"Export PDF"]})]})]})]}),e.jsx("div",{className:"grid gap-4 "+(s?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"),children:ae.map(t=>e.jsx(h,{children:e.jsx(x,{className:""+(s?"p-4":"p-6"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:(s?"text-xs":"text-sm")+" font-medium text-muted-foreground",children:t.title}),e.jsx("p",{className:(s?"text-xl":"text-2xl")+" font-bold",children:t.value}),e.jsxs("div",{className:"flex items-center mt-2",children:["increase"===t.changeType?e.jsx(F,{className:(s?"w-3 h-3":"w-4 h-4")+" text-green-500 mr-1"}):"decrease"===t.changeType?e.jsx(L,{className:(s?"w-3 h-3":"w-4 h-4")+" text-red-500 mr-1"}):null,e.jsx("span",{className:`${s?"text-xs":"text-sm"} ${"increase"===t.changeType?"text-green-500":"decrease"===t.changeType?"text-red-500":"text-muted-foreground"}`,children:t.change})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.description})]}),e.jsx(t.icon,{className:(s?"h-6 w-6":"h-8 w-8")+" text-muted-foreground"})]})})},t.title))}),e.jsxs("div",{className:"grid gap-6 "+(s?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(h,{className:"lg:col-span-2",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(f,{children:"Property Engagement Overview"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track views, interactions, and conversions across your properties"})]}),e.jsxs("div",{className:"flex gap-2 "+(s?"flex-col":"flex-row"),children:[e.jsxs(l,{value:H,onValueChange:e=>J(e),children:[e.jsx(c,{className:""+(s?"w-full":"w-40"),children:e.jsx(d,{})}),e.jsxs(p,{children:[e.jsx(u,{value:"all",children:"All Metrics"}),e.jsx(u,{value:"views",children:"Views Only"}),e.jsx(u,{value:"interactions",children:"Interactions"}),e.jsx(u,{value:"conversions",children:"Conversions"})]})]}),e.jsxs(l,{value:X,onValueChange:e=>Q(e),children:[e.jsx(c,{className:""+(s?"w-full":"w-36"),children:e.jsx(d,{})}),e.jsxs(p,{children:[e.jsx(u,{value:"composed",children:"Combined"}),e.jsx(u,{value:"area",children:"Area Chart"}),e.jsx(u,{value:"bar",children:"Bar Chart"})]})]})]})]})}),e.jsx(x,{children:pe.length>0?e.jsxs(e.Fragment,{children:[e.jsx(me,{width:"100%",height:350,children:"composed"===X?e.jsxs(ct,{data:pe,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"colorInteractions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]})]}),e.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ce,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(de,{stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(xe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),e.jsx(ye,{wrapperStyle:{paddingTop:"15px"},iconType:"circle"}),"all"===H||"views"===H?e.jsx(Le,{type:"monotone",dataKey:"views",fill:"url(#colorViews)",stroke:"#3b82f6",strokeWidth:2,name:"Views"}):null,"all"===H||"interactions"===H?e.jsx(le,{dataKey:"interactions",fill:"#8b5cf6",name:"Interactions",radius:[4,4,0,0]}):null,"all"===H||"conversions"===H?e.jsx(ue,{type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:3,dot:{r:5,fill:"#10b981"},name:"Conversions"}):null,"all"===H?e.jsxs(e.Fragment,{children:[e.jsx(ue,{type:"monotone",dataKey:"favorites",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4},name:"Favorites"}),e.jsx(ue,{type:"monotone",dataKey:"shares",stroke:"#ec4899",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4},name:"Shares"})]}):null]}):"area"===X?e.jsxs(lt,{data:pe,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"areaViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"areaInteractions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"areaConversions",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),e.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ce,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(de,{stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(xe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(ye,{wrapperStyle:{paddingTop:"15px"}}),"all"===H||"views"===H?e.jsx(Le,{type:"monotone",dataKey:"views",stroke:"#3b82f6",fill:"url(#areaViews)",name:"Views"}):null,"all"===H||"interactions"===H?e.jsx(Le,{type:"monotone",dataKey:"interactions",stroke:"#8b5cf6",fill:"url(#areaInteractions)",name:"Interactions"}):null,"all"===H||"conversions"===H?e.jsx(Le,{type:"monotone",dataKey:"conversions",stroke:"#10b981",fill:"url(#areaConversions)",name:"Conversions"}):null]}):e.jsxs(it,{data:pe,children:[e.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ce,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(de,{stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(xe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(ye,{wrapperStyle:{paddingTop:"15px"}}),"all"===H||"views"===H?e.jsx(le,{dataKey:"views",fill:"#3b82f6",name:"Views",radius:[4,4,0,0]}):null,"all"===H||"interactions"===H?e.jsx(le,{dataKey:"interactions",fill:"#8b5cf6",name:"Interactions",radius:[4,4,0,0]}):null,"all"===H||"conversions"===H?e.jsx(le,{dataKey:"conversions",fill:"#10b981",name:"Conversions",radius:[4,4,0,0]}):null]})}),e.jsxs("div",{className:"grid gap-3 mt-6 pt-4 border-t "+(s?"grid-cols-1":"grid-cols-3 md:grid-cols-6"),children:[e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[e.jsx(v,{className:(s?"w-4 h-4":"w-5 h-5")+" mx-auto text-blue-600 mb-1"}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Views"}),e.jsx("div",{className:(s?"text-sm":"text-lg")+" font-bold text-blue-700",children:pe.reduce((e,t)=>e+(t.views||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[e.jsx(g,{className:(s?"w-4 h-4":"w-5 h-5")+" mx-auto text-purple-600 mb-1"}),e.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"Interactions"}),e.jsx("div",{className:(s?"text-sm":"text-lg")+" font-bold text-purple-700",children:pe.reduce((e,t)=>e+(t.interactions||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[e.jsx(F,{className:(s?"w-4 h-4":"w-5 h-5")+" mx-auto text-green-600 mb-1"}),e.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Conversions"}),e.jsx("div",{className:(s?"text-sm":"text-lg")+" font-bold text-green-700",children:pe.reduce((e,t)=>e+(t.conversions||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-amber-50 rounded-lg",children:[e.jsx(b,{className:(s?"w-4 h-4":"w-5 h-5")+" mx-auto text-amber-600 mb-1"}),e.jsx("div",{className:"text-xs text-amber-600 font-medium",children:"Favorites"}),e.jsx("div",{className:(s?"text-sm":"text-lg")+" font-bold text-amber-700",children:pe.reduce((e,t)=>e+(t.favorites||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-pink-50 rounded-lg",children:[e.jsx(ve,{className:(s?"w-4 h-4":"w-5 h-5")+" mx-auto text-pink-600 mb-1"}),e.jsx("div",{className:"text-xs text-pink-600 font-medium",children:"Shares"}),e.jsx("div",{className:(s?"text-sm":"text-lg")+" font-bold text-pink-700",children:pe.reduce((e,t)=>e+(t.shares||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-cyan-50 rounded-lg",children:[e.jsx(j,{className:(s?"w-4 h-4":"w-5 h-5")+" mx-auto text-cyan-600 mb-1"}),e.jsx("div",{className:"text-xs text-cyan-600 font-medium",children:"Inquiries"}),e.jsx("div",{className:(s?"text-sm":"text-lg")+" font-bold text-cyan-700",children:pe.reduce((e,t)=>e+(t.inquiries||0),0).toLocaleString()})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[350px] text-center",children:[e.jsx(w,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Engagement Data"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:"Property engagement metrics will appear here once your properties start receiving views and interactions from potential buyers."})]})})]}),e.jsxs(h,{className:"lg:col-span-2",children:[e.jsxs(y,{children:[e.jsx(f,{children:"Inquiry Response Time"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Average time to respond to customer inquiries"})]}),e.jsxs(x,{children:[e.jsx(me,{width:"100%",height:300,children:e.jsxs(lt,{data:ne,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorResponseTime",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),e.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ce,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(de,{stroke:"#6b7280",tick:{fontSize:12},label:{value:"Hours",angle:-90,position:"insideLeft"}}),e.jsx(xe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:e=>[`${e.toFixed(1)} hours`,"Response Time"]}),e.jsx(Le,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorResponseTime)"})]})}),e.jsxs("div",{className:"grid gap-4 mt-6 pt-4 border-t "+(s?"grid-cols-1":"grid-cols-3"),children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[ne.length>0?(ne.reduce((e,t)=>e+t.value,0)/ne.length).toFixed(1):"0.0","h"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Fastest"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[ne.length>0?Math.min(...ne.map(e=>e.value)).toFixed(1):"0.0","h"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Inquiries"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:K?.totalMessages||0})]})]})]})]})]}),e.jsxs(h,{children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{children:"Property Performance"}),e.jsxs(l,{value:I,onValueChange:$,children:[e.jsx(c,{className:"w-48",children:e.jsx(d,{placeholder:"Filter by property"})}),e.jsxs(p,{children:[e.jsx(u,{value:"all",children:"All Properties"}),U.length>0?U.map(t=>e.jsxs(u,{value:t._id,children:[(t.title||"Untitled Property").substring(0,30),t.title&&t.title.length>30?"...":""]},t._id)):e.jsx(u,{value:"no-properties",disabled:!0,children:"No properties available"})]})]})]})}),e.jsx(x,{children:0===U.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[e.jsx(P,{className:"w-16 h-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Properties Found"}),e.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:"You haven't added any properties yet. Add your first property to start tracking performance analytics."}),e.jsx(m,{onClick:()=>t("/vendor/properties/add"),className:"mt-2",children:"Add Your First Property"})]}):se.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx(me,{width:"100%",height:400,children:e.jsxs(lt,{data:se,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorViews",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),e.jsx(he,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.5}),e.jsx(ce,{dataKey:"title",angle:-45,textAnchor:"end",height:100,tick:{fontSize:11,fill:"#6b7280"},interval:0}),e.jsx(de,{tick:{fontSize:12,fill:"#6b7280"},label:{value:"Views",angle:-90,position:"insideLeft",style:{fill:"#6b7280"}}}),e.jsx(xe,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.96)",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>[e,t]}),e.jsx(ye,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),e.jsx(Le,{type:"monotone",dataKey:"views",fill:"url(#colorViews)",stroke:"#3b82f6",strokeWidth:3,name:"Property Views"})]})}),e.jsxs("div",{className:"grid gap-4 pt-4 border-t "+(s?"grid-cols-2":"grid-cols-2 md:grid-cols-4"),children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-blue-600 font-medium mb-1",children:"Total Views"}),e.jsx("div",{className:"text-2xl font-bold text-blue-700",children:se.reduce((e,t)=>e+(t.views||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Total Favorites"}),e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:se.reduce((e,t)=>e+(t.favorites||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-purple-600 font-medium mb-1",children:"Active Properties"}),e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:se.length})]}),e.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-amber-600 font-medium mb-1",children:"Avg Views/Property"}),e.jsx("div",{className:"text-2xl font-bold text-amber-700",children:se.length>0?Math.round(se.reduce((e,t)=>e+(t.views||0),0)/se.length):"0"})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-center",children:[e.jsx(S,{className:"w-16 h-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-muted-foreground max-w-md",children:"Property performance analytics will be available once your properties receive sufficient views and interactions."})]})})]}),e.jsxs("div",{className:"grid gap-6 "+(s?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(h,{children:[e.jsx(y,{children:e.jsx(f,{children:"Weekly Engagement"})}),e.jsx(x,{children:oe.length>0?e.jsx(me,{width:"100%",height:300,children:e.jsxs(fe,{data:oe,children:[e.jsx(he,{strokeDasharray:"3 3"}),e.jsx(ce,{dataKey:"name"}),e.jsx(de,{}),e.jsx(xe,{}),e.jsx(ue,{type:"monotone",dataKey:"favorites",stroke:"#8884d8",strokeWidth:2,name:"Favorites"}),e.jsx(ue,{type:"monotone",dataKey:"shares",stroke:"#82ca9d",strokeWidth:2,name:"Shares"}),e.jsx(ue,{type:"monotone",dataKey:"inquiries",stroke:"#ffc658",strokeWidth:2,name:"Inquiries"})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center",children:[e.jsx(S,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Weekly engagement data will be displayed once sufficient activity is recorded"})]})})]}),e.jsxs(h,{children:[e.jsx(y,{children:e.jsx(f,{children:"Top Performing Properties"})}),e.jsx(x,{children:be.length>0?e.jsx("div",{className:"space-y-4",children:be.map((t,r)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(P,{className:"w-6 h-6 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:t.title||"Untitled Property"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),t.views||0]}),e.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),t.leads||0]}),e.jsxs("span",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),t.conversionRate||0,"%"]})]})]}),e.jsx(N,{variant:"default",className:"flex-shrink-0",children:pt.formatCurrency(t.revenue||0)})]},t.propertyId||r))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[e.jsx(P,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Data Available"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Top performing properties will appear here once you have property data and analytics"})]})})]})]}),e.jsxs(h,{children:[e.jsx(y,{children:e.jsx(f,{children:"Insights & Recommendations"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid gap-4 "+(s?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Performance Analytics"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Detailed analytics insights will be available once sufficient data is collected from your property listings."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Content Optimization"}),e.jsx("p",{className:"text-sm text-green-700",children:"Recommendations for improving your property listings will appear here based on performance data."})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Market Insights"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Market trends and pricing strategy insights will be generated from your property performance data."})]})]})})]})]})};export{ut as default};
