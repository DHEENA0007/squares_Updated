import{j as e}from"./ui-DHQhougw.js";import{r as s}from"./router-Bi51YGN-.js";import{$ as t,S as a,q as l,r,s as i,v as n,f as c,a as d,b as x,c as o,p as m,e as h,U as p,E as j,ae as u,a3 as g,a4 as f,a5 as N,aj as v,d as b,aD as y}from"./index-BElMMwCt.js";import{f as S,h as w}from"./apiUtils-H5kZq7Df.js";import{D as k}from"./download-D5cPaZOA.js";import{T}from"./trending-up-DvP101hW.js";import"./vendor-eVk5PToZ.js";const R=()=>{const[R,U]=s.useState(null),[C,M]=s.useState(!0),[A,V]=s.useState("overview"),[E,L]=s.useState("30days"),{toast:P}=t();s.useEffect(()=>{$()},[E]);const $=async()=>{try{M(!0);const e=await S(`/subadmin/reports?range=${E}`),s=await w(e);U(s.data||null)}catch(e){P({title:"Error",description:e.message||"Error fetching report data",variant:"destructive"}),U(null)}finally{M(!1)}},D=async e=>{try{P({title:"Exporting",description:`Generating ${e} report...`});const s=await S(`/subadmin/reports/export?type=${e}&range=${E}`),t=await s.blob(),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`buildhomemartsquares_${e}_report_${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l),P({title:"Success",description:"Report exported successfully"})}catch(s){P({title:"Error",description:"Error exporting report",variant:"destructive"})}};return C||!R?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Reports"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Analytics and insights dashboard"})]}),e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},s))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Reports"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Analytics and insights dashboard"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[e.jsxs(a,{value:E,onValueChange:L,children:[e.jsx(l,{className:"w-full sm:w-[180px]",children:e.jsx(r,{})}),e.jsxs(i,{children:[e.jsx(n,{value:"7days",children:"Last 7 Days"}),e.jsx(n,{value:"30days",children:"Last 30 Days"}),e.jsx(n,{value:"90days",children:"Last 90 Days"}),e.jsx(n,{value:"1year",children:"Last Year"})]})]}),e.jsxs(c,{variant:"outline",onClick:()=>D("full"),className:"w-full sm:w-auto touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(d,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Properties"}),e.jsx(m,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:R.propertyStats.total}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs text-green-600",children:[R.propertyStats.available," Available"]}),e.jsxs("div",{className:"text-xs text-yellow-600",children:[R.propertyStats.pending," Pending"]}),e.jsxs("div",{className:"text-xs text-red-600",children:[R.propertyStats.rejected," Rejected"]})]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:R.userStats.totalVendors+R.userStats.totalCustomers}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs text-blue-600",children:[R.userStats.totalVendors," Vendors"]}),e.jsxs("div",{className:"text-xs text-purple-600",children:[R.userStats.totalCustomers," Customers"]})]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:R.engagementStats.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Property page views"})]})]}),e.jsxs(d,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Support Tickets"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:R.supportStats.totalTickets}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs text-orange-600",children:[R.supportStats.openTickets," Open"]}),e.jsxs("div",{className:"text-xs text-green-600",children:[R.supportStats.resolvedTickets," Resolved"]})]})]})]})]}),e.jsxs(g,{value:A,onValueChange:V,children:[e.jsxs(f,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-5",children:[e.jsx(N,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),e.jsx(N,{value:"properties",className:"text-xs sm:text-sm",children:"Properties"}),e.jsx(N,{value:"users",className:"text-xs sm:text-sm",children:"Users"}),e.jsx(N,{value:"engagement",className:"text-xs sm:text-sm",children:"Engagement"}),e.jsx(N,{value:"support",className:"text-xs sm:text-sm",children:"Support"})]}),e.jsxs(v,{value:"overview",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Property Distribution"}),e.jsx(b,{children:"Breakdown of property statuses"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Available Properties"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[R.propertyStats.available," (",R.propertyStats.total>0?Math.round(R.propertyStats.available/R.propertyStats.total*100):0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Pending Review"}),e.jsxs("span",{className:"text-sm font-semibold text-yellow-600",children:[R.propertyStats.pending," (",R.propertyStats.total>0?Math.round(R.propertyStats.pending/R.propertyStats.total*100):0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Rejected"}),e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[R.propertyStats.rejected," (",R.propertyStats.total>0?Math.round(R.propertyStats.rejected/R.propertyStats.total*100):0,"%)"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total"}),e.jsx("span",{className:"text-sm font-semibold",children:R.propertyStats.total})]})]})})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"User Growth"}),e.jsx(b,{children:"User registration statistics"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Active Users"}),e.jsx("span",{className:"text-sm font-semibold",children:R.userStats.activeUsers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"New Users This Month"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-green-600",children:R.userStats.newUsersThisMonth})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Vendors"}),e.jsx("span",{className:"text-sm font-semibold",children:R.userStats.totalVendors})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Customers"}),e.jsx("span",{className:"text-sm font-semibold",children:R.userStats.totalCustomers})]})]})})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Engagement Metrics"}),e.jsx(b,{children:"User interaction statistics"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Views"}),e.jsx("span",{className:"text-sm font-semibold",children:R.engagementStats.totalViews.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Messages"}),e.jsx("span",{className:"text-sm font-semibold",children:R.engagementStats.totalMessages.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Reviews"}),e.jsx("span",{className:"text-sm font-semibold",children:R.engagementStats.totalReviews.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Average Rating"}),e.jsx("span",{className:"text-sm font-semibold",children:R.engagementStats.averageRating>0?`${R.engagementStats.averageRating.toFixed(1)} / 5.0`:"No ratings yet"})]})]})})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Support Performance"}),e.jsx(b,{children:"Customer support metrics"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Tickets"}),e.jsx("span",{className:"text-sm font-semibold",children:R.supportStats.totalTickets})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Open Tickets"}),e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:R.supportStats.openTickets})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Resolved Tickets"}),e.jsx("span",{className:"text-sm font-semibold text-green-600",children:R.supportStats.resolvedTickets})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Avg Resolution Time"}),e.jsx("span",{className:"text-sm font-semibold",children:R.supportStats.resolvedTickets>0?`${R.supportStats.avgResolutionTime}h`:"N/A"})]})]})})]})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Export Options"}),e.jsx(b,{children:"Download detailed reports"})]}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsxs(c,{variant:"outline",onClick:()=>D("properties"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Properties Report"]}),e.jsxs(c,{variant:"outline",onClick:()=>D("users"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Users Report"]}),e.jsxs(c,{variant:"outline",onClick:()=>D("engagement"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Engagement Report"]}),e.jsxs(c,{variant:"outline",onClick:()=>D("support"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Support Report"]})]})})]})]}),e.jsxs(v,{value:"properties",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Available Properties"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:R.propertyStats.available}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.propertyStats.total>0?`${Math.round(R.propertyStats.available/R.propertyStats.total*100)}% of total`:"0% of total"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Pending Review"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:R.propertyStats.pending}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.propertyStats.total>0?`${Math.round(R.propertyStats.pending/R.propertyStats.total*100)}% of total`:"0% of total"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Rejected"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:R.propertyStats.rejected}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.propertyStats.total>0?`${Math.round(R.propertyStats.rejected/R.propertyStats.total*100)}% of total`:"0% of total"})]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Property Status Breakdown"}),e.jsx(b,{children:"Detailed property statistics"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Available"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[R.propertyStats.available," / ",R.propertyStats.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:(R.propertyStats.total>0?R.propertyStats.available/R.propertyStats.total*100:0)+"%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Pending Review"}),e.jsxs("span",{className:"text-sm font-semibold text-yellow-600",children:[R.propertyStats.pending," / ",R.propertyStats.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full transition-all",style:{width:(R.propertyStats.total>0?R.propertyStats.pending/R.propertyStats.total*100:0)+"%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Rejected"}),e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[R.propertyStats.rejected," / ",R.propertyStats.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all",style:{width:(R.propertyStats.total>0?R.propertyStats.rejected/R.propertyStats.total*100:0)+"%"}})})]})]})})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Actions"})}),e.jsx(h,{children:e.jsxs(c,{variant:"outline",onClick:()=>D("properties"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Export Detailed Property Report"]})})]})]}),e.jsxs(v,{value:"users",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Total Users"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:R.userStats.activeUsers}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All registered users"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Vendors"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:R.userStats.totalVendors}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.userStats.activeUsers>0?`${Math.round(R.userStats.totalVendors/R.userStats.activeUsers*100)}% of users`:"0% of users"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Customers"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:R.userStats.totalCustomers}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.userStats.activeUsers>0?`${Math.round(R.userStats.totalCustomers/R.userStats.activeUsers*100)}% of users`:"0% of users"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"New Users"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:R.userStats.newUsersThisMonth}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This month"})]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"User Distribution"}),e.jsx(b,{children:"Breakdown by user type"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vendors (Agents)"}),e.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:[R.userStats.totalVendors," (",R.userStats.activeUsers>0?Math.round(R.userStats.totalVendors/R.userStats.activeUsers*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:(R.userStats.activeUsers>0?R.userStats.totalVendors/R.userStats.activeUsers*100:0)+"%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Customers"}),e.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:[R.userStats.totalCustomers," (",R.userStats.activeUsers>0?Math.round(R.userStats.totalCustomers/R.userStats.activeUsers*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:(R.userStats.activeUsers>0?R.userStats.totalCustomers/R.userStats.activeUsers*100:0)+"%"}})})]})]})})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Growth Metrics"}),e.jsx(b,{children:"User registration trends"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"New Registrations"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Current month"})]})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",R.userStats.newUsersThisMonth]})]})})})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Actions"})}),e.jsx(h,{children:e.jsxs(c,{variant:"outline",onClick:()=>D("users"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Export Detailed User Report"]})})]})]}),e.jsxs(v,{value:"engagement",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Total Views"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:R.engagementStats.totalViews.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Property page views"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Messages"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:R.engagementStats.totalMessages.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"User conversations"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Reviews"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-600",children:R.engagementStats.totalReviews.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Customer reviews"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Avg Rating"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:R.engagementStats.averageRating>0?R.engagementStats.averageRating.toFixed(1):"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.engagementStats.averageRating>0?"Out of 5.0":"No ratings yet"})]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Engagement Overview"}),e.jsx(b,{children:"Platform interaction metrics"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Property Views"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total page views"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.engagementStats.totalViews.toLocaleString()})]})}),e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Messages Sent"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"User-to-vendor messages"})]})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:R.engagementStats.totalMessages.toLocaleString()})]})})]}),e.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Customer Reviews"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Average rating: ",R.engagementStats.averageRating>0?`${R.engagementStats.averageRating.toFixed(1)} / 5.0`:"No ratings"]})]})]}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:R.engagementStats.totalReviews.toLocaleString()})]})})]})})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Engagement Insights"}),e.jsx(b,{children:"Key engagement metrics"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avg Views per Property"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:R.propertyStats.total>0?Math.round(R.engagementStats.totalViews/R.propertyStats.total).toLocaleString():0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/10 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avg Messages per User"}),e.jsx("span",{className:"text-sm font-bold text-purple-600",children:R.userStats.activeUsers>0?Math.round(R.engagementStats.totalMessages/R.userStats.activeUsers).toLocaleString():0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-amber-50 dark:bg-amber-900/10 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Review Coverage"}),e.jsx("span",{className:"text-sm font-bold text-amber-600",children:R.propertyStats.total>0?`${Math.round(R.engagementStats.totalReviews/R.propertyStats.total*100)}%`:"0%"})]})]})})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Actions"})}),e.jsx(h,{children:e.jsxs(c,{variant:"outline",onClick:()=>D("engagement"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Export Detailed Engagement Report"]})})]})]}),e.jsxs(v,{value:"support",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Total Tickets"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:R.supportStats.totalTickets}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All support requests"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Open Tickets"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:R.supportStats.openTickets}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Awaiting response"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Resolved"})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:R.supportStats.resolvedTickets}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Successfully closed"})]})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Avg Resolution"})}),e.jsxs(h,{children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[R.supportStats.avgResolutionTime,"h"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Average time to resolve"})]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Ticket Status Distribution"}),e.jsx(b,{children:"Support ticket breakdown"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Resolved Tickets"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[R.supportStats.resolvedTickets," (",R.supportStats.totalTickets>0?Math.round(R.supportStats.resolvedTickets/R.supportStats.totalTickets*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:(R.supportStats.totalTickets>0?R.supportStats.resolvedTickets/R.supportStats.totalTickets*100:0)+"%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Open Tickets"}),e.jsxs("span",{className:"text-sm font-semibold text-orange-600",children:[R.supportStats.openTickets," (",R.supportStats.totalTickets>0?Math.round(R.supportStats.openTickets/R.supportStats.totalTickets*100):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all",style:{width:(R.supportStats.totalTickets>0?R.supportStats.openTickets/R.supportStats.totalTickets*100:0)+"%"}})})]})]})})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(o,{children:"Performance Metrics"}),e.jsx(b,{children:"Support team efficiency"})]}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Resolution Rate"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolved vs Total"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[R.supportStats.totalTickets>0?Math.round(R.supportStats.resolvedTickets/R.supportStats.totalTickets*100):0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Average Resolution Time"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time to close tickets"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[R.supportStats.avgResolutionTime,"h"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 dark:bg-orange-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Pending Work"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently open"})]}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:R.supportStats.openTickets})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Handled"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All-time tickets"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.supportStats.totalTickets})]})]})})]}),e.jsxs(d,{children:[e.jsx(x,{children:e.jsx(o,{children:"Actions"})}),e.jsx(h,{children:e.jsxs(c,{variant:"outline",onClick:()=>D("support"),className:"w-full touch-manipulation min-h-[40px]",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Export Detailed Support Report"]})})]})]})]})]})};export{R as default};
