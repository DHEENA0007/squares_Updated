import{b as We,j as e,c as Je,a as Ze,e as L,P as Q,u as z,F as et,G as tt,H as st,J as at,K as rt,M as je,N as nt,O as Se,Q as ye,U as be}from"./ui-CEt46o3G.js";import{r as i,d as it}from"./router-2SVJvIbS.js";import{C as Z,d as ee,a as ot,b as lt}from"./card-YvDMUmzt.js";import{c as me,g as O,X as ct,V as dt,O as mt,Q as ut,t as q,R as Y,S as ht,I as xt,a as F,B as I,T as xe,h as ft,i as fe,v as pe,M as ve,L as pt,o as vt}from"./index-CiYV0Sy0.js";import{S as te,a as se,b as ae,c as re,d as p}from"./select-BHWxeluH.js";import{c as we}from"./index-BdQq_4o_.js";import{u as gt}from"./index-DHzxUTm5.js";import{C as jt}from"./checkbox-6USSAlb1.js";import{p as St}from"./propertyService-vaYzuoi1.js";import{f as oe}from"./favoriteService-DXlS-i7P.js";import{a as yt}from"./propertyUtils-B_5yebUt.js";import{P as bt,a as wt}from"./PropertyContactDialog-CJxUFPij.js";import{F as Nt}from"./filter-pPW3lLKU.js";import{B as Pt,a as Ct}from"./bed-uPel24Y9.js";import{S as kt}from"./square-DioGN4r8.js";import{E as Rt}from"./eye-CDS1ofgA.js";import{S as Mt}from"./share-CNllRTD6.js";import{P as Dt}from"./phone-BlyPoB6i.js";import"./vendor-Dazix4UH.js";import"./chevron-down-DeDu0PPf.js";import"./dialog-B2oiH0OC.js";import"./label-BV_cIshD.js";import"./textarea-BbecYreM.js";import"./messageService-DZmz6NiN.js";import"./send-DboPqPcs.js";import"./mail-hCxVaHOS.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=me("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=me("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var Ne=["PageUp","PageDown"],Pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ce={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$="Slider",[le,Bt,Vt]=Ze($),[ke]=Je($,[Vt]),[At,ne]=ke($),Re=i.forwardRef((s,a)=>{const{name:r,min:n=0,max:o=100,step:h=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:x=0,defaultValue:y=[n],value:f,onValueChange:c=()=>{},onValueCommit:g=()=>{},inverted:b=!1,form:C,...w}=s,N=i.useRef(new Set),v=i.useRef(0),j=l==="horizontal"?Tt:Ft,[S=[],E]=We({prop:f,defaultProp:y,onChange:P=>{[...N.current][v.current]?.focus(),c(P)}}),B=i.useRef(S);function M(P){const D=zt(S,P);A(P,D)}function V(P){A(P,v.current)}function X(){const P=B.current[v.current];S[v.current]!==P&&g(S)}function A(P,D,{commit:K}={commit:!1}){const U=Gt(h),H=qt(Math.round((P-n)/h)*h+n,U),T=we(H,[n,o]);E((_=[])=>{const k=Ht(_,T,D);if(Ut(k,x*h)){v.current=k.indexOf(T);const W=String(k)!==String(_);return W&&K&&g(k),W?k:_}else return _})}return e.jsx(At,{scope:s.__scopeSlider,name:r,disabled:u,min:n,max:o,valueIndexToChangeRef:v,thumbs:N.current,values:S,orientation:l,form:C,children:e.jsx(le.Provider,{scope:s.__scopeSlider,children:e.jsx(le.Slot,{scope:s.__scopeSlider,children:e.jsx(j,{"aria-disabled":u,"data-disabled":u?"":void 0,...w,ref:a,onPointerDown:L(w.onPointerDown,()=>{u||(B.current=S)}),min:n,max:o,inverted:b,onSlideStart:u?void 0:M,onSlideMove:u?void 0:V,onSlideEnd:u?void 0:X,onHomeKeyDown:()=>!u&&A(n,0,{commit:!0}),onEndKeyDown:()=>!u&&A(o,S.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:D})=>{if(!u){const H=Ne.includes(P.key)||P.shiftKey&&Pe.includes(P.key)?10:1,T=v.current,_=S[T],k=h*H*D;A(_+k,T,{commit:!0})}}})})})})});Re.displayName=$;var[Me,De]=ke($,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Tt=i.forwardRef((s,a)=>{const{min:r,max:n,dir:o,inverted:h,onSlideStart:l,onSlideMove:u,onSlideEnd:x,onStepKeyDown:y,...f}=s,[c,g]=i.useState(null),b=z(a,j=>g(j)),C=i.useRef(void 0),w=et(o),N=w==="ltr",v=N&&!h||!N&&h;function R(j){const S=C.current||c.getBoundingClientRect(),E=[0,S.width],M=ue(E,v?[r,n]:[n,r]);return C.current=S,M(j-S.left)}return e.jsx(Me,{scope:s.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:e.jsx(_e,{dir:w,"data-orientation":"horizontal",...f,ref:b,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const S=R(j.clientX);l?.(S)},onSlideMove:j=>{const S=R(j.clientX);u?.(S)},onSlideEnd:()=>{C.current=void 0,x?.()},onStepKeyDown:j=>{const E=Ce[v?"from-left":"from-right"].includes(j.key);y?.({event:j,direction:E?-1:1})}})})}),Ft=i.forwardRef((s,a)=>{const{min:r,max:n,inverted:o,onSlideStart:h,onSlideMove:l,onSlideEnd:u,onStepKeyDown:x,...y}=s,f=i.useRef(null),c=z(a,f),g=i.useRef(void 0),b=!o;function C(w){const N=g.current||f.current.getBoundingClientRect(),v=[0,N.height],j=ue(v,b?[n,r]:[r,n]);return g.current=N,j(w-N.top)}return e.jsx(Me,{scope:s.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:e.jsx(_e,{"data-orientation":"vertical",...y,ref:c,style:{...y.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const N=C(w.clientY);h?.(N)},onSlideMove:w=>{const N=C(w.clientY);l?.(N)},onSlideEnd:()=>{g.current=void 0,u?.()},onStepKeyDown:w=>{const v=Ce[b?"from-bottom":"from-top"].includes(w.key);x?.({event:w,direction:v?-1:1})}})})}),_e=i.forwardRef((s,a)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:h,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:x,...y}=s,f=ne($,r);return e.jsx(Q.span,{...y,ref:a,onKeyDown:L(s.onKeyDown,c=>{c.key==="Home"?(l(c),c.preventDefault()):c.key==="End"?(u(c),c.preventDefault()):Ne.concat(Pe).includes(c.key)&&(x(c),c.preventDefault())}),onPointerDown:L(s.onPointerDown,c=>{const g=c.target;g.setPointerCapture(c.pointerId),c.preventDefault(),f.thumbs.has(g)?g.focus():n(c)}),onPointerMove:L(s.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&o(c)}),onPointerUp:L(s.onPointerUp,c=>{const g=c.target;g.hasPointerCapture(c.pointerId)&&(g.releasePointerCapture(c.pointerId),h(c))})})}),Ee="SliderTrack",Be=i.forwardRef((s,a)=>{const{__scopeSlider:r,...n}=s,o=ne(Ee,r);return e.jsx(Q.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:a})});Be.displayName=Ee;var ce="SliderRange",Ve=i.forwardRef((s,a)=>{const{__scopeSlider:r,...n}=s,o=ne(ce,r),h=De(ce,r),l=i.useRef(null),u=z(a,l),x=o.values.length,y=o.values.map(g=>Fe(g,o.min,o.max)),f=x>1?Math.min(...y):0,c=100-Math.max(...y);return e.jsx(Q.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:u,style:{...s.style,[h.startEdge]:f+"%",[h.endEdge]:c+"%"}})});Ve.displayName=ce;var de="SliderThumb",Ae=i.forwardRef((s,a)=>{const r=Bt(s.__scopeSlider),[n,o]=i.useState(null),h=z(a,u=>o(u)),l=i.useMemo(()=>n?r().findIndex(u=>u.ref.current===n):-1,[r,n]);return e.jsx(It,{...s,ref:h,index:l})}),It=i.forwardRef((s,a)=>{const{__scopeSlider:r,index:n,name:o,...h}=s,l=ne(de,r),u=De(de,r),[x,y]=i.useState(null),f=z(a,R=>y(R)),c=x?l.form||!!x.closest("form"):!0,g=tt(x),b=l.values[n],C=b===void 0?0:Fe(b,l.min,l.max),w=Lt(n,l.values.length),N=g?.[u.size],v=N?Ot(N,C,u.direction):0;return i.useEffect(()=>{if(x)return l.thumbs.add(x),()=>{l.thumbs.delete(x)}},[x,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${C}% + ${v}px)`},children:[e.jsx(le.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(Q.span,{role:"slider","aria-label":s["aria-label"]||w,"aria-valuemin":l.min,"aria-valuenow":b,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...h,ref:f,style:b===void 0?{display:"none"}:s.style,onFocus:L(s.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),c&&e.jsx(Te,{name:o??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:b},n)]})});Ae.displayName=de;var Kt="RadioBubbleInput",Te=i.forwardRef(({__scopeSlider:s,value:a,...r},n)=>{const o=i.useRef(null),h=z(o,n),l=gt(a);return i.useEffect(()=>{const u=o.current;if(!u)return;const x=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(x,"value").set;if(l!==a&&f){const c=new Event("input",{bubbles:!0});f.call(u,a),u.dispatchEvent(c)}},[l,a]),e.jsx(Q.input,{style:{display:"none"},...r,ref:h,defaultValue:a})});Te.displayName=Kt;function Ht(s=[],a,r){const n=[...s];return n[r]=a,n.sort((o,h)=>o-h)}function Fe(s,a,r){const h=100/(r-a)*(s-a);return we(h,[0,100])}function Lt(s,a){return a>2?`Value ${s+1} of ${a}`:a===2?["Minimum","Maximum"][s]:void 0}function zt(s,a){if(s.length===1)return 0;const r=s.map(o=>Math.abs(o-a)),n=Math.min(...r);return r.indexOf(n)}function Ot(s,a,r){const n=s/2,h=ue([0,50],[0,n]);return(n-h(a)*r)*r}function $t(s){return s.slice(0,-1).map((a,r)=>s[r+1]-a)}function Ut(s,a){if(a>0){const r=$t(s);return Math.min(...r)>=a}return!0}function ue(s,a){return r=>{if(s[0]===s[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(s[1]-s[0]);return a[0]+n*(r-s[0])}}function Gt(s){return(String(s).split(".")[1]||"").length}function qt(s,a){const r=Math.pow(10,a);return Math.round(s*r)/r}var Ie=Re,Yt=Be,Qt=Ve,Xt=Ae;const Ke=i.forwardRef(({className:s,...a},r)=>e.jsxs(Ie,{ref:r,className:O("relative flex w-full touch-none select-none items-center",s),...a,children:[e.jsx(Yt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Qt,{className:"absolute h-full bg-primary"})}),e.jsx(Xt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ke.displayName=Ie.displayName;const Wt=st,Jt=at,Zt=rt,He=i.forwardRef(({className:s,...a},r)=>e.jsx(be,{className:O("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:r}));He.displayName=be.displayName;const es=dt("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Le=i.forwardRef(({side:s="right",className:a,children:r,...n},o)=>e.jsxs(Zt,{children:[e.jsx(He,{}),e.jsxs(je,{ref:o,className:O(es({side:s}),a),...n,children:[r,e.jsxs(nt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Le.displayName=je.displayName;const ze=({className:s,...a})=>e.jsx("div",{className:O("flex flex-col space-y-2 text-center sm:text-left",s),...a});ze.displayName="SheetHeader";const Oe=i.forwardRef(({className:s,...a},r)=>e.jsx(Se,{ref:r,className:O("text-lg font-semibold text-foreground",s),...a}));Oe.displayName=Se.displayName;const $e=i.forwardRef(({className:s,...a},r)=>e.jsx(ye,{ref:r,className:O("text-sm text-muted-foreground",s),...a}));$e.displayName=ye.displayName;const ks=()=>{const{isConnected:s}=mt(),a=it(),[r,n]=i.useState(""),[o,h]=i.useState("all"),[l,u]=i.useState([0,1e7]),[x,y]=i.useState("all"),[f,c]=i.useState("any"),[g,b]=i.useState("list"),[C,w]=i.useState("relevance"),[N,v]=i.useState([]),[R,j]=i.useState([]),[S,E]=i.useState(!0),[B,M]=i.useState(new Set),[V,X]=i.useState(null),[A,P]=i.useState(!1),[D,K]=i.useState(!1),[U,H]=i.useState([]),T=["Swimming Pool","Gym/Fitness Center","Parking","Security","Garden/Park","Elevator","Power Backup","WiFi","Club House","Children's Play Area"];ut({refreshProperties:()=>{console.log("Properties updated via realtime, refreshing..."),k()}});const _=i.useCallback(()=>{const t=f!=="any"&&f?parseInt(f):void 0;return{minPrice:l[0],maxPrice:l[1],propertyType:x!=="all"?x:void 0,bedrooms:t&&!isNaN(t)?t:void 0,location:o!=="all"?o:void 0,search:r||void 0}},[l,x,f,o,r]),k=i.useCallback(async()=>{try{E(!0);const t=_(),m=await St.getProperties(t);if(m.success){v(m.data.properties),j(m.data.properties);const d=await Promise.all(m.data.properties.map(ie=>oe.isFavorite(ie._id))),G=new Set;m.data.properties.forEach((ie,Xe)=>{d[Xe]&&G.add(ie._id)}),M(G)}else q({title:"Error",description:"Failed to load properties",variant:"destructive"})}catch(t){console.error("Error loading properties:",t),q({title:"Error",description:"Failed to load properties. Please try again.",variant:"destructive"})}finally{E(!1)}},[_]);Y("property_updated",t=>{v(m=>m.map(d=>d._id===t.propertyId?{...d,...t.updates}:d)),j(m=>m.map(d=>d._id===t.propertyId?{...d,...t.updates}:d))}),Y("property_favorited",t=>{v(m=>m.map(d=>d._id===t.propertyId?{...d,favoriteCount:(d.favoriteCount||0)+1}:d)),j(m=>m.map(d=>d._id===t.propertyId?{...d,favoriteCount:(d.favoriteCount||0)+1}:d))}),Y("property_viewed",t=>{v(m=>m.map(d=>d._id===t.propertyId?{...d,views:(d.views||0)+1}:d)),j(m=>m.map(d=>d._id===t.propertyId?{...d,views:(d.views||0)+1}:d))}),Y("favorite_added",t=>{t.propertyId&&M(m=>new Set(m).add(t.propertyId))}),Y("favorite_removed",t=>{t.propertyId&&M(m=>{const d=new Set(m);return d.delete(t.propertyId),d})}),i.useEffect(()=>{k()},[k]);const W=i.useMemo(()=>R.filter(t=>{const m=`${t.address?.city||""} ${t.address?.state||""}`;return t.title?.toLowerCase().includes(r.toLowerCase())||m.toLowerCase().includes(r.toLowerCase())}),[r,R]),Ue=async t=>{a(`/customer/property/${t}`)},Ge=async t=>{try{B.has(t)?(await oe.removeFromFavorites(t),M(d=>{const G=new Set(d);return G.delete(t),G}),q({title:"Removed from favorites",description:"Property has been removed from your favorites"})):(await oe.addToFavorites(t),M(d=>new Set(d).add(t)),q({title:"Added to favorites",description:"Property has been added to your favorites"}))}catch(m){console.error("Error toggling favorite:",m),q({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}},qe=t=>{X(t),K(!0)},Ye=t=>{X(t),P(!0)},J=t=>t>=1e7?`₹${(t/1e7).toFixed(1)} Cr`:t>=1e5?`₹${(t/1e5).toFixed(0)} Lac`:`₹${t}`,Qe=t=>{H(m=>m.includes(t)?m.filter(d=>d!==t):[...m,t])},he=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"City"}),e.jsxs(te,{value:o,onValueChange:h,children:[e.jsx(se,{children:e.jsx(ae,{placeholder:"Select city"})}),e.jsxs(re,{children:[e.jsx(p,{value:"all",children:"All Cities"}),e.jsx(p,{value:"Mumbai",children:"Mumbai"}),e.jsx(p,{value:"Bangalore",children:"Bangalore"}),e.jsx(p,{value:"Delhi",children:"Delhi"}),e.jsx(p,{value:"Pune",children:"Pune"}),e.jsx(p,{value:"Chennai",children:"Chennai"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Price Range: ",J(l[0])," - ",J(l[1])]}),e.jsx(Ke,{value:l,onValueChange:u,max:5e7,min:0,step:1e5,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Property Type"}),e.jsxs(te,{value:x,onValueChange:y,children:[e.jsx(se,{children:e.jsx(ae,{placeholder:"Select type"})}),e.jsxs(re,{children:[e.jsx(p,{value:"all",children:"All Types"}),e.jsx(p,{value:"apartment",children:"Apartment"}),e.jsx(p,{value:"villa",children:"Villa"}),e.jsx(p,{value:"house",children:"House"}),e.jsx(p,{value:"plot",children:"Plot"}),e.jsx(p,{value:"land",children:"Land"}),e.jsx(p,{value:"commercial",children:"Commercial"}),e.jsx(p,{value:"office",children:"Office Space"}),e.jsx(p,{value:"pg",children:"PG (Paying Guest)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Bedrooms"}),e.jsxs(te,{value:f,onValueChange:c,children:[e.jsx(se,{children:e.jsx(ae,{placeholder:"Select bedrooms"})}),e.jsxs(re,{children:[e.jsx(p,{value:"any",children:"Any"}),e.jsx(p,{value:"1",children:"1 BHK"}),e.jsx(p,{value:"2",children:"2 BHK"}),e.jsx(p,{value:"3",children:"3 BHK"}),e.jsx(p,{value:"4",children:"4+ BHK"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{id:t,checked:U.includes(t),onCheckedChange:()=>Qe(t)}),e.jsx("label",{htmlFor:t,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t})]},t))})]}),e.jsx(F,{variant:"outline",className:"w-full",onClick:()=>{n(""),h("all"),u([0,1e7]),y("all"),c("any"),H([])},children:"Clear All Filters"})]});return e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Search Properties"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Find your perfect home from thousands of listings"})]})}),e.jsx(Z,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(xt,{type:"text",placeholder:"Search by location, property name, or keywords...",className:"pl-10",value:r,onChange:t=>n(t.target.value)})]}),e.jsxs(Wt,{children:[e.jsx(Jt,{asChild:!0,children:e.jsx(F,{variant:"outline",className:"sm:hidden",children:e.jsx(Et,{className:"w-4 h-4"})})}),e.jsxs(Le,{children:[e.jsxs(ze,{children:[e.jsx(Oe,{children:"Filter Properties"}),e.jsx($e,{children:"Refine your search with these filters"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(he,{})})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs(Z,{children:[e.jsx(ot,{children:e.jsxs(lt,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5"}),"Filters"]})}),e.jsx(ee,{children:e.jsx(he,{})})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s?"Real-time property updates active":"Offline mode"})]}),S&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading properties..."]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.length," properties found"]}),(U.length>0||o&&o!=="all"||x&&x!=="all"||f&&f!=="any")&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[o&&o!=="all"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[o,e.jsx("button",{className:"ml-1",onClick:()=>h("all"),children:"×"})]}),x&&x!=="all"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[x,e.jsx("button",{className:"ml-1",onClick:()=>y("all"),children:"×"})]}),f&&f!=="any"&&e.jsxs(I,{variant:"secondary",className:"text-xs",children:[f," BHK",e.jsx("button",{className:"ml-1",onClick:()=>c("any"),children:"×"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(te,{value:C,onValueChange:w,children:[e.jsx(se,{className:"w-36",children:e.jsx(ae,{})}),e.jsxs(re,{children:[e.jsx(p,{value:"relevance",children:"Relevance"}),e.jsx(p,{value:"price-low",children:"Price: Low to High"}),e.jsx(p,{value:"price-high",children:"Price: High to Low"}),e.jsx(p,{value:"newest",children:"Newest First"}),e.jsx(p,{value:"area",children:"Area: Large to Small"})]})]}),e.jsx(xe,{value:g,onValueChange:t=>b(t),children:e.jsxs(ft,{children:[e.jsx(fe,{value:"list",children:e.jsx(_t,{className:"w-4 h-4"})}),e.jsx(fe,{value:"map",children:e.jsx(ge,{className:"w-4 h-4"})})]})})]})]}),e.jsxs(xe,{value:g,onValueChange:t=>b(t),children:[e.jsx(pe,{value:"list",className:"space-y-4",children:W.map(t=>e.jsx(Z,{className:"hover:shadow-lg transition-shadow",children:e.jsx(ee,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-80 h-64 md:h-48 bg-muted flex items-center justify-center relative overflow-hidden",children:[t.images&&t.images.length>0?e.jsx("img",{src:t.images.find(m=>m.isPrimary)?.url||t.images[0]?.url,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center",children:e.jsx(ve,{className:"w-6 h-6 text-primary"})}),t.featured&&e.jsx(I,{className:"absolute top-2 left-2",children:"Featured"}),t.verified&&e.jsx(I,{variant:"secondary",className:"absolute top-2 right-2",children:"Verified"})]}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center text-muted-foreground mb-2",children:[e.jsx(ve,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"text-sm",children:[t.address?.city,", ",t.address?.state]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pt,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.bedrooms," BHK"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.bathrooms," Bath"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.area?.builtUp||t.area?.carpet||t.area?.plot||0," ",t.area?.unit||"sqft"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:J(t.price)}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[t.area?.builtUp&&J(Math.round(t.price/t.area.builtUp))," per ",t.area?.unit||"sqft"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[t.amenities.slice(0,3).map(m=>e.jsx(I,{variant:"outline",className:"text-xs",children:m},m)),t.amenities.length>3&&e.jsxs(I,{variant:"outline",className:"text-xs",children:["+",t.amenities.length-3," more"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mb-4",children:yt(t)}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.views||0," views"]})]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"Recently listed"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{size:"sm",variant:B.has(t._id)?"default":"outline",onClick:()=>Ge(t._id),children:e.jsx(pt,{className:`w-4 h-4 ${B.has(t._id)?"fill-current":""}`})}),e.jsx(F,{size:"sm",variant:"outline",children:e.jsx(Mt,{className:"w-4 h-4"})}),e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>Ye(t),children:[e.jsx(vt,{className:"w-4 h-4 mr-1"}),"Message"]}),e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>qe(t),children:[e.jsx(Dt,{className:"w-4 h-4 mr-1"}),"Contact"]}),e.jsx(F,{size:"sm",onClick:()=>Ue(t._id),children:"View Details"})]})]})]})]})})},t._id))}),e.jsx(pe,{value:"map",children:e.jsx(Z,{children:e.jsx(ee,{className:"p-0",children:e.jsx("div",{className:"h-96 bg-muted flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Map view coming soon"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Interactive map with property markers will be displayed here"})]})})})})})]})]})]}),V&&e.jsx(bt,{open:A,onOpenChange:P,property:V,onMessageSent:()=>{console.log("Message sent for property:",V._id)}}),V&&e.jsx(wt,{open:D,onOpenChange:K,property:V})]})};export{ks as default};
