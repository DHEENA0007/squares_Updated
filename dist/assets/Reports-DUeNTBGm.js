import{j as e}from"./ui-s1SEoZIF.js";import{r as s}from"./router-D8v2YSKU.js";import{D as t,a2 as a,a as r,b as l,q as i,r as d,s as c,v as n,w as o,f as x,c as m,p,e as h,U as j,h as u,V as g,d as N,C as v,_ as f,R as y,i as b}from"./index-CJkfZmVJ.js";import{s as w}from"./subAdminService-88HlWW2D.js";import{D as k}from"./download-CWlvrHqp.js";import{T}from"./trending-up-DMNLVNDP.js";import"./vendor-BxThA0WO.js";const A=t("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),P=()=>{const{toast:t}=a(),[P,S]=s.useState(!0),[R,D]=s.useState("30days"),[L,C]=s.useState(null);s.useEffect(()=>{M()},[R]);const M=async()=>{try{S(!0);const e=await w.getDashboardStats();C(e)}catch(e){t({title:"Error",description:e.message||"Failed to fetch report data",variant:"destructive"})}finally{S(!1)}},H=async e=>{try{t({title:"Exporting Report",description:`Preparing ${e.toUpperCase()} report...`}),t({title:"Success",description:`Report exported as ${e.toUpperCase()}`})}catch(s){t({title:"Error",description:s.message||"Failed to export report",variant:"destructive"})}};return P?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Analytics & Reports"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive insights into your moderation activities"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(s=>e.jsx(r,{children:e.jsxs(l,{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mt-2"})]})},s))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Analytics & Reports"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive insights into your moderation activities"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(i,{value:R,onValueChange:e=>D(e),children:[e.jsx(d,{className:"w-[180px]",children:e.jsx(c,{placeholder:"Select time range"})}),e.jsxs(n,{children:[e.jsx(o,{value:"7days",children:"Last 7 Days"}),e.jsx(o,{value:"30days",children:"Last 30 Days"}),e.jsx(o,{value:"90days",children:"Last 90 Days"}),e.jsx(o,{value:"all",children:"All Time"})]})]}),e.jsxs(x,{variant:"outline",onClick:()=>H("pdf"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"PDF"]}),e.jsxs(x,{variant:"outline",onClick:()=>H("csv"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Total Properties Reviewed"}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L?.totalPropertiesApproved||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:L?.analytics&&e.jsxs("span",{className:"text-green-600",children:["+",L.analytics.propertiesApprovedLast7Days," this week"]})})]})]}),e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Approval Rate"}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[L?.totalPropertiesApproved>0?(L.availablePropertiesApproved/L.totalPropertiesApproved*100).toFixed(1):0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Properties approved vs rejected"})]})]}),e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Support Tickets"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:L?.totalSupport||0}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[L?.resolvedSupport||0," resolved, ",L?.openSupport||0," open"]})]})]}),e.jsxs(r,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Avg Response Time"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(h,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[L?.analytics?.avgResponseTimeHours||0,"h"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average ticket resolution time"})]})]})]}),L?.analytics&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"Property Review Performance"]}),e.jsx(N,{children:"Breakdown of your property moderation activities"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 dark:bg-green-950",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Approved Properties"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available listings"})]})]}),e.jsx("p",{className:"text-2xl font-bold",children:L.availablePropertiesApproved})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50 dark:bg-red-950",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Rejected Properties"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Not approved"})]})]}),e.jsx("p",{className:"text-2xl font-bold",children:L.rejectedPropertiesApproved})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-50 dark:bg-yellow-950",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Pending Review"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Awaiting action"})]})]}),e.jsx("p",{className:"text-2xl font-bold",children:L.pendingProperties})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Time-based Analytics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 dark:bg-blue-950",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 7 Days"}),e.jsx("p",{className:"text-xl font-bold",children:L.analytics.propertiesApprovedLast7Days})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-purple-50 dark:bg-purple-950",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 Days"}),e.jsx("p",{className:"text-xl font-bold",children:L.analytics.propertiesApprovedLast30Days})]})]})]})]})]}),e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Support Ticket Performance"]}),e.jsx(N,{children:"Your customer support metrics and trends"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-orange-50 dark:bg-orange-950",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Open Tickets"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending response"})]})]}),e.jsx("p",{className:"text-2xl font-bold",children:L.openSupport})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 dark:bg-green-950",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Resolved Tickets"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Successfully closed"})]})]}),e.jsx("p",{className:"text-2xl font-bold",children:L.resolvedSupport})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-950",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Closed Tickets"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All completed"})]})]}),e.jsx("p",{className:"text-2xl font-bold",children:L.closedSupport})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Resolution Analytics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-green-50 dark:bg-green-950",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolved (7d)"}),e.jsx("p",{className:"text-xl font-bold",children:L.analytics.supportTicketsResolvedLast7Days})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-teal-50 dark:bg-teal-950",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolved (30d)"}),e.jsx("p",{className:"text-xl font-bold",children:L.analytics.supportTicketsResolvedLast30Days})]})]})]})]})]})]}),L?.analytics&&e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"Monthly Trends & Comparison"]}),e.jsx(N,{children:"Compare this month's performance with last month"})]}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Property Approvals"}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),e.jsx("p",{className:"text-3xl font-bold",children:L.analytics.propertiesApprovedThisMonth})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 text-lg font-semibold "+(L.analytics.propertyApprovalTrend>=0?"text-green-600":"text-red-600"),children:[L.analytics.propertyApprovalTrend>=0?e.jsx(T,{className:"h-5 w-5"}):e.jsx(T,{className:"h-5 w-5 rotate-180"}),e.jsxs("span",{children:[Math.abs(L.analytics.propertyApprovalTrend),"%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"vs last month"})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Month"}),e.jsx("p",{className:"text-xl font-bold",children:L.analytics.propertiesApprovedLastMonth})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Support Tickets"}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),e.jsx("p",{className:"text-3xl font-bold",children:L.analytics.supportTicketsThisMonth})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 text-lg font-semibold "+(L.analytics.supportTicketTrend>=0?"text-green-600":"text-red-600"),children:[L.analytics.supportTicketTrend>=0?e.jsx(T,{className:"h-5 w-5"}):e.jsx(T,{className:"h-5 w-5 rotate-180"}),e.jsxs("span",{children:[Math.abs(L.analytics.supportTicketTrend),"%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"vs last month"})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Month"}),e.jsx("p",{className:"text-xl font-bold",children:L.analytics.supportTicketsLastMonth})]})]})]})})]}),e.jsxs(r,{children:[e.jsxs(l,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Performance Insights"]}),e.jsx(N,{children:"Key insights and recommendations"})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:L?.analytics?e.jsxs(e.Fragment,{children:[L.analytics.propertyApprovalTrend>10&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-950",children:[e.jsx(T,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Excellent Property Review Performance"}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["You've increased your property approvals by ",L.analytics.propertyApprovalTrend,"% compared to last month. Keep up the great work!"]})]})]}),L.analytics.avgResponseTimeHours>0&&L.analytics.avgResponseTimeHours<24&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-950",children:[e.jsx(u,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Fast Response Time"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Your average response time of ",L.analytics.avgResponseTimeHours,"h is excellent. Users appreciate quick responses!"]})]})]}),L.openSupport>10&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-yellow-50 dark:bg-yellow-950",children:[e.jsx(y,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"High Open Ticket Volume"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["You have ",L.openSupport," open tickets. Consider prioritizing ticket resolution to improve response times."]})]})]}),0===L.totalPropertiesApproved&&0===L.totalSupport&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-950",children:[e.jsx(b,{className:"h-5 w-5 text-gray-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Get Started"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Start reviewing properties and handling support tickets to build your performance metrics."})]})]}),L.totalPropertiesApproved>0&&L.analytics.propertyApprovalTrend<=10&&(0===L.analytics.avgResponseTimeHours||L.analytics.avgResponseTimeHours>=24)&&L.openSupport<=10&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-950",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Steady Performance"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["You've reviewed ",L.totalPropertiesApproved," properties and handled ",L.totalSupport," support tickets.",L.analytics.propertiesApprovedThisMonth>0&&` This month: ${L.analytics.propertiesApprovedThisMonth} properties approved.`]})]})]})]}):e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(b,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No performance data available yet"})]})})})]})]})};export{P as default};
