import{j as e}from"./ui-DHQhougw.js";import{r as s}from"./router-Bi51YGN-.js";import{y as t,a1 as a,O as i,t as r,ay as c,f as l,w as n,al as o,a3 as d,a4 as m,a5 as p,aj as u,a as h,e as x,a6 as f,a7 as g,a8 as j,B as v,M as y,x as N,h as w,b,c as S,L as C,I as P,C as $,S as k,q as D,r as R,s as F,v as q,T as A,ai as T,X as I,E as V,ae as E,aq as L}from"./index-CV77Hym3.js";import{P as M}from"./PincodeAutocomplete-ikNINajZ.js";import{locaService as U}from"./locaService-BHv9WoZx.js";import{u as O}from"./use-mobile-WsBtvUz6.js";import{c as z}from"./customerDashboardService-Cw91BBuQ.js";import{u as J}from"./uploadService-Bwy6d1dt.js";import{R as _}from"./refresh-cw-DllRcUU9.js";import{P as H}from"./pen-line-DYC6RHU2.js";import{C as B}from"./camera-CBOG7LcH.js";import{S as G}from"./shield-DhOisX9k.js";import{C as Q}from"./calendar-BwxHbBld.js";import{T as Y}from"./trending-up-BiEUbM3m.js";import{A as K}from"./activity-DXf5bWrv.js";import"./vendor-eVk5PToZ.js";const W=new class{baseUrl="https://api.buildhomemartsquares.com/api";async makeRequest(e,s={}){const a=`${this.baseUrl}${e}`,i={headers:{"Content-Type":"application/json",...s.headers},...s},r=t.getToken();r&&(i.headers={...i.headers,Authorization:`Bearer ${r}`});try{const e=await fetch(a,i);if(!e.ok){const s=await e.json().catch(()=>({success:!1,message:`HTTP ${e.status}: ${e.statusText}`}));throw new Error(s.message||"An error occurred")}return await e.json()}catch(c){throw c}}async getCustomerProperties(e={}){try{const s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,t.toString())});const t="/customer/properties"+(s.toString()?`?${s.toString()}`:"");return await this.makeRequest(t)}catch(s){return{success:!0,data:{properties:[],pagination:{currentPage:1,totalPages:0,totalProperties:0,hasNextPage:!1,hasPrevPage:!1},stats:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}}async getCustomerPropertyStats(){try{return await this.makeRequest("/customer/properties/stats")}catch(e){return{success:!0,data:{totalProperties:0,activeProperties:0,rentedProperties:0,soldProperties:0,draftProperties:0,pendingProperties:0,totalViews:0,totalInquiries:0,totalFavorites:0,totalRevenue:0,monthlyRevenue:0,averageViews:0,averageInquiries:0,conversionRate:0}}}}async getProperty(e){try{return await this.makeRequest(`/customer/properties/${e}`)}catch(s){throw s}}async createProperty(e){try{return await this.makeRequest("/customer/properties",{method:"POST",body:JSON.stringify(e)})}catch(s){throw s}}async updateProperty(e,s){try{return await this.makeRequest(`/customer/properties/${e}`,{method:"PUT",body:JSON.stringify(s)})}catch(t){throw t}}async deleteProperty(e){try{await this.makeRequest(`/customer/properties/${e}`,{method:"DELETE"})}catch(s){throw s}}async togglePropertyStatus(e,s){try{return await this.makeRequest(`/customer/properties/${e}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}catch(t){throw t}}async togglePropertyFeatured(e,s){try{return await this.makeRequest(`/customer/properties/${e}/featured`,{method:"PATCH",body:JSON.stringify({featured:s})})}catch(t){const e=t.response?.data||t;throw(e.upgradeRequired||e.limitReached)&&function(){throw new Error("Function not implemented.")}((e.limitReached,e.message)),t}}async getPropertyAnalytics(e,s="month"){try{return await this.makeRequest(`/customer/properties/${e}/analytics?period=${s}`)}catch(t){return{success:!0,data:{views:[],inquiries:[],favorites:[],conversionRate:0,avgResponseTime:"N/A",topReferrers:[],engagement:{totalClicks:0,phoneClicks:0,emailClicks:0,messageClicks:0}}}}}formatPrice(e,s){return"rent"===s?`â‚¹${e.toLocaleString("en-IN")}/month`:"lease"===s?`â‚¹${e.toLocaleString("en-IN")}/year`:e>=1e7?`â‚¹${(e/1e7).toFixed(1)} Cr`:e>=1e5?`â‚¹${(e/1e5).toFixed(1)} Lac`:`â‚¹${e.toLocaleString("en-IN")}`}formatArea(e){return e.builtUp?`${e.builtUp} ${e.unit}`:e.plot?`${e.plot} ${e.unit}`:e.carpet?`${e.carpet} ${e.unit}`:"Area not specified"}getStatusColor(e){switch(e){case"active":return"bg-green-500";case"rented":return"bg-blue-500";case"sold":return"bg-purple-500";case"pending":return"bg-yellow-500";case"draft":default:return"bg-gray-500";case"inactive":return"bg-red-500"}}getStatusText(e){switch(e){case"active":return"Active";case"rented":return"Rented";case"sold":return"Sold";case"pending":return"Under Review";case"draft":return"Draft";case"inactive":return"Inactive";default:return e}}formatTimeAgo(e){const s=new Date(e),t=(new Date).getTime()-s.getTime(),a=Math.floor(t/6e4),i=Math.floor(a/60),r=Math.floor(i/24);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:r<7?`${r} day${r>1?"s":""} ago`:s.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}getPrimaryImage(e){const s=e.images.find(e=>e.isPrimary);return s?.url||e.images[0]?.url||"/placeholder-property.jpg"}getDaysOnMarket(e){const s=new Date(e),t=(new Date).getTime()-s.getTime();return Math.floor(t/864e5)}calculateMonthlyRevenue(e){return e.filter(e=>"rented"===e.status&&"rent"===e.listingType).reduce((e,s)=>e+s.price,0)}calculateTotalRevenue(e){const s=e.filter(e=>"sold"===e.status);e.filter(e=>"rented"===e.status);return s.reduce((e,s)=>e+s.price,0)+12*this.calculateMonthlyRevenue(e)}};const X=()=>{const{isConnected:t,lastEvent:X}=a(),Z=O(),[ee,se]=s.useState(!1),[te,ae]=s.useState(!0),[ie,re]=s.useState(!1),[ce,le]=s.useState(!1),[ne,oe]=s.useState(null),[de,me]=s.useState(!1),pe=s.useRef(null),[ue,he]=s.useState({name:"",email:"",phone:"",location:"",address:"",pincode:"",bio:"",joinDate:"",avatar:"",verified:!1}),[xe,fe]=s.useState({states:[],districts:[],cities:[],selectedState:"",selectedDistrict:"",selectedCity:"",loadingStates:!1,loadingDistricts:!1,loadingCities:!1}),[ge,je]=s.useState({inquiriesSent:0,savedSearches:0,propertiesViewed:0,totalFavorites:0,ownedProperties:0}),[ve,ye]=s.useState([]);s.useEffect(()=>{(async()=>{try{await U.initialize();const e=U.getStates();fe(s=>({...s,states:e}))}catch(e){}})()},[]);const Ne=s.useCallback(e=>{fe(s=>({...s,selectedState:e,selectedDistrict:"",selectedCity:"",districts:U.getDistricts(e),cities:[]})),he(s=>({...s,location:`${e}`}))},[]),we=s.useCallback(e=>{fe(s=>{const t=s.selectedState;return{...s,selectedDistrict:e,selectedCity:"",cities:U.getCities(t,e)}}),he(s=>({...s,location:`${e}, ${xe.selectedState}`}))},[xe.selectedState]),be=s.useCallback(e=>{fe(s=>({...s,selectedCity:e})),he(s=>({...s,location:`${e}, ${xe.selectedDistrict}, ${xe.selectedState}`}))},[xe.selectedState,xe.selectedDistrict]),Se=s.useCallback(e=>{if(!e)return"Not specified";const s=[];return e.city&&s.push(e.city),e.district&&e.district!==e.city&&s.push(e.district),e.state&&s.push(e.state),s.length>0?s.join(", "):"Not specified"},[]),Ce=s.useCallback(async()=>{try{ae(!0);const[e,s,t]=await Promise.all([i.getCurrentUser(),z.getCustomerDashboardData().catch(()=>null),W.getCustomerPropertyStats().catch(()=>null)]),a=e.data.user;oe(a);const r=a.profile.address,c=r?`${r.city||""}, ${r.state||""}`.replace(/^,\s*|,\s*$/g,""):"";if(he({name:i.getFullName(a),email:a.email,phone:a.profile.phone||"",location:c,address:r?.street||"",pincode:r?.zipCode||"",bio:"",joinDate:i.formatCreationDate(a.createdAt),avatar:a.profile.avatar||"",verified:a.profile.emailVerified||!1}),r?.state||r?.city){const e=r.state||"",s=r.city||"";if(fe(t=>({...t,selectedState:e,selectedCity:s,districts:e?U.getDistricts(e):[],cities:e?U.getCities(e,""):[]})),s&&e){const t=U.getDistricts(e);for(const a of t){const t=U.getCities(e,a);if(t.includes(s)){fe(e=>({...e,selectedDistrict:a,cities:t}));break}}}}if(s?.success){const e=s.data.stats;je(s=>({...s,inquiriesSent:e.activeInquiries||0,propertiesViewed:e.propertiesViewed||0,totalFavorites:e.savedFavorites||0})),ye(s.data.recentActivities.map(e=>({id:e._id,type:e.type,message:e.message,timestamp:e.time,icon:e.icon})))}if(t?.success){const e=t.data;je(s=>({...s,ownedProperties:e.totalProperties||0,savedSearches:e.pendingApproval||0}))}}catch(e){r({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{ae(!1)}},[]),Pe=s.useCallback(async()=>{le(!0),await Ce(),le(!1)},[]);s.useEffect(()=>{Ce()},[]);const $e=s.useCallback(()=>{Ce()},[]),ke=s.useCallback(()=>{je(e=>({...e,inquiriesSent:e.inquiriesSent+1}))},[]),De=s.useCallback(()=>{je(e=>({...e,propertiesViewed:e.propertiesViewed+1}))},[]),Re=s.useCallback(e=>{"add"===e.action?je(e=>({...e,totalFavorites:e.totalFavorites+1})):"remove"===e.action&&je(e=>({...e,totalFavorites:Math.max(0,e.totalFavorites-1)}))},[]);c("profile_updated",$e),c("property_inquiry",ke),c("property_viewed",De),c("property_favorited",Re);return te?e.jsx("div",{className:"space-y-6 pt-24",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})})}):e.jsxs("div",{className:"space-y-6 pt-16",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(l,{variant:"outline",size:"sm",onClick:Pe,disabled:ce,children:[e.jsx(_,{className:"w-4 h-4 mr-2 "+(ce?"animate-spin":"")}),ce?"Refreshing...":"Refresh"]})}),e.jsxs("div",{className:"flex "+(Z?"flex-col gap-4":"items-center justify-between"),children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-bold flex items-center gap-2 "+(Z?"text-2xl":"text-3xl"),children:[e.jsx(n,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsxs("p",{className:"text-muted-foreground mt-1",children:["View your profile information and activity. Visit ",e.jsx("span",{className:"font-medium",children:"Settings"})," to manage preferences."]})]}),e.jsxs("div",{className:"flex gap-2 "+(Z?"flex-col w-full":""),children:[!ee&&!te&&e.jsxs(l,{onClick:()=>se(!0),className:Z?"w-full":"",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(l,{variant:"outline",onClick:()=>window.location.href="/customer/settings",className:Z?"w-full":"",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),e.jsxs(d,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(m,{className:"grid w-full grid-cols-2",children:[e.jsx(p,{value:"profile",children:"Profile"}),e.jsx(p,{value:"activity",children:"Activity"})]}),e.jsxs(u,{value:"profile",className:"space-y-6",children:[e.jsx(h,{children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:`flex ${Z?"flex-col":"flex-col md:flex-row"} items-start md:items-center gap-6`,children:[e.jsxs("div",{className:"relative self-center md:self-start",children:[e.jsxs(f,{className:""+(Z?"w-20 h-20":"w-24 h-24"),children:[e.jsx(g,{src:ue.avatar}),e.jsx(j,{className:""+(Z?"text-xl":"text-2xl"),children:ue.name.split(" ").map(e=>e[0]).join("")})]}),e.jsx("input",{ref:pe,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;const t=J.validateImageFile(s);if(t.valid)try{me(!0);const e=await J.compressImage(s),t=await J.uploadAvatar(e);he(e=>({...e,avatar:t})),ne&&await i.updateCurrentUser({profile:{...ne.profile,avatar:t}}),r({title:"Success",description:"Profile picture updated successfully!"}),await Ce()}catch(a){r({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{me(!1),pe.current&&(pe.current.value="")}else r({title:"Invalid File",description:t.error,variant:"destructive"})},className:"hidden"}),e.jsx(l,{size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full",onClick:()=>pe.current?.click(),disabled:de,children:de?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(B,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-2 text-center md:text-left",children:[e.jsxs("div",{className:"flex "+(Z?"flex-col gap-2":"items-center gap-2"),children:[e.jsx("h2",{className:(Z?"text-xl":"text-2xl")+" font-bold",children:ue.name}),ue.verified&&e.jsxs(v,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsxs("div",{className:`flex ${Z?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-4 h-4"}),ue.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4"}),ue.phone]})]}),e.jsxs("div",{className:`flex ${Z?"flex-col gap-2":"items-center gap-4"} text-muted-foreground`,children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),ue.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4"}),"Joined ",ue.joinDate]})]})]}),e.jsxs("div",{className:"grid gap-4 text-center "+(Z?"grid-cols-2 w-full":"grid-cols-2"),children:[e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:ge.ownedProperties}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Properties"})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:ge.totalFavorites}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]})]})]})})}),e.jsxs("div",{className:"grid gap-6 "+(Z?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"),children:[e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(S,{children:"Personal Information"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 "+(Z?"grid-cols-1":"grid-cols-1 md:grid-cols-2"),children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Full Name"}),ee?e.jsx(P,{value:ue.name,onChange:e=>he(s=>({...s,name:e.target.value}))}):e.jsx("p",{className:"text-sm",children:ue.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Email"}),ee?e.jsx(P,{type:"email",value:ue.email,onChange:e=>he(s=>({...s,email:e.target.value}))}):e.jsx("p",{className:"text-sm",children:ue.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Phone"}),ee?e.jsx(P,{type:"tel",value:ue.phone,onChange:e=>{const s=e.target.value.replace(/\D/g,"");s.length<=10&&he(e=>({...e,phone:s}))},placeholder:"10 digit mobile number",maxLength:10}):e.jsx("p",{className:"text-sm",children:ue.phone})]}),ee?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(C,{htmlFor:"pincode",children:"PIN Code"}),e.jsx(M,{value:ue.pincode||"",state:xe.selectedState,district:xe.selectedDistrict,city:xe.selectedCity,onChange:(e,s)=>{if(he(s=>({...s,pincode:e})),s){const t=U.getDistricts(s.state),a=U.getCities(s.state,s.district);fe(e=>({...e,selectedState:s.state||"",selectedDistrict:s.district||"",selectedCity:s.city||"",districts:t,cities:a})),he(t=>({...t,location:`${s.city}, ${s.district}, ${s.state}`,pincode:e})),r({title:"Location Auto-filled âœ“",description:`${s.city}, ${s.district}, ${s.state}`})}},placeholder:"Enter PIN code to auto-fill location...",className:"w-full"}),e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Type your PIN code to auto-fill state, district, and city"}),ue.pincode&&xe.selectedCity&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3"}),"Location: ",xe.selectedCity,", ",xe.selectedDistrict,", ",xe.selectedState]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"State"}),e.jsxs(k,{value:xe.selectedState,onValueChange:Ne,children:[e.jsx(D,{children:e.jsx(R,{placeholder:"Select state"})}),e.jsx(F,{children:xe.states.map(s=>e.jsx(q,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"District"}),e.jsxs(k,{value:xe.selectedDistrict,onValueChange:we,disabled:!xe.selectedState,children:[e.jsx(D,{children:e.jsx(R,{placeholder:xe.selectedState?xe.loadingDistricts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(F,{children:xe.districts.map(s=>e.jsx(q,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"City"}),e.jsxs(k,{value:xe.selectedCity,onValueChange:be,disabled:!xe.selectedDistrict,children:[e.jsx(D,{children:e.jsx(R,{placeholder:xe.selectedState?xe.selectedDistrict?xe.loadingCities?"Loading cities...":"Select city":"Select district first":"Select state first"})}),e.jsx(F,{children:xe.cities.map(s=>e.jsx(q,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Street Address"}),e.jsx(P,{value:ue.address,onChange:e=>he(s=>({...s,address:e.target.value})),placeholder:"House/Flat number, Street name, Area"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Location"}),e.jsx("p",{className:"text-sm",children:ne?.profile?.address?Se(ne.profile.address):"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Address"}),e.jsx("p",{className:"text-sm",children:ue.address||"Not specified"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"PIN Code"}),e.jsx("p",{className:"text-sm",children:ne?.profile?.address?.zipCode||ue.pincode||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{children:"Bio"}),ee?e.jsx(A,{rows:3,value:ue.bio,onChange:e=>he(s=>({...s,bio:e.target.value}))}):e.jsx("p",{className:"text-sm",children:ue.bio})]}),ee&&e.jsxs("div",{className:"flex gap-2 pt-4 "+(Z?"flex-col":""),children:[e.jsx(l,{onClick:async()=>{if(ne)try{re(!0);const e={notifications:{email:!0,sms:!1,push:!0},privacy:{showEmail:!1,showPhone:!1}},s=ne.profile?.preferences,t=s?{notifications:{email:s.notifications?.email??e.notifications.email,sms:s.notifications?.sms??e.notifications.sms,push:s.notifications?.push??e.notifications.push},privacy:{showEmail:s.privacy?.showEmail??e.privacy.showEmail,showPhone:s.privacy?.showPhone??e.privacy.showPhone}}:e,a={profile:{firstName:ue.name.split(" ")[0]||"",lastName:ue.name.split(" ").slice(1).join(" ")||"",phone:ue.phone,address:{street:ue.address,city:xe.selectedCity||ue.location.split(",")[0]?.trim()||"",district:xe.selectedDistrict||"",state:xe.selectedState||ue.location.split(",")[1]?.trim()||"",zipCode:ue.pincode||""},preferences:t}};await i.updateCurrentUser(a),await Ce(),se(!1)}catch(e){}finally{re(!1)}},disabled:ie,className:Z?"w-full":"",children:ie?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Save Changes"]})}),e.jsxs(l,{variant:"outline",onClick:()=>{se(!1)},className:Z?"w-full":"",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(S,{children:"Account Statistics"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Owned Properties"})]}),e.jsx("span",{className:"font-semibold",children:ge.ownedProperties})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Inquiries Sent"})]}),e.jsx("span",{className:"font-semibold",children:ge.inquiriesSent})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Properties Viewed"})]}),e.jsx("span",{className:"font-semibold",children:ge.propertiesViewed.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm",children:"Total Favorites"})]}),e.jsx("span",{className:"font-semibold",children:ge.totalFavorites})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:"Saved Searches"})]}),e.jsx("span",{className:"font-semibold",children:ge.savedSearches})]})]})})]})]}),e.jsx(h,{className:"border-primary/20 bg-primary/5",children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex "+(Z?"flex-col gap-4":"items-center justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Your Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure notifications, privacy, security, and account settings"})]})]}),e.jsx(l,{onClick:()=>window.location.href="/v2/customer/settings",className:Z?"w-full":"",children:"Go to Settings"})]})})})]}),e.jsx(u,{value:"activity",className:"space-y-6",children:e.jsxs(h,{children:[e.jsx(b,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(x,{children:!te&&ve.length>0?e.jsx("div",{className:"space-y-4",children:ve.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${(e=>{switch(e){case"property_posted":return"bg-green-500";case"inquiry":return"bg-blue-500";case"favorite":return"bg-red-500";case"search":return"bg-purple-500";default:return"bg-gray-500"}})(s.type)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:z.formatTimeAgo(s.timestamp)})]})]},s.id))}):te?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading activity..."})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(K,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start browsing properties to see your activity here"})]})})]})})]})]})};export{X as default};
