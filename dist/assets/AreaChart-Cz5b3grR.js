import{f as e,L as t,J as n,n as r,C as a,A as i,l as o,h as s,K as l,m as c,M as u,o as p,u as y,i as f,G as h,j as m,N as d,D as v,y as b,H as x,X as A,Y as g,O}from"./generateCategoricalChart-BcNksiWQ.js";import{R as P,r as E}from"./router-D8v2YSKU.js";import{al as j}from"./index-DvBXyKtT.js";var w,k=["layout","type","stroke","connectNulls","isRange","ref"],S=["key"];function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function T(e,t,n){return t=R(t),function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(I=function(){return!!e})()}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==C(t)?t:t+""}var F=function(){function h(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(e=T(this,h,[].concat(n)),"state",{isAnimationFinished:!0}),_(e,"id",y("recharts-area-")),_(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),f(t)&&t()}),_(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),f(t)&&t()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(h,E.PureComponent),m=h,v=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(d=[{key:"renderDots",value:function(n,r,a){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,p=e(this.props,!1),y=e(l,!0),f=c.map(function(e,t){var n=N(N(N({key:"dot-".concat(t),r:3},p),y),{},{index:t,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return h.renderDotItem(l,n)}),m={clipPath:n?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return P.createElement(t,D({className:"recharts-area-dots"},m),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,a=t.baseLine,i=t.points,o=t.strokeWidth,s=i[0].x,l=i[i.length-1].x,c=e*Math.abs(s-l),u=n(i.map(function(e){return e.y||0}));return r(a)&&"number"==typeof a?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max(n(a.map(function(e){return e.y||0})),u)),r(u)?P.createElement("rect",{x:s<l?s:s-c,y:0,width:c,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,a=t.baseLine,i=t.points,o=t.strokeWidth,s=i[0].y,l=i[i.length-1].y,c=e*Math.abs(s-l),u=n(i.map(function(e){return e.x||0}));return r(a)&&"number"==typeof a?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max(n(a.map(function(e){return e.x||0})),u)),r(u)?P.createElement("rect",{x:0,y:s<l?s:s-c,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(n,r,i,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,p=s.connectNulls,y=s.isRange;s.ref;var f=M(s,k);return P.createElement(t,{clipPath:i?"url(#clipPath-".concat(o,")"):null},P.createElement(a,D({},e(f,!0),{points:n,connectNulls:p,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==u&&P.createElement(a,D({},e(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:p,fill:"none",points:n})),"none"!==u&&y&&P.createElement(a,D({},e(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:p,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(e,n){var a=this,c=this.props,u=c.points,p=c.baseLine,y=c.isAnimationActive,f=c.animationBegin,h=c.animationDuration,m=c.animationEasing,d=c.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return P.createElement(i,{begin:f,duration:h,isActive:y,easing:m,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(i){var c=i.t;if(b){var y,f=b.length/u.length,h=u.map(function(e,t){var n=Math.floor(t*f);if(b[n]){var r=b[n],a=o(r.x,e.x),i=o(r.y,e.y);return N(N({},e),{},{x:a(c),y:i(c)})}return e});return y=r(p)&&"number"==typeof p?o(x,p)(c):s(p)||l(p)?o(x,0)(c):p.map(function(e,t){var n=Math.floor(t*f);if(x[n]){var r=x[n],a=o(r.x,e.x),i=o(r.y,e.y);return N(N({},e),{},{x:a(c),y:i(c)})}return e}),a.renderAreaStatically(h,y,e,n)}return P.createElement(t,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(n)},a.renderClipRect(c))),P.createElement(t,{clipPath:"url(#animationClipPath-".concat(n,")")},a.renderAreaStatically(u,p,e,n)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,u=o.totalLength;return i&&r&&r.length&&(!s&&u>0||!c(s,r)||!c(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var n,r=this.props,a=r.hide,i=r.dot,o=r.points,l=r.className,c=r.top,y=r.left,f=r.xAxis,h=r.yAxis,m=r.width,d=r.height,v=r.isAnimationActive,b=r.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,A=1===o.length,g=j("recharts-area",l),O=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,w=O||E,k=s(b)?this.id:b,S=null!==(n=e(i,!1))&&void 0!==n?n:{r:3,strokeWidth:2},C=S.r,M=void 0===C?3:C,D=S.strokeWidth,L=void 0===D?2:D,N=(u(i)?i:{}).clipDot,B=void 0===N||N,T=2*M+L;return P.createElement(t,{className:g},O||E?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(k)},P.createElement("rect",{x:O?y:y-m/2,y:E?c:c-d/2,width:O?m:2*m,height:E?d:2*d})),!B&&P.createElement("clipPath",{id:"clipPath-dots-".concat(k)},P.createElement("rect",{x:y-T/2,y:c-T/2,width:m+T,height:d+T}))):null,A?null:this.renderArea(w,k),(i||A)&&this.renderDots(w,B,k),(!v||x)&&p.renderCallByParent(this.props,o))}}])&&B(m.prototype,d),v&&B(m,v),Object.defineProperty(m,"prototype",{writable:!1}),m;var m,d,v}();w=F,_(F,"displayName","Area"),_(F,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!h.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),_(F,"getBaseValue",function(e,t,n,a){var i=e.layout,o=e.baseValue,s=t.props.baseValue,l=null!=s?s:o;if(r(l)&&"number"==typeof l)return l;var c="horizontal"===i?a:n,u=c.scale.domain();if("number"===c.type){var p=Math.max(u[0],u[1]),y=Math.min(u[0],u[1]);return"dataMin"===l?y:"dataMax"===l||p<0?p:Math.max(Math.min(u[0],u[1]),0)}return"dataMin"===l?u[0]:"dataMax"===l?u[1]:u[0]}),_(F,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,p=e.dataStartIndex,y=e.displayedData,f=e.offset,h=n.layout,v=u&&u.length,b=w.getBaseValue(n,r,a,i),x="horizontal"===h,A=!1,g=y.map(function(e,t){var n;v?n=u[p+t]:(n=m(e,c),Array.isArray(n)?A=!0:n=[b,n]);var r=null==n[1]||v&&null==m(e,c);return x?{x:d({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:d({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=v||A?g.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):x?i.scale(b):a.scale(b),N({points:g,baseLine:t,layout:h,isRange:A},f)}),_(F,"renderDotItem",function(e,t){var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(f(e))n=e(t);else{var r=j("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=M(t,S);n=P.createElement(v,D({},i,{key:a,className:r}))}return n});var W=b({chartName:"BarChart",GraphicalChild:x,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:A},{axisType:"yAxis",AxisComp:g}],formatAxisMap:O}),K=b({chartName:"AreaChart",GraphicalChild:F,axisComponents:[{axisType:"xAxis",AxisComp:A},{axisType:"yAxis",AxisComp:g}],formatAxisMap:O});export{K as A,W as B,F as a};
