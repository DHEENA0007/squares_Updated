const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BElMMwCt.js","assets/ui-DHQhougw.js","assets/router-Bi51YGN-.js","assets/vendor-eVk5PToZ.js"])))=>i.map(i=>d[i]);
import{u as e,N as s,L as a,I as t,E as r,f as n,F as o,t as i,_ as d}from"./index-BElMMwCt.js";import{j as l}from"./ui-DHQhougw.js";import{d as c,u as m,r as u,L as x}from"./router-Bi51YGN-.js";import{E as h}from"./eye-off-Do1hz3K5.js";import"./vendor-eVk5PToZ.js";const p=()=>{const p=c(),j=m(),{login:v}=e(),[g,f]=u.useState(""),[b,N]=u.useState(""),[y,w]=u.useState(!1),[S,E]=u.useState(!1),_=j.state?.from?.pathname||null;return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(s,{}),l.jsx("main",{className:"container mx-auto px-4 py-12",children:l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-center text-muted-foreground mb-8",children:"Sign in to your BuildHomeMart account"}),l.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),g&&b){w(!0);try{if(await v(g,b)){const e=JSON.parse(localStorage.getItem("user")||"{}");if("agent"===e.role){i({title:"Access Denied",description:"Vendors must use the vendor login portal. Redirecting...",variant:"destructive"});const{authService:e}=await d(async()=>{const{authService:e}=await import("./index-BElMMwCt.js").then(e=>e.be);return{authService:e}},__vite__mapDeps([0,1,2,3]));return e.clearAuthData(),void setTimeout(()=>{p("/vendor/login")},1500)}_?p(_,{replace:!0}):"superadmin"===e.role?p("/admin/dashboard"):"subadmin"===e.role?p("/subadmin/dashboard"):"admin"===e.role?p("/admin/dashboard"):p("/customer/dashboard")}}catch(s){}finally{w(!1)}}else i({title:"Validation Error",description:"Please enter both email and password",variant:"destructive"})},className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(a,{htmlFor:"email",children:"Email"}),l.jsx(t,{id:"email",type:"email",placeholder:"you@example.com",required:!0,value:g,onChange:e=>f(e.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(a,{htmlFor:"password",children:"Password"}),l.jsx(x,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(t,{id:"password",type:S?"text":"password",placeholder:"Enter your password",required:!0,value:b,onChange:e=>N(e.target.value),className:"pr-10"}),l.jsx("button",{type:"button",onClick:()=>E(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:S?l.jsx(h,{className:"h-5 w-5"}):l.jsx(r,{className:"h-5 w-5"})})]})]}),l.jsx(n,{type:"submit",className:"w-full",disabled:y,children:y?"Signing In...":"Sign In"})]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Don't have an account?"," ",l.jsx(x,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})})}),l.jsx(o,{})]})};export{p as default};
