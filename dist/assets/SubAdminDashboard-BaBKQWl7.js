import{j as e}from"./ui-DOY6021Z.js";import{r as a}from"./router-2SVJvIbS.js";import{n as b,C as n,$ as i,ai as p,U as v,B as f,a as d,b as c,c as l,e as x}from"./index-DJqidggL.js";import{T as m}from"./triangle-alert-0uhB3Tk-.js";import"./vendor-Dazix4UH.js";const S=()=>{const[t,u]=a.useState({pendingPropertyReviews:0,approvedProperties:0,rejectedProperties:0,pendingSupportTickets:0,pendingPromotions:0,totalVendors:0,newContentReports:0}),[h,g]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const r=await fetch("/api/admin/subadmin/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(r.ok){const o=await r.json();u(o.stats)}}catch(r){console.error("Failed to fetch dashboard stats:",r)}finally{g(!1)}})()},[]);const j=[{title:"Pending Reviews",value:t.pendingPropertyReviews,icon:b,color:"text-orange-600",bgColor:"bg-orange-100",description:"Properties awaiting review"},{title:"Approved Properties",value:t.approvedProperties,icon:n,color:"text-green-600",bgColor:"bg-green-100",description:"Recently approved"},{title:"Support Tickets",value:t.pendingSupportTickets,icon:i,color:"text-blue-600",bgColor:"bg-blue-100",description:"Pending tickets"},{title:"Content Reports",value:t.newContentReports,icon:m,color:"text-red-600",bgColor:"bg-red-100",description:"New moderation reports"},{title:"Pending Promotions",value:t.pendingPromotions,icon:p,color:"text-purple-600",bgColor:"bg-purple-100",description:"Awaiting approval"},{title:"Active Vendors",value:t.totalVendors,icon:v,color:"text-indigo-600",bgColor:"bg-indigo-100",description:"Total vendors tracked"}];return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Sub Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage property reviews, content moderation, and customer support"})]}),e.jsx(f,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Sub Admin Panel"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((s,r)=>{const o=s.icon;return e.jsxs(d,{className:"transition-all hover:shadow-md",children:[e.jsxs(c,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("div",{className:`p-2 rounded-md ${s.bgColor}`,children:e.jsx(o,{className:`w-4 h-4 ${s.color}`})})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:s.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]},r)})}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(l,{children:"Quick Actions"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg cursor-pointer hover:bg-accent transition-colors",children:[e.jsx(n,{className:"w-8 h-8 text-green-600 mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Review Properties"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and verify new property listings"})]}),e.jsxs("div",{className:"p-4 border rounded-lg cursor-pointer hover:bg-accent transition-colors",children:[e.jsx(i,{className:"w-8 h-8 text-blue-600 mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Handle Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Respond to customer support tickets"})]}),e.jsxs("div",{className:"p-4 border rounded-lg cursor-pointer hover:bg-accent transition-colors",children:[e.jsx(m,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Moderate Content"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Review reported content and images"})]}),e.jsxs("div",{className:"p-4 border rounded-lg cursor-pointer hover:bg-accent transition-colors",children:[e.jsx(p,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Approve Promotions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Review featured property requests"})]})]})})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsx(l,{children:"Recent Activity"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Property #1234 approved"})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Support ticket #5678 resolved"})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(m,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-sm",children:"Content report #9012 reviewed"})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"6 hours ago"})]})]})})]})]})};export{S as default};
