import{t}from"./index-CV77Hym3.js";const e=new class{async makeRequest(t,e={}){const a=`https://api.buildhomemartsquares.com/api${t}`,s={headers:{"Content-Type":"application/json",...e.headers},...e},r=localStorage.getItem("token");r&&(s.headers={...s.headers,Authorization:`Bearer ${r}`});try{const t=await fetch(a,s);if(!t.ok){const e=await t.json().catch(()=>({success:!1,message:`HTTP ${t.status}: ${t.statusText}`}));throw new Error(e.message||"An error occurred")}return await t.json()}catch(o){throw o}}async getAddons(e){try{const t=new URLSearchParams;e&&t.append("category",e);const a="/addons"+(t.toString()?"?"+t.toString():""),s=await this.makeRequest(a);if(s.success&&s.data)return s.data.addons;throw new Error("Failed to fetch addons")}catch(a){const e=a instanceof Error?a.message:"Failed to fetch addons";throw t({title:"Error",description:e,variant:"destructive"}),a}}async getAddonById(e){try{const t=await this.makeRequest(`/addons/${e}`);if(t.success&&t.data)return t.data;throw new Error("Failed to fetch addon")}catch(a){const e=a instanceof Error?a.message:"Failed to fetch addon";throw t({title:"Error",description:e,variant:"destructive"}),a}}};export{e as a};
