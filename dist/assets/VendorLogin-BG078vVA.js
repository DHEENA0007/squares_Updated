import{j as e}from"./ui-s1SEoZIF.js";import{d as s,u as a,r,L as t}from"./router-D8v2YSKU.js";import{u as i,t as l,N as n,B as o,S as d,U as c,C as m,a as u,b as x,c as p,d as h,e as j,L as v,M as g,I as f,E as N,f as y,g as b,F as w}from"./index-DvBXyKtT.js";import{S}from"./store-CrZ3lfOa.js";import{T as P}from"./trending-up-D3HFnEB_.js";import{L as k}from"./lock-a8rc1irF.js";import{E as A}from"./eye-off-B0mH-Y5f.js";import"./vendor-BxThA0WO.js";const C=()=>{const C=s(),L=a(),{login:E,logout:F}=i(),[I,B]=r.useState(""),[V,R]=r.useState(""),[T,U]=r.useState(!1),[q,D]=r.useState(!1);r.useEffect(()=>{L.state?.message&&(l({title:"Portal Access",description:L.state.message,variant:"default"}),C(L.pathname,{replace:!0,state:{}}))},[L.state?.message]);const J=[{icon:P,title:"Increase Sales",description:"Reach thousands of potential customers"},{icon:d,title:"Trusted Platform",description:"Secure and reliable business environment"},{icon:c,title:"Customer Base",description:"Access to verified buyers and sellers"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(n,{}),e.jsx("main",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs(o,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Partner with Us"]}),e.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:["Become a ",e.jsx("span",{className:"text-primary",children:"Vendor"})," Partner"]}),e.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Join our growing network of trusted vendors and expand your business reach in the real estate market."})]}),e.jsx("div",{className:"space-y-6",children:J.map((s,a)=>{const r=s.icon;return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(r,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:s.description})]})]},a)})}),e.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(m,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-semibold",children:"Why Choose Us?"})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:"• No setup fees or hidden charges"}),e.jsx("li",{children:"• 24/7 customer support"}),e.jsx("li",{children:"• Real-time analytics dashboard"}),e.jsx("li",{children:"• Marketing and promotional support"})]})]})]}),e.jsx("div",{className:"max-w-md mx-auto w-full",children:e.jsxs(u,{children:[e.jsxs(x,{className:"text-center",children:[e.jsx(p,{className:"text-2xl",children:"Vendor Login"}),e.jsx(h,{children:"Sign in to your vendor dashboard"})]}),e.jsxs(j,{children:[e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),I&&V){U(!0);try{const e=await E(I,V);if(e.success){const e=localStorage.getItem("user"),s=e?JSON.parse(e):null;if("agent"!==s?.role){F(!0);let e="Customer Portal";return"admin"===s?.role||"superadmin"===s?.role?e="Admin Portal":"subadmin"===s?.role&&(e="Sub-Admin Portal"),l({title:"Incorrect Portal",description:`Please login through the ${e} to access your account.`,variant:"default"}),void setTimeout(()=>{C("/login")},2e3)}l({title:"Login Successful",description:"Welcome to your vendor dashboard!"}),C("/vendor/dashboard")}else{let s=e.error||"Invalid email or password. Please try again.";if(s.includes("pending approval")||s.includes("profile is under review")||s.includes("awaiting admin approval"))return void l({title:"Account Pending Approval",description:"Your vendor profile is currently under review by our admin team. You will receive an email notification once your account is approved.",variant:"default",duration:8e3});l({title:"Login Failed",description:s,variant:"destructive"})}}catch(s){l({title:"Login Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{U(!1)}}else l({title:"Validation Error",description:"Please enter both email and password",variant:"destructive"})},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(f,{id:"email",type:"email",placeholder:"vendor@example.com",value:I,onChange:e=>B(e.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(f,{id:"password",type:q?"text":"password",placeholder:"Enter your password",value:V,onChange:e=>R(e.target.value),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>D(!q),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:q?e.jsx(A,{className:"h-5 w-5"}):e.jsx(N,{className:"h-5 w-5"})})]})]}),e.jsx(y,{type:"submit",className:"w-full",disabled:T,children:T?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(b,{})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"New vendor?"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(t,{to:"/vendor/register",children:e.jsx(y,{variant:"outline",className:"w-full",children:"Register as Vendor"})})})]}),e.jsx("div",{className:"mt-6 text-center text-sm",children:e.jsx(t,{to:"/vendor/forgot-password",className:"text-primary hover:underline",children:"Forgot your password?"})})]})]})})]})}),e.jsx(w,{})]})};export{C as default};
