import{j as e}from"./ui-BNZSgpjP.js";import{R as s,u as r,r as a}from"./router-D8v2YSKU.js";import{a as t,b as i,c as o,bC as l,e as n,M as d,am as c,B as m,ac as p,g as u,U as x,l as f,t as b,G as g,f as h,ap as N,aq as j,ar as v,k as y,Q as w,h as k,ao as C,J as S,E as P,af as E,ag as I,ah as R,x as M,p as A,ai as F,L as T,I as U,T as V,q as B,r as z,s as q,v as L,w as $,y as _,S as D,C as G}from"./index-R8qjqeWQ.js";import{vendorService as H}from"./vendorService-C-zL5RHm.js";import{m as O}from"./messageService-DEnHG-B5.js";import{P as W}from"./PincodeAutocomplete-Bx3ZWy6C.js";import{P as J}from"./PasswordChangeDialog-Cv8M7bcj.js";import{G as Y}from"./globe-DpEiGoOw.js";import{T as K}from"./trending-up-CVpY9opj.js";import{C as Q}from"./circle-alert-BSL3vYK9.js";import{u as X}from"./uploadService-C_cH8Ofp.js";import{u as Z}from"./use-mobile-C5fBmhy-.js";import{C as ee}from"./camera-C0H_RARp.js";import{S as se}from"./square-pen-DcWautNu.js";import{I as re}from"./indian-rupee-CvDJtFOj.js";import{K as ae}from"./key-BqcEodyh.js";import"./vendor-BxThA0WO.js";import"./reviewsService-BLYHoBby.js";import"./alert-CROWZmjy.js";import"./input-otp-CCIKPLoG.js";import"./eye-off-Cx26etFk.js";const te=({preferences:r,businessPreferences:a,onChange:f,onBusinessChange:b,onTestPushNotification:g,onTestEmail:h,showTestButtons:N=!1,supportEmail:j="support@buildhomemartsquares.com"})=>{const v=[{key:"email",icon:d,color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/30",title:"Email Notifications",description:"Receive updates and alerts via email",isCore:!0},{key:"push",icon:l,color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/30",title:"Push Notifications",description:"Browser notifications for instant updates",isCore:!0},{key:"newMessages",icon:c,color:"text-indigo-500",bgColor:"bg-indigo-100 dark:bg-indigo-900/30",title:"New Message Alerts",description:"Get notified when you receive new messages from customers",requiresEmail:!0},{key:"newsUpdates",icon:Y,color:"text-teal-500",bgColor:"bg-teal-100 dark:bg-teal-900/30",title:"News & Updates",description:"Real estate market news and platform updates",requiresEmail:!0},{key:"marketing",icon:K,color:"text-green-500",bgColor:"bg-green-100 dark:bg-green-900/30",title:"Marketing Communications",description:"Platform announcements and promotional content",requiresEmail:!0}],y=[{key:"emailNotifications",icon:d,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30",title:"Business Email Notifications",description:"General business communications and updates",isCore:!0},{key:"weeklyReports",icon:K,color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-900/30",title:"Weekly Reports",description:"Weekly performance reports and analytics",requiresBusiness:!0},{key:"marketingEmails",icon:K,color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30",title:"Marketing Emails",description:"Business growth tips and marketing opportunities",requiresBusiness:!0}],w=e=>e.requiresEmail&&!r.email,k=e=>e.requiresBusiness&&!a.emailNotifications;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"border-0 shadow-md",children:[e.jsx(i,{className:"border-b bg-muted/30 pb-4",children:e.jsxs(o,{className:"flex items-center gap-2 text-lg",children:[e.jsx(l,{className:"w-5 h-5 text-primary"}),"General Notification Preferences"]})}),e.jsx(n,{className:"p-6 space-y-6",children:e.jsx("div",{className:"space-y-4",children:v.map((a,t)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${a.bgColor} transition-colors group-hover:scale-105 duration-200`,children:e.jsx(a.icon,{className:`w-5 h-5 ${a.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-sm",children:a.title}),a.isCore&&e.jsx(m,{variant:"secondary",className:"text-[10px] h-5 px-1.5 bg-muted text-muted-foreground",children:"Core"}),w(a)&&e.jsx(m,{variant:"outline",className:"text-[10px] h-5 px-1.5 text-amber-600 border-amber-200 bg-amber-50 dark:bg-amber-900/10 dark:border-amber-900/30",children:"Requires Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:a.description}),w(a)&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-xs text-amber-600 dark:text-amber-500 bg-amber-50 dark:bg-amber-900/10 p-1.5 rounded-lg w-fit",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:"Enable email notifications first"})]})]})]}),e.jsx(p,{checked:r[a.key],onCheckedChange:e=>f(a.key,e),disabled:w(a),className:"data-[state=checked]:bg-primary"})]}),t<v.length-1&&e.jsx(u,{className:"bg-border/50"})]},a.key))})})]}),e.jsxs(t,{className:"border-0 shadow-md",children:[e.jsx(i,{className:"border-b bg-muted/30 pb-4",children:e.jsxs(o,{className:"flex items-center gap-2 text-lg",children:[e.jsx(x,{className:"w-5 h-5 text-primary"}),"Business Notification Preferences"]})}),e.jsx(n,{className:"p-6 space-y-6",children:e.jsx("div",{className:"space-y-4",children:y.map((r,t)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${r.bgColor} transition-colors group-hover:scale-105 duration-200`,children:e.jsx(r.icon,{className:`w-5 h-5 ${r.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-sm",children:r.title}),r.isCore&&e.jsx(m,{variant:"secondary",className:"text-[10px] h-5 px-1.5 bg-muted text-muted-foreground",children:"Core"}),k(r)&&e.jsx(m,{variant:"outline",className:"text-[10px] h-5 px-1.5 text-amber-600 border-amber-200 bg-amber-50 dark:bg-amber-900/10 dark:border-amber-900/30",children:"Requires Business Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:r.description}),k(r)&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-xs text-amber-600 dark:text-amber-500 bg-amber-50 dark:bg-amber-900/10 p-1.5 rounded-lg w-fit",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:"Enable business email notifications first"})]})]})]}),e.jsx(p,{checked:a[r.key],onCheckedChange:e=>b(r.key,e),disabled:k(r),className:"data-[state=checked]:bg-primary"})]}),t<y.length-1&&e.jsx(u,{className:"bg-border/50"})]},r.key))})})]})]})},ie=()=>{Z();const c=r(),[K,Q]=a.useState(!1),[ie,oe]=a.useState(!0),[le,ne]=a.useState(!1),[de,ce]=a.useState(null),[me,pe]=a.useState(null),[ue,xe]=a.useState(()=>c.pathname.includes("/settings")?"settings":"profile"),[fe,be]=a.useState(null),[ge,he]=a.useState(!1),Ne=s.useRef(null),[je,ve]=a.useState(null),[ye,we]=a.useState(!0),[ke,Ce]=a.useState([]),[Se,Pe]=a.useState([]),[Ee,Ie]=a.useState([]),[Re,Me]=a.useState({states:!1,districts:!1,cities:!1}),[Ae,Fe]=a.useState({notifications:{email:!0,push:!0,newMessages:!0,newsUpdates:!0,marketing:!1},business:{emailNotifications:!0,smsNotifications:!1,leadAlerts:!0,marketingEmails:!1,weeklyReports:!0,autoResponseEnabled:!1,autoResponseMessage:"Thank you for your interest! I'll get back to you soon."}}),[Te,Ue]=a.useState(!1);a.useCallback(async(e,s,r)=>{Fe(a=>({...a,[e]:{...a[e],[s]:r}}))},[]),a.useEffect(()=>{(async()=>{try{Me(e=>({...e,states:!0})),await f.initialize();const e=f.getStates();Ce(e),await Promise.all([Ve(),ze(),Be()])}catch(e){}finally{Me(e=>({...e,states:!1}))}})()},[]),a.useEffect(()=>{c.pathname.includes("/settings")?xe("settings"):c.pathname.includes("/profile")&&xe("profile")},[c.pathname]),a.useEffect(()=>{if(!me?.profile?.address?.state)return void Pe([]);const e=f.getDistricts(me.profile.address.state);Pe(e)},[me?.profile?.address?.state]),a.useEffect(()=>{if(!me?.profile?.address?.state||!me?.profile?.address?.district)return void Ie([]);const e=f.getCities(me.profile.address.state,me.profile.address.district);Ie(e)},[me?.profile?.address?.state,me?.profile?.address?.district]),a.useEffect(()=>{if(ie)return;const e=setTimeout(()=>{qe()},1500);return()=>clearTimeout(e)},[Ae,ie]);const Ve=async()=>{try{oe(!0);const e=await H.getVendorProfile(),s={...e,profile:{...e.profile,preferences:{language:e.profile.preferences?.language||"en",notifications:{email:e.profile.preferences?.notifications?.email??!0,push:e.profile.preferences?.notifications?.push??!0,newMessages:e.profile.preferences?.notifications?.newMessages??!0,newsUpdates:e.profile.preferences?.notifications?.newsUpdates??!0,marketing:e.profile.preferences?.notifications?.marketing??!0},privacy:{showEmail:e.profile.preferences?.privacy?.showEmail??!1,showPhone:e.profile.preferences?.privacy?.showPhone??!1,allowMessages:e.profile.preferences?.privacy?.allowMessages??!0}}}};ce(s),pe(s),localStorage.setItem("user",JSON.stringify(s))}catch(e){b({title:"Error",description:"Failed to load vendor profile. Please try again.",variant:"destructive"})}finally{oe(!1)}},Be=async()=>{try{we(!0);const e=await fetch("https://app.buildhomemartsquares.com/api/vendors/subscription/current",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const s=await e.json();s.success&&s.data&&ve(s.data)}}catch(e){}finally{we(!1)}},ze=async()=>{try{const e=await H.getVendorProfile();if(e&&e.profile.vendorInfo?.vendorPreferences){const s=e.profile.vendorInfo.vendorPreferences,r={notifications:{email:e.profile?.preferences?.notifications?.email??!0,push:e.profile?.preferences?.notifications?.push??!0,newMessages:e.profile?.preferences?.notifications?.newMessages??!0,newsUpdates:e.profile?.preferences?.notifications?.newsUpdates??!0,marketing:e.profile?.preferences?.notifications?.marketing??!0},business:{emailNotifications:s.emailNotifications??!0,smsNotifications:s.smsNotifications??!0,leadAlerts:s.leadAlerts??!0,marketingEmails:s.marketingEmails??!1,weeklyReports:s.weeklyReports??!0,autoResponseEnabled:s.autoResponseEnabled??!1,autoResponseMessage:s.autoResponseMessage||"Thank you for your interest! I will get back to you soon."}};Fe(r)}}catch(e){b({title:"Settings Load Failed",description:"Using default settings. Changes will be saved to server.",variant:"default"})}},qe=async()=>{try{ne(!0);const s=Le(Ae);s.isValid||b({title:"Validation Warning",description:s.message,variant:"default"});try{const e={profile:{preferences:{notifications:{email:Ae.notifications.email,push:Ae.notifications.push,newMessages:Ae.notifications.newMessages,newsUpdates:Ae.notifications.newsUpdates,marketing:Ae.notifications.marketing}},vendorInfo:{vendorPreferences:{emailNotifications:Ae.business.emailNotifications,smsNotifications:Ae.business.smsNotifications,leadAlerts:Ae.business.leadAlerts,marketingEmails:Ae.business.marketingEmails,weeklyReports:Ae.business.weeklyReports,autoResponseEnabled:Ae.business.autoResponseEnabled,autoResponseMessage:Ae.business.autoResponseMessage}}}};await H.updateVendorProfile(e),be((new Date).toISOString()),b({title:"Settings Saved",description:"Your preferences have been updated on the server"})}catch(e){b({title:"Save Failed",description:"Unable to save settings to server. Please try again.",variant:"destructive"})}}catch(s){b({title:"Save Failed",description:s.message||"Unable to save vendor settings.",variant:"destructive"})}finally{ne(!1)}},Le=e=>!e.business.emailNotifications||e.business.leadAlerts||e.notifications.newMessages?e.business.autoResponseEnabled&&!e.business.autoResponseMessage.trim()?{isValid:!1,message:"Auto-response enabled but no message set. Please provide a response message."}:{isValid:!0,message:""}:{isValid:!1,message:"Business email enabled but no notification types selected. Consider enabling lead alerts or new message notifications."},$e=async e=>{try{"inquiry"!==e.type&&"lead"!==e.type&&"property_inquiry"!==e.type||O.isAutoResponse(e)||await(async(e,s)=>{try{if(!Ae.business.autoResponseEnabled||!Ae.business.autoResponseMessage.trim())return;await O.sendAutoResponse(e,s,Ae.business.autoResponseMessage)}catch(r){}})(e.conversationId,e.sender._id)}catch(s){}};s.useEffect(()=>(Ae.business.autoResponseEnabled?window.vendorAutoResponseHandler=$e:delete window.vendorAutoResponseHandler,()=>{delete window.vendorAutoResponseHandler}),[Ae.business.autoResponseEnabled,Ae.business.autoResponseMessage]);const _e=a.useCallback((e,s)=>{pe(r=>{if(!r)return r;const a=e.split("."),t={...r};let i=t;for(let e=0;e<a.length-1;e++)i[a[e]]||(i[a[e]]={}),i[a[e]]={...i[a[e]]},i=i[a[e]];return i[a[a.length-1]]=s,t})},[]);if(ie)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Loading vendor profile..."})]})});if(!de||!me)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-destructive mb-4",children:"Failed to load vendor profile"}),e.jsx(h,{onClick:Ve,children:"Retry"})]})});const De=`${me.profile.firstName} ${me.profile.lastName}`;return!me.profile.vendorInfo?.memberSince||new Date(me.profile.vendorInfo.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"relative rounded-3xl overflow-hidden bg-background border border-border/50 shadow-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-950/20 dark:via-indigo-950/20 dark:to-purple-950/20 opacity-50"}),e.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-80 h-80 bg-primary/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10 p-6 md:p-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-br from-primary to-purple-600 rounded-full opacity-75 blur group-hover:opacity-100 transition duration-500"}),e.jsxs(N,{className:"h-24 w-24 border-4 border-background relative shadow-xl",children:[e.jsx(j,{src:me.profile.avatar||void 0,className:"object-cover"}),e.jsxs(v,{className:"text-2xl bg-muted text-muted-foreground",children:[me.profile.firstName.charAt(0),me.profile.lastName.charAt(0)]})]}),e.jsx(h,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full shadow-md border border-background",onClick:()=>Ne.current?.click(),disabled:ge,children:ge?e.jsx(g,{className:"h-3 w-3 animate-spin"}):e.jsx(ee,{className:"h-3 w-3"})}),e.jsx("input",{ref:Ne,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;const r=X.validateImageFile(s);if(r.valid)try{he(!0);const e=await X.compressImage(s),r=await X.uploadAvatar(e);if(me){const e=await H.updateVendorProfile({profile:{avatar:r}});ce(e),pe(e),b({title:"Success",description:"Profile picture updated successfully!"})}}catch(a){b({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{he(!1),Ne.current&&(Ne.current.value="")}else b({title:"Invalid File",description:r.error,variant:"destructive"})},className:"hidden"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-foreground",children:De}),je?.plan?.benefits?.verifiedBadge&&e.jsx(m,{variant:"secondary",className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 border-0 px-2 py-0.5 text-[10px] uppercase tracking-wider font-semibold",children:"Verified"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3.5 h-3.5"}),me.email]}),e.jsxs("span",{className:"hidden md:flex items-center gap-1",children:[e.jsx(y,{className:"w-3.5 h-3.5"}),me.profile.address?.city||"Location not set"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(m,{variant:"outline",className:"bg-background/50 backdrop-blur-sm border-yellow-200 text-yellow-700 dark:border-yellow-900/50 dark:text-yellow-500",children:[e.jsx(w,{className:"w-3 h-3 mr-1 fill-current"}),(me.profile.vendorInfo?.rating?.average||0).toFixed(1)," Rating"]}),e.jsxs(m,{variant:"outline",className:"bg-background/50 backdrop-blur-sm border-blue-200 text-blue-700 dark:border-blue-900/50 dark:text-blue-400",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),me.profile.vendorInfo?.responseTime||"2h"," Response"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:K?e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"ghost",onClick:()=>{pe(de),Q(!1)},disabled:le,className:"flex-1 md:flex-none",children:"Cancel"}),e.jsxs(h,{onClick:async()=>{if(me){(()=>{const e=me?.profile?.address;if(!e)return!0;if(e.zipCode&&e.state&&e.district&&e.city&&!f.getLocationByPincode(e.zipCode).some(s=>s.state.toUpperCase()===e.state?.toUpperCase()&&s.district.toUpperCase()===e.district?.toUpperCase()&&s.city.toUpperCase()===e.city?.toUpperCase()))return!1;return!0})()||b({title:"Location Validation",description:"Please verify that your PIN code matches the selected location",variant:"default"});try{ne(!0);const e={profile:{firstName:me.profile.firstName,lastName:me.profile.lastName,phone:me.profile.phone,bio:me.profile.bio,preferences:{language:me.profile.preferences?.language||"en",notifications:{email:me.profile.preferences?.notifications?.email??!0,push:me.profile.preferences?.notifications?.push??!0,newMessages:me.profile.preferences?.notifications?.newMessages??!0,newsUpdates:me.profile.preferences?.notifications?.newsUpdates??!0,marketing:me.profile.preferences?.notifications?.marketing??!0},business:{emailNotifications:me.profile.preferences?.business?.emailNotifications??!0,smsNotifications:me.profile.preferences?.business?.smsNotifications??!0,leadAlerts:me.profile.preferences?.business?.leadAlerts??!0,marketingEmails:me.profile.preferences?.business?.marketingEmails??!1,weeklyReports:me.profile.preferences?.business?.weeklyReports??!0},privacy:{showEmail:me.profile.preferences?.privacy?.showEmail??!1,showPhone:me.profile.preferences?.privacy?.showPhone??!1,allowMessages:me.profile.preferences?.privacy?.allowMessages??!0}},address:{...me.profile.address,street:me.profile.address?.street||"",state:me.profile.address?.state||"",district:me.profile.address?.district||"",city:me.profile.address?.city||"",zipCode:me.profile.address?.zipCode||"",country:me.profile.address?.country||"India"},vendorInfo:me.profile.vendorInfo}},s=await H.updateVendorProfile(e);ce(s),pe(s),Q(!1),b({title:"Success",description:"Profile updated successfully!"})}catch(e){}finally{ne(!1)}}},disabled:le,className:"flex-1 md:flex-none bg-primary text-primary-foreground shadow-lg shadow-primary/20",children:[le?e.jsx(g,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(C,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):e.jsxs(h,{onClick:()=>Q(!0),variant:"outline",className:"flex-1 md:flex-none border-primary/20 hover:bg-primary/5 hover:text-primary hover:border-primary/50 transition-all",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})]}),de.statistics&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Properties",value:de.statistics.totalProperties,icon:S,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"},{label:"Total Views",value:de.statistics.totalViews||"0",icon:P,color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20"},{label:"Leads",value:de.statistics.leadsGenerated||"0",icon:x,color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20"},{label:"Total Value",value:de.statistics.totalValue||"â‚¹0",icon:re,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}].map((s,r)=>e.jsxs("div",{className:"bg-card border border-border/50 rounded-2xl p-4 flex items-center justify-between shadow-sm hover:shadow-md transition-all duration-300 group",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-1",children:s.label}),e.jsx("p",{className:"text-2xl font-bold text-foreground group-hover:scale-105 transition-transform origin-left",children:s.value})]}),e.jsx("div",{className:`p-3 rounded-xl ${s.bg} ${s.color} group-hover:rotate-12 transition-transform duration-300`,children:e.jsx(s.icon,{className:"w-5 h-5"})})]},r))}),e.jsxs(E,{value:ue,onValueChange:xe,className:"space-y-6",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-background/80 backdrop-blur-md py-2 -mx-4 px-4 md:mx-0 md:px-0 border-b border-border/40 md:border-0 md:bg-transparent md:backdrop-blur-none",children:e.jsxs(I,{className:"w-full md:w-auto inline-flex h-12 items-center justify-start rounded-full bg-muted/50 p-1 text-muted-foreground",children:[e.jsxs(R,{value:"profile",className:"rounded-full px-6 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[e.jsx(M,{className:"w-4 h-4 mr-2"})," Personal"]}),e.jsxs(R,{value:"company",className:"rounded-full px-6 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[e.jsx(A,{className:"w-4 h-4 mr-2"})," Company"]}),e.jsxs(R,{value:"notifications",className:"rounded-full px-6 py-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm transition-all",children:[e.jsx(l,{className:"w-4 h-4 mr-2"})," Settings"]})]})}),e.jsx(F,{value:"profile",className:"space-y-6 animate-in fade-in-50 slide-in-from-bottom-2 duration-500",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(t,{className:"border-0 shadow-sm bg-card/50 backdrop-blur-sm",children:[e.jsx(i,{className:"border-b border-border/40 pb-3",children:e.jsxs(o,{className:"flex items-center text-base font-semibold",children:[e.jsx(M,{className:"w-4 h-4 mr-2 text-primary"}),"Basic Information"]})}),e.jsxs(n,{className:"p-5 space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"firstName",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"First Name"}),K?e.jsx(U,{id:"firstName",value:me.profile.firstName,onChange:e=>_e("profile.firstName",e.target.value),className:"h-9 bg-background/50"}):e.jsx("div",{className:"p-2 bg-muted/20 rounded-md text-sm font-medium border border-border/20",children:me.profile.firstName})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"lastName",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Last Name"}),K?e.jsx(U,{id:"lastName",value:me.profile.lastName,onChange:e=>_e("profile.lastName",e.target.value),className:"h-9 bg-background/50"}):e.jsx("div",{className:"p-2 bg-muted/20 rounded-md text-sm font-medium border border-border/20",children:me.profile.lastName})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"bio",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Professional Bio"}),K?e.jsx(V,{id:"bio",value:me.profile.bio||"",onChange:e=>_e("profile.bio",e.target.value),placeholder:"Tell us about yourself...",rows:4,className:"bg-background/50 resize-none text-sm"}):e.jsx("div",{className:"p-3 bg-muted/20 rounded-md text-sm leading-relaxed border border-border/20 min-h-[80px]",children:me.profile.bio||e.jsx("span",{className:"text-muted-foreground italic",children:"No bio provided"})})]})]})]}),e.jsxs(t,{className:"border-0 shadow-sm bg-card/50 backdrop-blur-sm",children:[e.jsx(i,{className:"border-b border-border/40 pb-3",children:e.jsxs(o,{className:"flex items-center text-base font-semibold",children:[e.jsx(y,{className:"w-4 h-4 mr-2 text-primary"}),"Address Details"]})}),e.jsxs(n,{className:"p-5 space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"street",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Street Address"}),K?e.jsx(U,{id:"street",value:me.profile.address?.street||"",onChange:e=>_e("profile.address.street",e.target.value),className:"h-9 bg-background/50"}):e.jsx("div",{className:"p-2 bg-muted/20 rounded-md text-sm font-medium border border-border/20",children:me.profile.address?.street||"Not provided"})]}),K?e.jsxs("div",{className:"space-y-4 bg-muted/10 p-4 rounded-lg border border-border/20",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"state",className:"text-[10px] uppercase font-bold text-muted-foreground",children:"State"}),e.jsxs(B,{value:me.profile.address?.state||"",onValueChange:e=>{_e("profile.address.state",e),_e("profile.address.district",""),_e("profile.address.city",""),_e("profile.address.zipCode","")},disabled:Re.states,children:[e.jsx(z,{className:"h-8 text-xs bg-background",children:e.jsx(q,{placeholder:"Select State"})}),e.jsx(L,{children:ke.map(s=>e.jsx($,{value:s,className:"text-xs",children:s},s))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"district",className:"text-[10px] uppercase font-bold text-muted-foreground",children:"District"}),e.jsxs(B,{value:me.profile.address?.district||"",onValueChange:e=>{_e("profile.address.district",e),_e("profile.address.city",""),_e("profile.address.zipCode","")},disabled:!me.profile.address?.state||Re.districts,children:[e.jsx(z,{className:"h-8 text-xs bg-background",children:e.jsx(q,{placeholder:"Select District"})}),e.jsx(L,{children:Se.map(s=>e.jsx($,{value:s,className:"text-xs",children:s},s))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"city",className:"text-[10px] uppercase font-bold text-muted-foreground",children:"City"}),e.jsxs(B,{value:me.profile.address?.city||"",onValueChange:e=>{_e("profile.address.city",e),_e("profile.address.zipCode","")},disabled:!me.profile.address?.district||Re.cities,children:[e.jsx(z,{className:"h-8 text-xs bg-background",children:e.jsx(q,{placeholder:"Select City"})}),e.jsx(L,{children:Ee.map(s=>e.jsx($,{value:s,className:"text-xs",children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(T,{className:"text-[10px] uppercase font-bold text-muted-foreground flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3"})," Pincode"]}),e.jsx(W,{value:me.profile.address?.zipCode,onChange:(e,s)=>{_e("profile.address.zipCode",e),s&&(setTimeout(()=>{_e("profile.address.state",s.state)},100),setTimeout(()=>{_e("profile.address.district",s.district)},300),setTimeout(()=>{_e("profile.address.city",s.city)},500),b({title:"Location Auto-filled",description:`${s.city}, ${s.district}, ${s.state}`}))},state:me.profile.address?.state,district:me.profile.address?.district,city:me.profile.address?.city,className:"h-8 text-xs"})]})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"State",value:me.profile.address?.state},{label:"District",value:me.profile.address?.district},{label:"City",value:me.profile.address?.city},{label:"Pincode",value:me.profile.address?.zipCode}].map((s,r)=>e.jsxs("div",{className:"p-2 bg-muted/20 rounded-md border border-border/20",children:[e.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground mb-0.5",children:s.label}),e.jsx("p",{className:"text-sm font-medium truncate",children:s.value||"-"})]},r))})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(t,{className:"border-0 shadow-sm bg-card/50 backdrop-blur-sm h-full",children:[e.jsx(i,{className:"border-b border-border/40 pb-3",children:e.jsxs(o,{className:"flex items-center text-base font-semibold",children:[e.jsx(_,{className:"w-4 h-4 mr-2 text-primary"}),"Contact Information"]})}),e.jsxs(n,{className:"p-5 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(T,{className:"text-xs font-semibold text-blue-700 dark:text-blue-400",children:"Email Address"}),e.jsx(m,{variant:"secondary",className:"h-4 text-[10px] bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 px-1.5",children:"Verified"})]}),e.jsxs("div",{className:"flex items-center text-sm font-medium",children:[e.jsx(d,{className:"w-3.5 h-3.5 mr-2 text-blue-500"}),me.email]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-purple-50/50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/20",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx(T,{className:"text-xs font-semibold text-purple-700 dark:text-purple-400",children:"Phone Number"})}),e.jsxs("div",{className:"flex items-center text-sm font-medium",children:[e.jsx(_,{className:"w-3.5 h-3.5 mr-2 text-purple-500"}),me.profile.phone||"Not provided"]})]})]}),e.jsx(u,{className:"bg-border/40"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center",children:[e.jsx(D,{className:"w-3.5 h-3.5 mr-2 text-primary"}),"Privacy Settings"]}),e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/30 rounded-lg transition-colors",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(T,{className:"text-xs font-medium cursor-pointer",htmlFor:"show-email",children:"Show Email"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Visible on public profile"})]}),e.jsx(p,{id:"show-email",checked:me.profile.preferences?.privacy?.showEmail,onCheckedChange:e=>_e("profile.preferences.privacy.showEmail",e),disabled:!K,className:"scale-75 origin-right"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/30 rounded-lg transition-colors",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(T,{className:"text-xs font-medium cursor-pointer",htmlFor:"show-phone",children:"Show Phone"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Visible on public profile"})]}),e.jsx(p,{id:"show-phone",checked:me.profile.preferences?.privacy?.showPhone,onCheckedChange:e=>_e("profile.preferences.privacy.showPhone",e),disabled:!K,className:"scale-75 origin-right"})]})]})]})]})})]})}),e.jsx(F,{value:"company",className:"space-y-6 animate-in fade-in-50 slide-in-from-bottom-2 duration-500",children:e.jsxs(t,{className:"border-0 shadow-sm bg-card/50 backdrop-blur-sm",children:[e.jsx(i,{className:"border-b border-border/40 pb-3",children:e.jsxs(o,{className:"flex items-center text-base font-semibold",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-primary"}),"Company Information"]})}),e.jsx(n,{className:"p-5 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"companyName",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Company Name"}),K?e.jsx(U,{id:"companyName",value:me.profile.vendorInfo?.companyName||"",onChange:e=>_e("profile.vendorInfo.companyName",e.target.value),className:"h-9 bg-background/50"}):e.jsx("div",{className:"p-2 bg-muted/20 rounded-md text-sm font-semibold border border-border/20",children:me.profile.vendorInfo?.companyName||"Not provided"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"businessType",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Business Type"}),K?e.jsxs(B,{value:me.profile.vendorInfo?.businessType||"",onValueChange:e=>_e("profile.vendorInfo.businessType",e),children:[e.jsx(z,{className:"h-9 bg-background/50",children:e.jsx(q,{placeholder:"Select business type"})}),e.jsxs(L,{children:[e.jsx($,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx($,{value:"property_developer",children:"Property Developer"}),e.jsx($,{value:"construction_company",children:"Construction Company"}),e.jsx($,{value:"interior_designer",children:"Interior Designer"}),e.jsx($,{value:"legal_services",children:"Legal Services"}),e.jsx($,{value:"home_loan_provider",children:"Home Loan Provider"}),e.jsx($,{value:"packers_movers",children:"Packers & Movers"}),e.jsx($,{value:"property_management",children:"Property Management"}),e.jsx($,{value:"other",children:"Other"})]})]}):e.jsxs("div",{className:"flex items-center p-2 bg-muted/20 rounded-md text-sm font-medium border border-border/20",children:[e.jsx(A,{className:"w-3.5 h-3.5 mr-2 text-muted-foreground"}),me.profile.vendorInfo?.businessType?me.profile.vendorInfo.businessType.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Not provided"]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"experience",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Experience (Years)"}),K?e.jsx(U,{id:"experience",type:"number",value:me.profile.vendorInfo?.experience||0,onChange:e=>_e("profile.vendorInfo.experience",parseInt(e.target.value)||0),className:"h-9 bg-background/50"}):e.jsxs("div",{className:"flex items-center p-2 bg-muted/20 rounded-md text-sm font-medium border border-border/20",children:[e.jsx(k,{className:"w-3.5 h-3.5 mr-2 text-muted-foreground"}),me.profile.vendorInfo?.experience||0," years"]})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(T,{htmlFor:"website",className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),K?e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(U,{id:"website",value:me.profile.vendorInfo?.website||"",onChange:e=>_e("profile.vendorInfo.website",e.target.value),className:"pl-9 h-9 bg-background/50",placeholder:"https://example.com"})]}):e.jsxs("div",{className:"flex items-center p-2 bg-muted/20 rounded-md text-sm font-medium border border-border/20 text-blue-600 dark:text-blue-400",children:[e.jsx(Y,{className:"w-3.5 h-3.5 mr-2"}),me.profile.vendorInfo?.website?e.jsx("a",{href:me.profile.vendorInfo.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline truncate",children:me.profile.vendorInfo.website}):e.jsx("span",{className:"text-muted-foreground",children:"Not provided"})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/10 border border-border/20 space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center text-sm",children:[e.jsx(D,{className:"w-3.5 h-3.5 mr-2 text-primary"}),"Legal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"licenseNumber",className:"text-[10px] text-muted-foreground uppercase tracking-wider font-bold",children:"License Number"}),K?e.jsx(U,{id:"licenseNumber",value:me.profile.vendorInfo?.licenseNumber||"",onChange:e=>_e("profile.vendorInfo.licenseNumber",e.target.value),className:"h-8 text-xs bg-background"}):e.jsx("div",{className:"font-mono text-xs bg-background p-1.5 rounded border border-border/40",children:me.profile.vendorInfo?.licenseNumber||"Not provided"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"gstNumber",className:"text-[10px] text-muted-foreground uppercase tracking-wider font-bold",children:"GST Number"}),K?e.jsx(U,{id:"gstNumber",value:me.profile.vendorInfo?.gstNumber||"",onChange:e=>_e("profile.vendorInfo.gstNumber",e.target.value),className:"h-8 text-xs bg-background"}):e.jsx("div",{className:"font-mono text-xs bg-background p-1.5 rounded border border-border/40",children:me.profile.vendorInfo?.gstNumber||"Not provided"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(T,{htmlFor:"panNumber",className:"text-[10px] text-muted-foreground uppercase tracking-wider font-bold",children:"PAN Number"}),K?e.jsx(U,{id:"panNumber",value:me.profile.vendorInfo?.panNumber||"",onChange:e=>_e("profile.vendorInfo.panNumber",e.target.value),className:"h-8 text-xs bg-background"}):e.jsx("div",{className:"font-mono text-xs bg-background p-1.5 rounded border border-border/40",children:me.profile.vendorInfo?.panNumber||"Not provided"})]})]})]})]})]})]})})]})}),e.jsxs(F,{value:"notifications",className:"space-y-6 animate-in fade-in-50 slide-in-from-bottom-2 duration-500",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(te,{preferences:me.profile.preferences?.notifications||{email:!0,push:!0,newMessages:!0,newsUpdates:!1,marketing:!1},businessPreferences:me.profile.preferences?.business||{emailNotifications:!0,smsNotifications:!0,leadAlerts:!0,marketingEmails:!1,weeklyReports:!0},onChange:(e,s)=>_e(`profile.preferences.notifications.${e}`,s),onBusinessChange:(e,s)=>_e(`profile.preferences.business.${e}`,s),onTestPushNotification:()=>{b({title:"Test Push Notification",description:"Push notification test sent successfully!"})},onTestEmail:()=>{b({title:"Test Email",description:"Test email sent successfully!"})},showTestButtons:!0})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(t,{className:"border-0 shadow-sm bg-card/50 backdrop-blur-sm",children:[e.jsx(i,{className:"border-b border-border/40 pb-3",children:e.jsxs(o,{className:"flex items-center text-base font-semibold",children:[e.jsx(D,{className:"w-4 h-4 mr-2 text-primary"}),"Security & Account"]})}),e.jsxs(n,{className:"p-5 space-y-5",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-background/50 border border-border/20 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:e.jsx(ae,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Password"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Last changed 30 days ago"})]})]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>Ue(!0),className:"w-full text-xs h-8",children:"Change Password"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-background/50 border border-border/20 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg text-green-600 dark:text-green-400",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Account Status"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Your account is active"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/10 p-1.5 rounded-md justify-center",children:[e.jsx(G,{className:"w-3.5 h-3.5"}),"Active & Verified"]})]})]})]})})]}),e.jsx(J,{open:Te,onOpenChange:Ue})]})]})]})};export{ie as default};
