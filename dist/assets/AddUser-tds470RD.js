import{j as e}from"./ui-CEFKCYQo.js";import{u as s,t as r,e as t,s as a,l as n,d as i,o as l}from"./types-y39mGcu7.js";import{W as c,m as o,K as d,a as u,b as m,c as x,d as h,e as p,I as j,S as g,r as b,s as v,v as f,w as N,E as y,T as C,C as w,h as E,f as S}from"./index-Ds-LUfCl.js";import{F as A,a as P,b as _,c as I,d as T,e as B}from"./form-Bc1Mgbm4.js";import{d as D,r as V}from"./router-Bi51YGN-.js";import{P as k}from"./PincodeAutocomplete-WNE9b_1P.js";import{E as Z}from"./eye-off-CBqGfRUW.js";import{C as L}from"./circle-alert-Ciw086Sl.js";import"./vendor-eVk5PToZ.js";const U={first_name:a().min(2,"First name must be at least 2 characters"),last_name:a().optional(),email:a().email("Invalid email address"),phone:a().regex(/^[0-9]{10}$/,"Must be exactly 10 digits").min(10,"Must be exactly 10 digits").max(10,"Must be exactly 10 digits"),password:a().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/,"Password must contain uppercase, lowercase, number, and special character (!@#$%^&*)"),confirm_password:a().min(1,"Please confirm your password"),status:t(["active","inactive"])},$={businessName:a().min(2,"Business name must be at least 2 characters").max(100,"Business name cannot exceed 100 characters"),businessType:a().min(1,"Business type is required for vendors").refine(e=>["real_estate_agent","property_developer","construction_company","interior_designer","legal_services","home_loan_provider","packers_movers","property_management","other"].includes(e),"Invalid business type"),businessDescription:a().min(50,"Business description must be at least 50 characters").max(500,"Business description cannot exceed 500 characters"),experience:a().refine(e=>!e||Number(e)>=0&&Number(e)<=50,"Experience must be between 0 and 50 years"),licenseNumber:a().max(50,"License number cannot exceed 50 characters").optional(),gstNumber:a().optional().refine(e=>!e||""===e||/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(e),"Invalid GST number format (e.g., 22ABCDE1234F1Z5)"),panNumber:a().min(10,"PAN number must be exactly 10 characters").max(10,"PAN number must be exactly 10 characters").refine(e=>/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e),"Invalid PAN format: 5 letters + 4 digits + 1 letter (e.g., ABCDE1234F)"),website:a().url("Invalid URL format").optional().or(n("")),address:a().min(10,"Address must be at least 10 characters").max(200,"Address cannot exceed 200 characters"),city:a().min(2,"City is required").max(50,"City name cannot exceed 50 characters"),district:a().min(2,"District is required").max(50,"District name cannot exceed 50 characters"),state:a().min(2,"State is required").max(50,"State name cannot exceed 50 characters"),pincode:a().length(6,"Pincode must be exactly 6 digits").regex(/^[0-9]{6}$/,"Pincode must contain only numbers")},F={businessName:a().optional(),businessType:a().optional(),businessDescription:a().optional(),experience:a().optional(),licenseNumber:a().optional(),gstNumber:a().optional(),panNumber:a().optional(),website:a().optional(),address:a().optional(),city:a().optional(),district:a().optional(),state:a().optional(),pincode:a().optional()},q=i("role",[l({role:n("agent"),...U,...$}),l({role:n("customer"),...U,...F}),l({role:n("subadmin"),...U,...F}),l({role:n("superadmin"),...U,...F})]).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}),R=()=>{const{toast:t}=c(),a=D(),[n,i]=V.useState(!1),[l,U]=V.useState(!1),[$,F]=V.useState("customer"),[R,G]=V.useState(!1),[M,z]=V.useState(!1),[W,H]=V.useState(!1),[K,O]=V.useState(null),[Y,J]=V.useState(null),[Q,X]=V.useState(null),[ee,se]=V.useState(null),[re,te]=V.useState(null),[ae,ne]=V.useState(null),[ie,le]=V.useState(null),[ce,oe]=V.useState([]),[de,ue]=V.useState([]),[me,xe]=V.useState([]),[he,pe]=V.useState(""),[je,ge]=V.useState(""),[be,ve]=V.useState(""),[fe,Ne]=V.useState(!1),ye=s({resolver:r(q),defaultValues:{first_name:"",last_name:"",email:"",phone:"",role:"customer",status:"active",password:"",confirm_password:"",businessName:"",businessType:"",businessDescription:"",experience:"0",licenseNumber:"",gstNumber:"",panNumber:"",website:"",address:"",city:"",district:"",state:"",pincode:""}});V.useEffect(()=>{(async()=>{try{o.isReady()||await o.initialize();const e=o.getStates();oe(e),Ne(!0)}catch(e){oe([])}})()},[]),V.useEffect(()=>{if(he&&fe){const e=o.getDistricts(he);ue(e),ge(""),ve(""),xe([])}else ue([]),ge(""),xe([])},[he,fe]),V.useEffect(()=>{if(he&&je&&fe){const e=o.getCities(he,je);xe(e),ve("")}else xe([]),ve("")},[he,je,fe]),V.useEffect(()=>{"agent"!==$&&(X(null),H(!1),ae&&(clearTimeout(ae),ne(null)),ie&&(ie.abort(),le(null)))},[$,ae,ie]),V.useEffect(()=>()=>{ee&&clearTimeout(ee),re&&clearTimeout(re),ae&&clearTimeout(ae),ie&&ie.abort()},[ee,re,ae,ie]);const Ce=V.useCallback(async e=>{if(ie&&ie.abort(),"agent"!==$)return void X(null);if(!e||e.trim().length<2)return void X(null);const s=new AbortController;le(s),H(!0);try{const r=await d.checkAvailability({businessName:e.trim()});if(s.signal.aborted)return;X(r.data.businessName?.available??null),r.data.businessName&&!r.data.businessName.available?ye.setError("businessName",{type:"manual",message:r.data.businessName.message}):ye.clearErrors("businessName")}catch(r){if(r instanceof Error&&"AbortError"===r.name)return;X(null)}finally{s.signal.aborted||(H(!1),le(null))}},[$,ye,ie]),we="agent"===$;return e.jsxs("div",{className:"max-w-5xl mx-auto mt-16",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Add New User"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a new user account"})]}),e.jsx("div",{className:"bg-card rounded-lg border p-6 md:p-8",children:e.jsx(A,{...ye,children:e.jsxs("form",{onSubmit:ye.handleSubmit(async e=>{try{if(R)return void t({title:"Please wait",description:"Email availability check in progress...",variant:"destructive"});if(M)return void t({title:"Please wait",description:"Phone availability check in progress...",variant:"destructive"});if("agent"===e.role&&W)return void t({title:"Please wait",description:"Business name availability check in progress...",variant:"destructive"});if(!1===K)return void t({title:"Error",description:"Email is already registered. Please use a different email.",variant:"destructive"});if(!1===Y)return void t({title:"Error",description:"Phone number is already registered. Please use a different number.",variant:"destructive"});if("agent"===e.role){if(!1===Q)return void t({title:"Error",description:"Business name is already registered. Please use a different name.",variant:"destructive"});if(null===Q&&e.businessName&&e.businessName.trim().length>=2)return void t({title:"Error",description:"Please wait for business name availability check to complete.",variant:"destructive"})}if("agent"===e.role){if(!e.businessName||!e.businessType)return void t({title:"Error",description:"Business name and type are required for vendor accounts.",variant:"destructive"});if(!e.businessDescription||e.businessDescription.length<50)return void t({title:"Error",description:"Business description must be at least 50 characters.",variant:"destructive"});if(!e.panNumber||!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e.panNumber))return void t({title:"Error",description:"Valid PAN number is required for vendor accounts.",variant:"destructive"});if(!e.address||e.address.length<10)return void t({title:"Error",description:"Complete address is required for vendor accounts (minimum 10 characters).",variant:"destructive"});if(!e.city||!e.state||!e.pincode)return void t({title:"Error",description:"City, state, and pincode are required for vendor accounts.",variant:"destructive"});if(e.gstNumber&&e.gstNumber.length>0&&!/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(e.gstNumber))return void t({title:"Error",description:"Invalid GST number format.",variant:"destructive"})}const s={email:e.email,password:e.password,profile:{firstName:e.first_name,lastName:e.last_name,phone:e.phone},role:e.role,status:e.status};"agent"===e.role&&(s.businessInfo={businessName:e.businessName.trim(),businessType:e.businessType,businessDescription:e.businessDescription.trim(),experience:parseInt(e.experience||"0"),address:e.address.trim(),city:e.city,state:e.state,pincode:e.pincode.trim()},e.licenseNumber?.trim()&&(s.businessInfo.licenseNumber=e.licenseNumber.trim()),e.gstNumber?.trim()&&(s.businessInfo.gstNumber=e.gstNumber.trim()),e.panNumber?.trim()&&(s.businessInfo.panNumber=e.panNumber.trim().toUpperCase()),e.website?.trim()&&(s.businessInfo.website=e.website.trim())),"agent"===e.role&&(s.profile.address={street:e.address,city:e.city,district:e.district,state:e.state,zipCode:e.pincode,country:"India",countryCode:"IN",stateCode:"",districtCode:"",cityCode:""});await d.createUser(s);t({title:"Success",description:`${"agent"===e.role?"Vendor":"User"} created successfully.${"agent"===e.role?" Vendor profile has been auto-approved.":""}`}),a("/admin/users")}catch(s){let e="Failed to create user. Please try again.";s.response?.data?.message?e=s.response.data.message:s.message&&(e=s.message),e.includes("Duplicate business name")?e="Business name already exists. Please choose a different name.":e.includes("duplicate key")&&e.includes("email")?e="Email address is already registered.":e.includes("duplicate key")&&e.includes("phone")?e="Phone number is already registered.":e.includes("vendor profile")&&(e=`${e} The user account was not created.`),t({title:"Error",description:e,variant:"destructive"})}}),className:"space-y-6",children:[e.jsxs(u,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Basic Information"}),e.jsx(h,{children:"User account details"})]}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(P,{control:ye.control,name:"first_name",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"First Name *"}),e.jsx(T,{children:e.jsx(j,{placeholder:"Enter first name",...s})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"last_name",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Last Name"}),e.jsx(T,{children:e.jsx(j,{placeholder:"Enter last name",...s})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"email",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Email *"}),e.jsx(T,{children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:"email",placeholder:"Enter email",...s,onChange:e=>{s.onChange(e);const r=e.target.value;if(ee&&clearTimeout(ee),r&&r.includes("@")){const e=setTimeout(()=>{(async e=>{if(e&&e.includes("@")){G(!0);try{const s=await d.checkAvailability({email:e});O(s.data.email.available),s.data.email.available?ye.clearErrors("email"):ye.setError("email",{type:"manual",message:s.data.email.message})}catch(s){O(null)}finally{G(!1)}}else O(null)})(r)},500);se(e)}else O(null),ye.clearErrors("email")},className:!1===K?"border-red-500":!0===K?"border-green-500":""}),R&&e.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-muted-foreground",children:"Checking..."}),!R&&!0===K&&e.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-green-600",children:"Available ✓"})]})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"phone",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Phone Number *"}),e.jsx(T,{children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{placeholder:"Enter 10-digit phone",...s,maxLength:10,onChange:e=>{s.onChange(e);const r=e.target.value;if(re&&clearTimeout(re),r&&10===r.length){const e=setTimeout(()=>{(async e=>{if(e&&10===e.length){z(!0);try{const s=await d.checkAvailability({phone:e});J(s.data.phone.available),s.data.phone.available?ye.clearErrors("phone"):ye.setError("phone",{type:"manual",message:s.data.phone.message})}catch(s){J(null)}finally{z(!1)}}else J(null)})(r)},500);te(e)}else J(null),ye.clearErrors("phone")},className:!1===Y?"border-red-500":!0===Y?"border-green-500":""}),M&&e.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-muted-foreground",children:"Checking..."}),!M&&!0===Y&&e.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-green-600",children:"Available ✓"})]})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"role",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Role *"}),e.jsxs(g,{onValueChange:e=>{s.onChange(e),F(e)},defaultValue:s.value,children:[e.jsx(T,{children:e.jsx(b,{children:e.jsx(v,{placeholder:"Select role"})})}),e.jsxs(f,{children:[e.jsx(N,{value:"customer",children:"Customer"}),e.jsx(N,{value:"agent",children:"Vendor/Agent"}),e.jsx(N,{value:"subadmin",children:"Sub Admin"}),e.jsx(N,{value:"superadmin",children:"Super Admin"})]})]}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"status",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Status *"}),e.jsxs(g,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(T,{children:e.jsx(b,{children:e.jsx(v,{placeholder:"Select status"})})}),e.jsxs(f,{children:[e.jsx(N,{value:"active",children:"Active"}),e.jsx(N,{value:"inactive",children:"Inactive"})]})]}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"password",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Password *"}),e.jsx(T,{children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:n?"text":"password",placeholder:"Enter password",...s}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:n?e.jsx(Z,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})})]})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"confirm_password",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Confirm Password *"}),e.jsx(T,{children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:l?"text":"password",placeholder:"Re-enter password",...s}),e.jsx("button",{type:"button",onClick:()=>U(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?e.jsx(Z,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})})]})}),e.jsx(B,{})]})})]})})]}),we&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Business Information"}),e.jsx(h,{children:"Vendor business details"})]}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(P,{control:ye.control,name:"businessName",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Business Name *"}),e.jsx(T,{children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{placeholder:"Enter business name",...s,onChange:e=>{s.onChange(e);const r=e.target.value;if(ae&&clearTimeout(ae),"agent"===$&&r&&r.trim().length>=2){const e=setTimeout(()=>{Ce(r)},500);ne(e)}else X(null),ye.clearErrors("businessName")},className:!1===Q?"border-red-500":!0===Q?"border-green-500":"",maxLength:100}),W&&e.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-muted-foreground",children:"Checking..."}),!W&&!0===Q&&e.jsx("span",{className:"absolute right-3 top-2.5 text-xs text-green-600",children:"Available ✓"})]})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"businessType",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Business Type *"}),e.jsxs(g,{onValueChange:s.onChange,value:s.value,children:[e.jsx(T,{children:e.jsx(b,{children:e.jsx(v,{placeholder:"Select business type"})})}),e.jsxs(f,{children:[e.jsx(N,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(N,{value:"property_developer",children:"Property Developer"}),e.jsx(N,{value:"construction_company",children:"Construction Company"}),e.jsx(N,{value:"interior_designer",children:"Interior Designer"}),e.jsx(N,{value:"legal_services",children:"Legal Services"}),e.jsx(N,{value:"home_loan_provider",children:"Home Loan Provider"}),e.jsx(N,{value:"packers_movers",children:"Packers & Movers"}),e.jsx(N,{value:"property_management",children:"Property Management"}),e.jsx(N,{value:"other",children:"Other"})]})]}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"experience",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Years of Experience"}),e.jsx(T,{children:e.jsx(j,{type:"number",placeholder:"Enter years",...s})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"website",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Website"}),e.jsx(T,{children:e.jsx(j,{placeholder:"https://example.com",...s})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"businessDescription",render:({field:s})=>e.jsxs(_,{className:"md:col-span-2",children:[e.jsx(I,{children:"Business Description *"}),e.jsx(T,{children:e.jsx(C,{placeholder:"Describe the business, services, and expertise (minimum 50 characters)...",rows:4,...s,maxLength:500})}),e.jsx(B,{}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.value?.length||0,"/500 characters (minimum 50)"]})]})})]})})]}),e.jsxs(u,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Legal Information"}),e.jsx(h,{children:"Business registration and license details"})]}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(P,{control:ye.control,name:"panNumber",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"PAN Number *"}),e.jsx(T,{children:e.jsx(j,{placeholder:"ABCDE1234F",...s,onChange:e=>{const r=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");r.length<=10&&s.onChange(r)},maxLength:10})}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"gstNumber",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"GST Number"}),e.jsx(T,{children:e.jsx(j,{placeholder:"22ABCDE1234F1Z5",...s,onChange:e=>{const r=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"");r.length<=15&&s.onChange(r)},maxLength:15})}),e.jsx(B,{}),s.value&&s.value.length>0&&s.value.length<15&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"GST number should be 15 characters"})]})}),e.jsx(P,{control:ye.control,name:"licenseNumber",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"License Number"}),e.jsx(T,{children:e.jsx(j,{placeholder:"Enter license number",...s})}),e.jsx(B,{})]})})]})})]}),e.jsxs(u,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Location Information"}),e.jsx(h,{children:"Business address and location"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{control:ye.control,name:"address",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Street Address *"}),e.jsx(T,{children:e.jsx(C,{placeholder:"Complete business address (building, street, area)",...s,rows:2,maxLength:200})}),e.jsx(B,{}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.value?.length||0,"/200 characters (minimum 10)"]})]})}),e.jsx(P,{control:ye.control,name:"state",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"State *"}),e.jsxs(g,{value:s.value,onValueChange:e=>{s.onChange(e),pe(e),ye.setValue("district",""),ye.setValue("city","")},disabled:!fe,children:[e.jsx(T,{children:e.jsx(b,{children:e.jsx(v,{placeholder:fe?"Select state":"Loading..."})})}),e.jsx(f,{children:ce.map(s=>e.jsx(N,{value:s,children:s},s))})]}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"district",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"District *"}),e.jsxs(g,{value:s.value,onValueChange:e=>{s.onChange(e),ge(e),ye.setValue("city","")},disabled:!he||0===de.length,children:[e.jsx(T,{children:e.jsx(b,{children:e.jsx(v,{placeholder:he?"Select district":"Select state first"})})}),e.jsx(f,{children:de.map(s=>e.jsx(N,{value:s,children:s},s))})]}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"city",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"City *"}),e.jsxs(g,{value:s.value,onValueChange:e=>{s.onChange(e),ve(e)},disabled:!je||0===me.length,children:[e.jsx(T,{children:e.jsx(b,{children:e.jsx(v,{placeholder:je?"Select city":"Select district first"})})}),e.jsx(f,{children:me.map(s=>e.jsx(N,{value:s,children:s},s))})]}),e.jsx(B,{})]})}),e.jsx(P,{control:ye.control,name:"pincode",render:({field:s})=>e.jsxs(_,{children:[e.jsx(I,{children:"Pincode *"}),e.jsx(T,{children:e.jsx(k,{value:s.value,onChange:(e,r)=>{if(s.onChange(e),r){if(r.state&&ce.includes(r.state.toUpperCase())){const e=r.state.toUpperCase();pe(e),ye.setValue("state",e),setTimeout(()=>{if(r.district){const s=o.getDistricts(e).find(e=>e.toUpperCase()===r.district.toUpperCase());s&&(ge(s),ye.setValue("district",s),setTimeout(()=>{if(r.city){const t=o.getCities(e,s).find(e=>e.toUpperCase()===r.city.toUpperCase());t&&(ve(t),ye.setValue("city",t))}},100))}},100)}t({title:"Location Auto-filled",description:`Location details populated from PIN code ${e}`})}},state:he,district:je,city:be,placeholder:"Enter or select PIN code"})}),e.jsx(B,{}),s.value&&6===s.value.length&&o.isReady()&&e.jsx("div",{className:"text-xs",children:o.validatePincode(s.value)?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),"Valid PIN code"]}):e.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),"PIN code not found in our database"]})})]})}),(he||je||be)&&e.jsxs("div",{className:"bg-muted/50 border border-border rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Selected Location:"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[[be,je,he,"India"].filter(Boolean).join(", "),ye.watch("pincode")&&` - ${ye.watch("pincode")}`]})]})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>a("/admin/users"),children:"Cancel"}),e.jsxs(S,{type:"submit",disabled:R||M||W,children:["Create ",we?"Vendor":"User"]})]})]})})})]})};export{R as default};
