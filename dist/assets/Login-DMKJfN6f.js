const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B494FSRu.js","assets/ui-DHQhougw.js","assets/router-Bi51YGN-.js","assets/vendor-eVk5PToZ.js"])))=>i.map(i=>d[i]);
import{u as e,N as s,L as a,I as t,E as r,f as o,F as i,t as n,_ as l}from"./index-B494FSRu.js";import{j as d}from"./ui-DHQhougw.js";import{d as c,u as m,r as u,L as p}from"./router-Bi51YGN-.js";import{E as x}from"./eye-off-BdlaNLa_.js";import"./vendor-eVk5PToZ.js";const h=()=>{const h=c(),j=m(),{login:f}=e(),[v,g]=u.useState(""),[b,y]=u.useState(""),[N,w]=u.useState(!1),[S,E]=u.useState(!1),_=j.state?.from||null;return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(s,{}),d.jsx("main",{className:"container mx-auto px-4 py-12",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Welcome Back"}),d.jsx("p",{className:"text-center text-muted-foreground mb-8",children:"Sign in to your BuildHomeMart account"}),d.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),v&&b){w(!0);try{if(await f(v,b)){const e=JSON.parse(localStorage.getItem("user")||"{}");if("agent"===e.role){n({title:"Access Denied",description:"Vendors must use the vendor login portal. Redirecting...",variant:"destructive"});const{authService:e}=await l(async()=>{const{authService:e}=await import("./index-B494FSRu.js").then(e=>e.be);return{authService:e}},__vite__mapDeps([0,1,2,3]));return e.clearAuthData(),void setTimeout(()=>{h("/vendor/login")},1500)}if(_)if(_.startsWith("/property/")){const e=_.replace("/property/","");h(`/customer/property/${e}`,{replace:!0})}else h(_,{replace:!0});else"superadmin"===e.role?h("/admin/dashboard"):"subadmin"===e.role?h("/subadmin/dashboard"):"admin"===e.role?h("/admin/dashboard"):h("/customer/dashboard")}}catch(s){}finally{w(!1)}}else n({title:"Validation Error",description:"Please enter both email and password",variant:"destructive"})},className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(a,{htmlFor:"email",children:"Email"}),d.jsx(t,{id:"email",type:"email",placeholder:"you@example.com",required:!0,value:v,onChange:e=>g(e.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(a,{htmlFor:"password",children:"Password"}),d.jsx(p,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(t,{id:"password",type:S?"text":"password",placeholder:"Enter your password",required:!0,value:b,onChange:e=>y(e.target.value),className:"pr-10"}),d.jsx("button",{type:"button",onClick:()=>E(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:S?d.jsx(x,{className:"h-5 w-5"}):d.jsx(r,{className:"h-5 w-5"})})]})]}),d.jsx(o,{type:"submit",className:"w-full",disabled:N,children:N?"Signing In...":"Sign In"})]}),d.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Don't have an account?"," ",d.jsx(p,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})})}),d.jsx(i,{})]})};export{h as default};
