import{j as e}from"./ui-BNZSgpjP.js";import{r as s}from"./router-D8v2YSKU.js";import{t,by as a,u as r,bz as n,q as i,r as o,s as d,v as l,w as c,f as m,$ as u,I as x,aB as h,G as g,am as p,ap as f,aq as v,ar as j,A as b,P as N,m as y,y as w,n as C,aD as k,aE as S,aF as M,aI as A,ad as T,bA as R,aP as _,T as z,bB as U}from"./index-R8qjqeWQ.js";import{m as D}from"./messageService-DEnHG-B5.js";import{u as I}from"./use-mobile-C5fBmhy-.js";import{E}from"./ellipsis-vertical-Bt8uThl2.js";import{A as P,C as F}from"./check-check-0TYC16Rw.js";import{P as O}from"./paperclip-wfGjN7Nu.js";import{S as $}from"./send-CLF8zoSL.js";const q=new class{config=null;initialize(e){this.config=e}async getConversations(e={}){if(!this.config)throw new Error("UnifiedMessageService not initialized");const s=this.getRoleSpecificFilters(e);return await D.getConversations(s)}async getConversationMessages(e,s=1,t=50,a=!0){const r=await D.getConversationMessages(e,s,t,a);return r.messages=r.messages.map(e=>D.normalizeMessage(e)),r}async sendMessage(e,s,t,a){const r=await D.sendMessage(e,s,t,a);return D.normalizeMessage(r)}async uploadAttachment(e){return await D.uploadAttachment(e)}async markMessageAsRead(e){await D.markMessageAsRead(e)}async markConversationAsRead(e){await D.markConversationAsRead(e)}async deleteMessage(e){if(!this.canDeleteMessages())throw t({title:"Permission Denied",description:"You do not have permission to delete messages",variant:"destructive"}),new Error("Permission denied");await D.deleteMessage(e)}async deleteConversation(e){if(!this.canDeleteConversations())throw t({title:"Permission Denied",description:"You do not have permission to delete conversations",variant:"destructive"}),new Error("Permission denied");await D.deleteConversation(e)}async updateConversationStatus(e,s){await D.updateConversationStatus(e,s)}async getUserStatus(e){return await D.getUserStatus(e)}async getUnreadCount(){return await D.getUnreadCount()}joinConversation(e){a.joinConversation(e)}leaveConversation(e){a.leaveConversation(e)}startTyping(e){a.startTyping(e)}stopTyping(e){a.stopTyping(e)}markMessageAsReadSocket(e,s){a.markMessageAsRead(e,s)}markConversationAsReadSocket(e){a.markConversationAsRead(e)}updateOnlineStatus(e){a.updateOnlineStatus(e)}formatTime(e){return D.formatTime(e)}getMessageContent(e){return D.getMessageContent(e)}isAutoResponse(e){return D.isAutoResponse(e)}formatPrice(e,s){return D.formatPrice(e,s)}getPriorityColor(e){return D.getPriorityColor(e)}getStatusColor(e){return D.getStatusColor(e)}canDeleteMessages(){return!!this.config&&["admin","subadmin","customer","vendor"].includes(this.config.role)}canDeleteConversations(){return!!this.config&&["admin","subadmin","customer","vendor"].includes(this.config.role)}canAccessAdminFeatures(){return!!this.config&&["admin","subadmin"].includes(this.config.role)}getRoleSpecificFilters(e){if(!this.config)return e;const s={...e};return this.config.role,s}getConversationListTitle(){if(!this.config)return"Conversations";switch(this.config.role){case"admin":case"subadmin":return"All Conversations";case"vendor":return"Property Inquiries";case"customer":return"My Messages";default:return"Conversations"}}isSocketConnected(){return a.isConnected()}},B=({role:a,pageTitle:D,pageDescription:B,showPropertyInfo:Y=!0,enableDeletion:H=!0})=>{const{user:K}=r(),V=I(),[W,G]=s.useState(null),[L,J]=s.useState(""),[Q,X]=s.useState(""),[Z,ee]=s.useState([]),[se,te]=s.useState([]),[ae,re]=s.useState(!0),[ne,ie]=s.useState(!1),[oe,de]=s.useState("all"),[le,ce]=s.useState([]),[me,ue]=s.useState(!1),[xe,he]=s.useState(!1),[ge,pe]=s.useState({}),[fe,ve]=s.useState(!0),[je,be]=s.useState(0),Ne=s.useRef(null),ye=s.useRef(null),we=s.useRef(null),Ce=s.useRef(null);s.useEffect(()=>{K?.id&&q.initialize({role:a,userId:K.id})},[a,K]),n({refreshConversations:()=>{ke()},onNewMessage:e=>{e.conversationId===W&&Se(W),ke()},onMessageRead:e=>{e.conversationId===W&&te(s=>s.map(s=>s._id===e.messageId?{...s,read:!0,isRead:!0}:s)),ke()},onConversationRead:e=>{e.conversationId===W&&te(e=>e.map(e=>({...e,read:!0,isRead:!0}))),ke()},onTypingIndicator:e=>{e.conversationId===W&&e.userId!==K?.id&&he(e.isTyping)},onUserStatusChange:e=>{pe(s=>({...s,[e.userId]:{userId:e.userId,isOnline:e.isOnline,lastSeen:e.lastSeen}}))}});const ke=async()=>{try{re(!0);const e=await q.getConversations({status:"all"!==oe?oe:void 0,search:Q.trim()||void 0,limit:50});ee(e.conversations);const s=e.conversations.reduce((e,s)=>e+(s.unreadCount||0),0);be(s)}catch(e){t({title:"Error",description:"Failed to load conversations. Please try again.",variant:"destructive"})}finally{re(!1)}},Se=async e=>{try{te([]);const s=await q.getConversationMessages(e,1,50,!0);s&&(te(s.messages),q.markConversationAsReadSocket(e),ke())}catch(s){}};s.useEffect(()=>{ke()},[oe]),s.useEffect(()=>(W?(Se(W),q.joinConversation(W),V&&ve(!1)):te([]),()=>{W&&(q.leaveConversation(W),q.stopTyping(W))}),[W,V]),s.useEffect(()=>{Z.length>0&&(async()=>{const e={};for(const t of Z)try{const s=await q.getUserStatus(t.otherUser._id);e[t.otherUser._id]=s}catch(s){}pe(e)})()},[Z]),s.useEffect(()=>{if(Ce.current){const e=Ce.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},[se,xe]);const Me=Z.find(e=>(e.id||e._id)===W),Ae=async()=>{if((L.trim()||0!==le.length)&&W&&Me)try{ie(!0);const s=[];if(le.length>0){ue(!0);for(const t of le)try{const e=await q.uploadAttachment(t);s.push(e)}catch(e){}ue(!1)}const t=L.trim()||(s.length>0?"[Attachment]":""),a=await q.sendMessage(W,t,Me.otherUser._id,s);te(e=>[...e,a]),J(""),ce([]),ke()}catch(e){}finally{ie(!1)}};s.useEffect(()=>{if(W)return L.trim()?(q.startTyping(W),we.current&&clearTimeout(we.current),we.current=setTimeout(()=>{q.stopTyping(W)},2e3)):q.stopTyping(W),()=>{we.current&&clearTimeout(we.current)}},[L,W]);const Te=(e,s)=>{const a=e.target.files;if(!a)return;const r=Array.from(a),n=[];for(const i of r)if(i.size>10485760)t({title:"File too large",description:`${i.name} exceeds 10MB limit`,variant:"destructive"});else{if("image"===s){if(!i.type.startsWith("image/")){t({title:"Invalid file type",description:`${i.name} is not an image`,variant:"destructive"});continue}}else{if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(i.type)){t({title:"Invalid file type",description:`${i.name} is not a supported document type`,variant:"destructive"});continue}}n.push(i)}ce(e=>[...e,...n]),e.target&&(e.target.value="")},Re=async(s,a)=>{const r=s.id||s._id||"",n=a?s.unreadCount>0?"unread":"read":"archived";try{await q.updateConversationStatus(r,n),W===r&&(G(null),te([]),V&&ve(!0)),ee(e=>e.filter(e=>(e.id||e._id)!==r)),t({title:a?"Conversation unarchived":"Conversation archived",description:a?"Moved to main chat list":"Moved to archived chats",action:e.jsx(U,{altText:"Undo",onClick:()=>Re(s,!a),children:"Undo"})}),setTimeout(()=>ke(),500)}catch(i){t({title:"Error",description:"Failed to update conversation status",variant:"destructive"}),ke()}},_e=e=>e.otherUser||{_id:"",name:"Unknown User",email:""};s.useEffect(()=>{const e=setTimeout(()=>{""!==Q&&ke()},500);return()=>clearTimeout(e)},[Q]);const ze=Z;return e.jsxs("div",{className:"flex h-full pt-0 bg-background overflow-hidden",children:[e.jsxs("div",{className:(V?fe?"flex":"hidden":"flex")+" w-full md:w-80 lg:w-96 flex-col border-r bg-background",children:[e.jsxs("div",{className:"px-4 pt-2 pb-2 bg-background z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[K?.name||"Messages",je>0&&e.jsx("span",{className:"bg-primary text-primary-foreground text-[10px] px-1.5 py-0.5 rounded-full min-w-[18px] text-center",children:je})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{value:oe,onValueChange:de,children:[e.jsx(o,{className:"w-[90px] h-8 text-xs bg-transparent border-none focus:ring-0 font-semibold text-muted-foreground hover:text-foreground p-0",children:e.jsx(d,{placeholder:"Filter"})}),e.jsxs(l,{children:[e.jsx(c,{value:"all",children:"All"}),e.jsx(c,{value:"unread",children:"Unread"}),e.jsx(c,{value:"read",children:"Read"}),e.jsx(c,{value:"archived",children:"Archived"})]})]}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(E,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(x,{placeholder:"Search",className:"pl-9 bg-muted/50 border-none rounded-lg h-9 focus-visible:ring-0 placeholder:text-muted-foreground/70",value:Q,onChange:e=>X(e.target.value)})]})]}),e.jsx(h,{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col",children:["archived"!==oe&&e.jsxs("div",{className:"flex items-center gap-3 p-4 cursor-pointer hover:bg-muted/50 border-b border-border/40 transition-colors",onClick:()=>de("archived"),children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-muted/80",children:e.jsx(P,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-sm",children:"Archived"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"View archived chats"})]})]}),ae?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(g,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):0===ze.length?e.jsxs("div",{className:"text-center py-12 px-4 text-muted-foreground",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),e.jsx("p",{className:"font-medium",children:"No conversations yet"}),e.jsx("p",{className:"text-sm mt-1",children:"Start by sending a message to a property"})]}):ze.map(s=>{const t=_e(s),a=t.name||"Unknown User",r=s.id||s._id||"",n=W===r;return e.jsxs("div",{className:"group flex items-center gap-3 p-3 cursor-pointer transition-all hover:bg-muted/30 "+(n?"bg-muted/50":""),onClick:()=>G(r),children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(f,{className:"w-14 h-14 border border-border/10",children:[e.jsx(v,{src:void 0}),e.jsx(j,{className:"bg-muted text-foreground font-medium text-lg",children:a.split(" ").map(e=>e[0]).join("").substring(0,2)})]}),ge[t._id]?.isOnline&&e.jsx("span",{className:"absolute bottom-1 right-1 w-3.5 h-3.5 bg-green-500 border-[3px] border-background rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-0.5",children:e.jsx("h3",{className:"text-sm truncate "+(s.unreadCount>0?"font-bold text-foreground":"font-normal text-foreground"),children:a})}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsxs("p",{className:"truncate max-w-[180px] "+(s.unreadCount>0?"font-bold text-foreground":""),children:[s.lastMessage.isFromMe&&"You: ",s.lastMessage.message]}),e.jsx("span",{className:"text-muted-foreground/60 mx-1",children:"Â·"}),e.jsx("span",{className:"text-xs flex-shrink-0",children:q.formatTime(s.lastMessage.createdAt)})]}),Y&&s.property&&e.jsx("div",{className:"text-[10px] text-muted-foreground/60 truncate mt-0.5",children:s.property.title})]}),s.unreadCount>0&&e.jsx("div",{className:"w-2.5 h-2.5 bg-primary rounded-full flex-shrink-0"})]},r)})]})})]}),e.jsx("div",{className:(V&&fe?"hidden":"flex")+" flex-1 flex-col bg-background relative",children:Me?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-[64px] border-b flex items-center justify-between px-5 bg-background/95 backdrop-blur z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[V&&e.jsx(m,{variant:"ghost",size:"icon",onClick:()=>ve(!0),className:"-ml-2 hover:bg-muted/50 rounded-full",children:e.jsx(b,{className:"w-6 h-6"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(f,{className:"w-11 h-11 border border-border/10",children:[e.jsx(v,{src:void 0}),e.jsx(j,{className:"bg-muted text-foreground font-medium",children:_e(Me).name.split(" ").map(e=>e[0]).join("").substring(0,2)})]}),ge[_e(Me)._id]?.isOnline&&e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-background rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base leading-tight",children:_e(Me).name}),e.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:ge[_e(Me)._id]?.isOnline?e.jsx("span",{className:"text-muted-foreground",children:"Active now"}):ge[_e(Me)._id]?.lastSeen?e.jsxs("span",{children:["Active ",q.formatTime(ge[_e(Me)._id].lastSeen)]}):e.jsx("span",{children:"Offline"})})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[_e(Me).phone&&e.jsxs(N,{children:[e.jsx(y,{asChild:!0,children:e.jsx(m,{size:"icon",variant:"ghost",className:"rounded-full text-muted-foreground hover:text-primary hover:bg-primary/10",children:e.jsx(w,{className:"w-5 h-5"})})}),e.jsx(C,{className:"w-auto p-3",align:"end",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contact Number"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-lg font-semibold",children:_e(Me).phone}),e.jsx(m,{size:"sm",variant:"secondary",onClick:()=>{navigator.clipboard.writeText(_e(Me).phone||""),t({title:"Copied!",description:"Phone number copied to clipboard"})},children:"Copy"})]})]})})]}),H&&e.jsxs(k,{children:[e.jsx(S,{asChild:!0,children:e.jsx(m,{size:"icon",variant:"ghost",className:"rounded-full text-muted-foreground hover:text-primary hover:bg-primary/10",children:e.jsx(E,{className:"w-5 h-5"})})}),e.jsxs(M,{align:"end",children:[e.jsxs(A,{onClick:()=>Re(Me,"archived"===Me.status),children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"archived"===Me.status?"Unarchive":"Archive"]}),e.jsxs(A,{className:"text-red-600 focus:text-red-600",onClick:()=>(async e=>{if(H&&window.confirm("Are you sure you want to delete this conversation? This action cannot be undone."))try{await q.deleteConversation(e),ee(s=>s.filter(s=>(s.id||s._id)!==e)),W===e&&(G(null),te([])),t({title:"Success",description:"Conversation deleted successfully!"})}catch(s){}})(Me.id||Me._id||""),children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Delete Conversation"]})]})]})]})]}),e.jsx(h,{className:"flex-1 bg-background",ref:Ce,children:e.jsxs("div",{className:"p-4 space-y-6",children:[se.map((s,a)=>{const r="string"==typeof s.sender?s.sender:s.sender._id,n=K?.id===r,i=!n&&(0===a||se[a-1].sender!==s.sender);return e.jsx("div",{className:"flex w-full mb-1 "+(n?"justify-end":"justify-start"),children:e.jsxs("div",{className:"flex max-w-[75%] md:max-w-[65%] gap-2 "+(n?"flex-row-reverse":"flex-row"),children:[!n&&e.jsx("div",{className:"w-8 flex-shrink-0 flex flex-col justify-end mb-1",children:i?e.jsxs(f,{className:"w-7 h-7 border border-border/10",children:[e.jsx(v,{src:void 0}),e.jsx(j,{className:"text-[9px] bg-muted",children:_e(Me).name.split(" ").map(e=>e[0]).join("").substring(0,2)})]}):e.jsx("div",{className:"w-7"})}),e.jsxs("div",{className:"group relative px-4 py-2.5 "+(n?"bg-primary text-primary-foreground rounded-[22px]":"bg-muted dark:bg-muted/20 text-foreground rounded-[22px]"),children:[e.jsx("p",{className:"text-[15px] leading-snug whitespace-pre-wrap",children:q.getMessageContent(s)}),s.attachments&&s.attachments.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:s.attachments.map((s,t)=>e.jsx("div",{children:"image"===s.type?e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:s.url,alt:s.name,className:"max-w-full rounded-xl cursor-pointer hover:opacity-95 transition-opacity",style:{maxHeight:"250px"}})}):e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-3 p-3 rounded-xl border ${n?"border-white/20 bg-white/10 hover:bg-white/20":"border-black/5 bg-black/5 hover:bg-black/10"} transition-colors`,children:[e.jsx("div",{className:"bg-background/20 p-2 rounded-md",children:e.jsx(O,{className:"w-4 h-4 "+(n?"text-white":"text-foreground")})}),e.jsx("span",{className:"text-sm truncate font-medium",children:s.name})]})},t))}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1 select-none "+(n?"text-primary-foreground/70":"text-muted-foreground/60"),children:[e.jsx("span",{className:"text-[10px]",children:q.formatTime(s.createdAt||s.timestamp)}),n&&(s.read?e.jsx(F,{className:"w-3 h-3"}):e.jsx(F,{className:"w-3 h-3 opacity-70"}))]}),H&&n&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-8 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs(k,{children:[e.jsx(S,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted/20 rounded-full",children:e.jsx(E,{className:"w-3 h-3 text-muted-foreground"})})}),e.jsx(M,{align:"end",children:e.jsxs(A,{className:"text-red-600 focus:text-red-600",onClick:()=>(async e=>{if(H&&window.confirm("Are you sure you want to delete this message? This action cannot be undone."))try{await q.deleteMessage(e),te(s=>s.filter(s=>s._id!==e)),t({title:"Success",description:"Message deleted successfully!"})}catch(s){}})(s._id),children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Delete"]})})]})})]})]})},s._id)}),xe&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(f,{className:"w-7 h-7 border border-border/10 mb-1",children:[e.jsx(v,{src:void 0}),e.jsx(j,{className:"text-[9px] bg-muted",children:_e(Me).name.split(" ").map(e=>e[0]).join("").substring(0,2)})]}),e.jsx("div",{className:"bg-muted dark:bg-muted/20 px-4 py-3 rounded-[22px]",children:e.jsxs("div",{className:"flex gap-1.5 items-center h-4",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground/40 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground/40 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground/40 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})})]})}),e.jsxs("div",{className:"p-4 bg-background",children:[le.length>0&&e.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:le.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 bg-muted px-3 py-2 rounded-lg border animate-in fade-in slide-in-from-bottom-2",children:[e.jsx("div",{className:"p-1.5 bg-background rounded-md border",children:s.type.startsWith("image/")?e.jsx(R,{className:"w-4 h-4 text-blue-500"}):e.jsx(O,{className:"w-4 h-4 text-orange-500"})}),e.jsx("span",{className:"text-sm truncate max-w-[200px] font-medium",children:s.name}),e.jsx(m,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover:bg-destructive hover:text-destructive-foreground rounded-full",onClick:()=>(e=>{ce(s=>s.filter((s,t)=>t!==e))})(t),children:e.jsx(_,{className:"w-3 h-3"})})]},t))}),e.jsxs("div",{className:"flex items-center gap-2 bg-background p-1.5 rounded-[26px] border border-border/40 focus-within:border-border/80 transition-all",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(m,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full text-foreground hover:bg-muted",onClick:()=>ye.current?.click(),disabled:me||ne,title:"Attach image",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsx(m,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full text-foreground hover:bg-muted",onClick:()=>Ne.current?.click(),disabled:me||ne,title:"Attach document",children:e.jsx(O,{className:"w-5 h-5"})})]}),e.jsx("input",{ref:Ne,type:"file",className:"hidden",accept:".pdf,.doc,.docx",onChange:e=>Te(e,"document"),multiple:!0}),e.jsx("input",{ref:ye,type:"file",className:"hidden",accept:"image/*",onChange:e=>Te(e,"image"),multiple:!0}),e.jsx(z,{placeholder:"Message...",value:L,onChange:e=>J(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Ae())},className:"flex-1 min-h-[44px] max-h-[120px] py-2.5 px-3 bg-transparent border-none shadow-none resize-none focus-visible:ring-0 text-[15px] placeholder:text-muted-foreground/60",disabled:ne||me}),L.trim()||le.length>0?e.jsx(m,{onClick:Ae,disabled:ne||me,size:"sm",className:"h-auto px-4 py-2 rounded-full font-semibold text-sm bg-transparent text-primary hover:bg-transparent hover:text-primary/80 transition-colors",children:ne||me?e.jsx(g,{className:"w-5 h-5 animate-spin"}):"Send"}):e.jsx("div",{className:"mr-2"})]})]})]}):e.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col text-muted-foreground bg-background",children:[e.jsx("div",{className:"w-24 h-24 border-2 border-black/5 dark:border-white/10 rounded-full flex items-center justify-center mb-4",children:e.jsx($,{className:"w-10 h-10 text-foreground"})}),e.jsx("h3",{className:"text-xl font-medium mb-1 text-foreground",children:"Your Messages"}),e.jsx("p",{className:"max-w-xs text-center text-sm text-muted-foreground",children:"Send private photos and messages to a friend or group."})]})})]})};export{B};
