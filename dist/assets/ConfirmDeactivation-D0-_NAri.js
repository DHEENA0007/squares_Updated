import{j as e}from"./ui-BNZSgpjP.js";import{h as s,d as a,r as t}from"./router-D8v2YSKU.js";import{a as r,b as c,G as i,C as o,H as n,c as l,d,e as u,f as m,J as x,K as g}from"./index-XQ_rcKIR.js";import{A as h,a as j}from"./alert-Bbcf9Ir0.js";import"./vendor-BxThA0WO.js";const v=()=>{const[v]=s(),f=a(),[b,N]=t.useState("loading"),[w,p]=t.useState("");return t.useEffect(()=>{(async()=>{const e=v.get("token");if(!e)return N("error"),void p("Invalid or missing deactivation token.");try{const s=await g.confirmAccountDeactivation(e);s.success?(N("success"),p("Your account has been deactivated. You can reactivate it anytime by logging in."),setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),f("/login")},3e3)):(N("error"),p(s.message||"Failed to deactivate account."))}catch(s){N("error"),p(s.message||"An error occurred while deactivating your account.")}})()},[v,f]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:e.jsxs(r,{className:"w-full max-w-md",children:[e.jsxs(c,{className:"text-center",children:[e.jsxs("div",{className:"mx-auto mb-4",children:["loading"===b&&e.jsx(i,{className:"w-16 h-16 text-blue-500 animate-spin"}),"success"===b&&e.jsx(o,{className:"w-16 h-16 text-green-500"}),"error"===b&&e.jsx(n,{className:"w-16 h-16 text-red-500"})]}),e.jsxs(l,{className:"text-2xl",children:["loading"===b&&"Deactivating Account...","success"===b&&"Account Deactivated","error"===b&&"Deactivation Failed"]}),e.jsxs(d,{children:["loading"===b&&"Please wait while we process your request","success"===b&&"Your account has been temporarily deactivated","error"===b&&"Unable to deactivate your account"]})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsx(h,{variant:"error"===b?"destructive":"default",children:e.jsx(j,{children:w})}),"success"===b&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Note:"})," You can reactivate your account anytime by logging in again. All your data will be restored."]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:["success"===b&&e.jsx(m,{onClick:()=>f("/login"),className:"w-full",children:"Go to Login"}),"error"===b&&e.jsxs(e.Fragment,{children:[e.jsx(m,{onClick:()=>f("/customer/settings"),className:"w-full",children:"Back to Settings"}),e.jsxs(m,{variant:"outline",onClick:()=>f("/v3"),className:"w-full",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Go to Home"]})]})]})]})]})})};export{v as default};
