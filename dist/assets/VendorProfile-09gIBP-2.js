import{j as e}from"./ui-CEFKCYQo.js";import{R as s,r as i}from"./router-Bi51YGN-.js";import{D as t,a,b as r,c as n,ai as l,e as o,M as c,aB as d,B as p,U as m,m as f,t as x,G as u,f as h,x as j,X as g,ae as v,af as N,ag as y,ah as b,L as w,I as C,y as k,aq as S,C as I,_ as P,$ as E,a0 as R,a1 as M,T as U,S as T,r as A,s as F,v as B,w as V,q as L}from"./index-Ds-LUfCl.js";import{vendorService as q}from"./vendorService-DaSf1bV0.js";import{m as z}from"./messageService-Uk0RKWA-.js";import{P as D}from"./PincodeAutocomplete-WNE9b_1P.js";import{P as _}from"./PasswordChangeDialog-BHjRVgp2.js";import{S as O}from"./switch-DabW_g-h.js";import{S as $}from"./separator-ppO9nLCy.js";import{G}from"./globe-EqixUYDc.js";import{T as J}from"./trending-up-BpoKmfKs.js";import{C as H}from"./circle-alert-Ciw086Sl.js";import{u as W}from"./uploadService-CgQM9V6q.js";import{u as Y}from"./use-mobile-WsBtvUz6.js";import{S as K}from"./square-pen-CwPfixkh.js";import{C as Q}from"./camera-C8A2fCF8.js";import{C as X}from"./calendar-CC4c2MNn.js";import{K as Z}from"./key-Bo9_iKrI.js";import{S as ee}from"./shield-TyKi0w-x.js";import"./vendor-eVk5PToZ.js";import"./reviewsService-BjiyFrCd.js";import"./alert-CG1_Rq7d.js";import"./input-otp-2iy1Rqq9.js";import"./eye-off-CBqGfRUW.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=t("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ie=({preferences:i,businessPreferences:t,onChange:f,onBusinessChange:x,onTestPushNotification:u,onTestEmail:h,showTestButtons:j=!1,supportEmail:g="support@buildhomemartsquares.com"})=>{const v=[{key:"email",icon:c,color:"text-blue-500",title:"Email Notifications",description:"Receive updates and alerts via email",isCore:!0},{key:"push",icon:l,color:"text-purple-500",title:"Push Notifications",description:"Browser notifications for instant updates",isCore:!0},{key:"newMessages",icon:d,color:"text-indigo-500",title:"New Message Alerts",description:"Get notified when you receive new messages from customers",requiresEmail:!0},{key:"newsUpdates",icon:G,color:"text-teal-500",title:"News & Updates",description:"Real estate market news and platform updates",requiresEmail:!0},{key:"marketing",icon:J,color:"text-green-500",title:"Marketing Communications",description:"Platform announcements and promotional content",requiresEmail:!0}],N=[{key:"emailNotifications",icon:c,color:"text-blue-600",title:"Business Email Notifications",description:"General business communications and updates",isCore:!0},{key:"weeklyReports",icon:J,color:"text-purple-600",title:"Weekly Reports",description:"Weekly performance reports and analytics",requiresBusiness:!0},{key:"marketingEmails",icon:J,color:"text-pink-600",title:"Marketing Emails",description:"Business growth tips and marketing opportunities",requiresBusiness:!0}],y=e=>e.requiresEmail&&!i.email,b=e=>e.requiresBusiness&&!t.emailNotifications;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5"}),"General Notification Preferences"]})}),e.jsx(o,{className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:v.map((t,a)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{className:`w-5 h-5 ${t.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:t.title}),t.isCore&&e.jsx(p,{variant:"outline",className:"text-xs",children:"Core"}),y(t)&&e.jsx(p,{variant:"secondary",className:"text-xs",children:"Requires Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),y(t)&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(H,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:"Enable email notifications first"})]})]})]}),e.jsx(O,{checked:i[t.key],onCheckedChange:e=>f(t.key,e),disabled:y(t)})]}),a<v.length-1&&e.jsx($,{})]},t.key))})})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5"}),"Business Notification Preferences"]})}),e.jsx(o,{className:"space-y-6",children:e.jsx("div",{className:"space-y-4",children:N.map((i,a)=>e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i.icon,{className:`w-5 h-5 ${i.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:i.title}),i.isCore&&e.jsx(p,{variant:"outline",className:"text-xs",children:"Core"}),b(i)&&e.jsx(p,{variant:"secondary",className:"text-xs",children:"Requires Business Email"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),b(i)&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(H,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:"Enable business email notifications first"})]})]})]}),e.jsx(O,{checked:t[i.key],onCheckedChange:e=>x(i.key,e),disabled:b(i)})]}),a<N.length-1&&e.jsx($,{})]},i.key))})})]})]})},te=()=>{const t=Y(),[l,d]=i.useState(!1),[O,$]=i.useState(!0),[G,H]=i.useState(!1),[te,ae]=i.useState(null),[re,ne]=i.useState(null),[le,oe]=i.useState("profile"),[ce,de]=i.useState(null),[pe,me]=i.useState(!1),fe=s.useRef(null),[xe,ue]=i.useState(null),[he,je]=i.useState(!0),[ge,ve]=i.useState([]),[Ne,ye]=i.useState([]),[be,we]=i.useState([]),[Ce,ke]=i.useState({states:!1,districts:!1,cities:!1}),[Se,Ie]=i.useState({notifications:{email:!0,push:!0,newMessages:!0,newsUpdates:!0,marketing:!1},business:{emailNotifications:!0,smsNotifications:!1,leadAlerts:!0,marketingEmails:!1,weeklyReports:!0,autoResponseEnabled:!1,autoResponseMessage:"Thank you for your interest! I'll get back to you soon."}}),[Pe,Ee]=i.useState(!1),Re=i.useCallback(async(e,s,i)=>{Ie(t=>({...t,[e]:{...t[e],[s]:i}}))},[]);i.useEffect(()=>{(async()=>{try{ke(e=>({...e,states:!0})),await f.initialize();const e=f.getStates();ve(e),await Promise.all([Me(),Te(),Ue()])}catch(e){}finally{ke(e=>({...e,states:!1}))}})()},[]),i.useEffect(()=>{if(!re?.profile?.address?.state)return void ye([]);const e=f.getDistricts(re.profile.address.state);ye(e)},[re?.profile?.address?.state]),i.useEffect(()=>{if(!re?.profile?.address?.state||!re?.profile?.address?.district)return void we([]);const e=f.getCities(re.profile.address.state,re.profile.address.district);we(e)},[re?.profile?.address?.state,re?.profile?.address?.district]),i.useEffect(()=>{if(O)return;const e=setTimeout(()=>{Ae()},1500);return()=>clearTimeout(e)},[Se,O]);const Me=async()=>{try{$(!0);const e=await q.getVendorProfile(),s={...e,profile:{...e.profile,preferences:{language:e.profile.preferences?.language||"en",notifications:{email:e.profile.preferences?.notifications?.email??!0,push:e.profile.preferences?.notifications?.push??!0,newMessages:e.profile.preferences?.notifications?.newMessages??!0,newsUpdates:e.profile.preferences?.notifications?.newsUpdates??!0,marketing:e.profile.preferences?.notifications?.marketing??!0},privacy:{showEmail:e.profile.preferences?.privacy?.showEmail??!1,showPhone:e.profile.preferences?.privacy?.showPhone??!1,allowMessages:e.profile.preferences?.privacy?.allowMessages??!0}}}};ae(s),ne(s),localStorage.setItem("user",JSON.stringify(s))}catch(e){x({title:"Error",description:"Failed to load vendor profile. Please try again.",variant:"destructive"})}finally{$(!1)}},Ue=async()=>{try{je(!0);const e=await fetch("http://localhost:3001/api/vendors/subscription/current",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const s=await e.json();s.success&&s.data&&ue(s.data)}}catch(e){}finally{je(!1)}},Te=async()=>{try{const s=localStorage.getItem("vendorSettings");if(s){const e=JSON.parse(s);Ie(s=>({...s,...e}))}try{const e=await q.getVendorProfile();if(e&&e.profile.vendorInfo?.vendorPreferences){const s=e.profile.vendorInfo.vendorPreferences,i={notifications:{email:e.profile?.preferences?.notifications?.email||Se.notifications.email,push:e.profile?.preferences?.notifications?.push||Se.notifications.push,newMessages:e.profile?.preferences?.notifications?.newMessages||Se.notifications.newMessages,newsUpdates:e.profile?.preferences?.notifications?.newsUpdates||Se.notifications.newsUpdates,marketing:e.profile?.preferences?.notifications?.marketing||Se.notifications.marketing},business:{emailNotifications:s.emailNotifications||Se.business.emailNotifications,smsNotifications:s.smsNotifications||Se.business.smsNotifications,leadAlerts:s.leadAlerts||Se.business.leadAlerts,marketingEmails:s.marketingEmails||Se.business.marketingEmails,weeklyReports:s.weeklyReports||Se.business.weeklyReports,autoResponseEnabled:s.autoResponseEnabled||Se.business.autoResponseEnabled,autoResponseMessage:s.autoResponseMessage||Se.business.autoResponseMessage}};Ie(i),localStorage.setItem("vendorSettings",JSON.stringify(i))}}catch(e){}}catch(s){x({title:"Settings Loaded",description:"Using saved settings.",variant:"default"})}},Ae=async()=>{try{H(!0);const s=Fe(Se);s.isValid||x({title:"Validation Warning",description:s.message,variant:"default"});try{const e={profile:{preferences:{notifications:{email:Se.notifications.email,push:Se.notifications.push,newMessages:Se.notifications.newMessages,newsUpdates:Se.notifications.newsUpdates,marketing:Se.notifications.marketing}},vendorInfo:{vendorPreferences:{emailNotifications:Se.business.emailNotifications,smsNotifications:Se.business.smsNotifications,leadAlerts:Se.business.leadAlerts,marketingEmails:Se.business.marketingEmails,weeklyReports:Se.business.weeklyReports,autoResponseEnabled:Se.business.autoResponseEnabled,autoResponseMessage:Se.business.autoResponseMessage}}}};await q.updateVendorProfile(e),localStorage.setItem("vendorSettings",JSON.stringify(Se)),de((new Date).toISOString()),x({title:"Settings Saved",description:"Your preferences have been updated"})}catch(e){localStorage.setItem("vendorSettings",JSON.stringify(Se)),x({title:"Settings Saved",description:"Your preferences have been saved",variant:"default"})}}catch(s){x({title:"Save Failed",description:s.message||"Unable to save vendor settings.",variant:"destructive"})}finally{H(!1)}},Fe=e=>!e.business.emailNotifications||e.business.leadAlerts||e.notifications.newMessages?e.business.autoResponseEnabled&&!e.business.autoResponseMessage.trim()?{isValid:!1,message:"Auto-response enabled but no message set. Please provide a response message."}:{isValid:!0,message:""}:{isValid:!1,message:"Business email enabled but no notification types selected. Consider enabling lead alerts or new message notifications."},Be=async e=>{try{"inquiry"!==e.type&&"lead"!==e.type&&"property_inquiry"!==e.type||z.isAutoResponse(e)||await(async(e,s)=>{try{if(!Se.business.autoResponseEnabled||!Se.business.autoResponseMessage.trim())return;await z.sendAutoResponse(e,s,Se.business.autoResponseMessage)}catch(i){}})(e.conversationId,e.sender._id)}catch(s){}};s.useEffect(()=>(Se.business.autoResponseEnabled?window.vendorAutoResponseHandler=Be:delete window.vendorAutoResponseHandler,()=>{delete window.vendorAutoResponseHandler}),[Se.business.autoResponseEnabled,Se.business.autoResponseMessage]);const Ve=i.useCallback((e,s)=>{ne(i=>{if(!i)return i;const t=e.split("."),a={...i};let r=a;for(let e=0;e<t.length-1;e++)r[t[e]]||(r[t[e]]={}),r[t[e]]={...r[t[e]]},r=r[t[e]];return r[t[t.length-1]]=s,a})},[]);if(O)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Loading vendor profile..."})]})});if(!te||!re)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-destructive mb-4",children:"Failed to load vendor profile"}),e.jsx(h,{onClick:Me,children:"Retry"})]})});re.profile.firstName,re.profile.lastName;const Le=re.profile.vendorInfo?.memberSince?new Date(re.profile.vendorInfo.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex "+(t?"flex-col space-y-4":"justify-between items-center"),children:[e.jsxs("div",{children:[e.jsxs("h1",{className:(t?"text-2xl":"text-3xl")+" font-bold tracking-tight flex items-center gap-2",children:[e.jsx(j,{className:"w-8 h-8 text-primary"}),"My Profile"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your profile information and preferences."})]}),e.jsx("div",{className:"flex gap-2 "+(t?"w-full":""),children:l?e.jsxs(e.Fragment,{children:[e.jsxs(h,{variant:"outline",onClick:()=>{ne(te),d(!1)},disabled:G,className:t?"flex-1":"",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(h,{onClick:async()=>{if(re){(()=>{const e=re?.profile?.address;if(!e)return!0;if(e.zipCode&&e.state&&e.district&&e.city&&!f.getLocationByPincode(e.zipCode).some(s=>s.state.toUpperCase()===e.state?.toUpperCase()&&s.district.toUpperCase()===e.district?.toUpperCase()&&s.city.toUpperCase()===e.city?.toUpperCase()))return!1;return!0})()||x({title:"Location Validation",description:"Please verify that your PIN code matches the selected location",variant:"default"});try{H(!0);const e={profile:{firstName:re.profile.firstName,lastName:re.profile.lastName,phone:re.profile.phone,bio:re.profile.bio,preferences:{language:re.profile.preferences?.language||"en",notifications:{email:re.profile.preferences?.notifications?.email??!0,push:re.profile.preferences?.notifications?.push??!0,newMessages:re.profile.preferences?.notifications?.newMessages??!0,newsUpdates:re.profile.preferences?.notifications?.newsUpdates??!0,marketing:re.profile.preferences?.notifications?.marketing??!0},privacy:{showEmail:re.profile.preferences?.privacy?.showEmail??!1,showPhone:re.profile.preferences?.privacy?.showPhone??!1,allowMessages:re.profile.preferences?.privacy?.allowMessages??!0}},address:{...re.profile.address,street:re.profile.address?.street||"",state:re.profile.address?.state||"",district:re.profile.address?.district||"",city:re.profile.address?.city||"",zipCode:re.profile.address?.zipCode||"",country:re.profile.address?.country||"India"},vendorInfo:re.profile.vendorInfo}},s=await q.updateVendorProfile(e);ae(s),ne(s),d(!1),x({title:"Success",description:"Profile updated successfully!"})}catch(e){}finally{H(!1)}}},disabled:G,className:t?"flex-1":"",children:[G?e.jsx(u,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(v,{className:"w-4 h-4 mr-2"}),"Save Profile"]})]}):e.jsxs(h,{onClick:()=>d(!0),className:t?"w-full":"",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]}),e.jsx(a,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-start "+(t?"flex-col space-y-4":"space-x-6"),children:[e.jsxs("div",{className:"relative",children:[e.jsxs(N,{className:`${t?"h-20 w-20":"h-24 w-24"} ${t?"mx-auto":""}`,children:[e.jsx(y,{src:re.profile.avatar||void 0}),e.jsxs(b,{className:""+(t?"text-base":"text-lg"),children:[re.profile.firstName.charAt(0),re.profile.lastName.charAt(0)]})]}),e.jsx("input",{ref:fe,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;const i=W.validateImageFile(s);if(i.valid)try{me(!0);const e=await W.compressImage(s),i=await W.uploadAvatar(e);if(re){const e=await q.updateVendorProfile({profile:{avatar:i}});ae(e),ne(e),x({title:"Success",description:"Profile picture updated successfully!"})}}catch(t){x({title:"Upload Failed",description:"Failed to upload profile picture. Please try again.",variant:"destructive"})}finally{me(!1),fe.current&&(fe.current.value="")}else x({title:"Invalid File",description:i.error,variant:"destructive"})},className:"hidden"}),e.jsx(h,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0 "+(t?"right-1/2 translate-x-1/2":""),onClick:()=>fe.current?.click(),disabled:pe,children:pe?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx(Q,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:`grid grid-cols-1 ${t?"":"md:grid-cols-2"} gap-4`,children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"firstName",children:"First Name"}),l?e.jsx(C,{id:"firstName",value:re.profile.firstName,onChange:e=>Ve("profile.firstName",e.target.value)}):e.jsx("p",{className:(t?"text-base":"text-lg")+" font-semibold",children:re.profile.firstName})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"lastName",children:"Last Name"}),l?e.jsx(C,{id:"lastName",value:re.profile.lastName,onChange:e=>Ve("profile.lastName",e.target.value)}):e.jsx("p",{className:(t?"text-base":"text-lg")+" font-semibold",children:re.profile.lastName})]})]}),e.jsxs("div",{className:`flex items-center ${t?"flex-col space-y-2":"space-x-4"} text-sm text-muted-foreground`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),re.email]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),l?e.jsx(C,{value:re.profile.phone,onChange:e=>Ve("profile.phone",e.target.value),className:"h-6 text-sm w-32"}):re.profile.phone]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"w-4 h-4 mr-1"}),"Member since ",Le]})]}),e.jsxs("div",{className:"flex items-center "+(t?"flex-col space-y-2":"space-x-4"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-4 h-4 text-yellow-400 mr-1"}),e.jsx("span",{className:"font-medium",children:(re.profile.vendorInfo?.rating?.average||0).toFixed(1)}),e.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",re.profile.vendorInfo?.rating?.count||0," reviews)"]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-sm",children:[re.profile.vendorInfo?.responseTime||"Not calculated"," avg response"]})})]}),!he&&xe?.plan?.benefits&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[xe.plan.benefits.topRated&&e.jsxs(p,{className:"bg-yellow-500 hover:bg-yellow-600",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Top Rated"]}),xe.plan.benefits.verifiedBadge&&e.jsxs(p,{className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"Verified Owner"]}),xe.plan.benefits.marketingManager&&e.jsxs(p,{className:"bg-purple-500 hover:bg-purple-600",children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),"Marketing Manager"]}),xe.plan.benefits.commissionBased&&e.jsxs(p,{className:"bg-green-500 hover:bg-green-600",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Commission Based"]})]})]})]})})}),e.jsxs(P,{value:le,onValueChange:oe,className:"space-y-6",children:[e.jsxs(E,{className:""+(t?"flex flex-col h-auto gap-2":"grid w-full grid-cols-3"),children:[e.jsx(R,{value:"profile",className:t?"w-full justify-start":"",children:"Personal Info"}),e.jsx(R,{value:"company",className:t?"w-full justify-start":"",children:"Company Details"}),e.jsx(R,{value:"notifications",className:t?"w-full justify-start":"",children:"Settings"})]}),e.jsx(M,{value:"profile",className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"Personal Information"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"bio",children:"Bio"}),l?e.jsx(U,{id:"bio",value:re.profile.bio||"",onChange:e=>Ve("profile.bio",e.target.value),placeholder:"Tell us about yourself and your experience...",rows:4}):e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:re.profile.bio||"No bio provided"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"street",children:"Street Address"}),l?e.jsx(C,{id:"street",value:re.profile.address?.street||"",onChange:e=>Ve("profile.address.street",e.target.value),placeholder:"Enter street address..."}):e.jsx("p",{className:"text-sm",children:re.profile.address?.street||"Not provided"})]}),l?e.jsxs("div",{children:[e.jsx(w,{className:"text-sm font-medium",children:"Location Details"}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"state",children:"State"}),e.jsxs(T,{value:re.profile.address?.state||"",onValueChange:e=>{Ve("profile.address.state",e),Ve("profile.address.district",""),Ve("profile.address.city",""),Ve("profile.address.zipCode","")},disabled:Ce.states,children:[e.jsx(A,{children:e.jsx(F,{placeholder:Ce.states?"Loading states...":"Select state"})}),e.jsx(B,{children:ge.map(s=>e.jsx(V,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"district",children:"District"}),e.jsxs(T,{value:re.profile.address?.district||"",onValueChange:e=>{Ve("profile.address.district",e),Ve("profile.address.city",""),Ve("profile.address.zipCode","")},disabled:!re.profile.address?.state||Ce.districts,children:[e.jsx(A,{children:e.jsx(F,{placeholder:re.profile.address?.state?Ce.districts?"Loading districts...":"Select district":"Select state first"})}),e.jsx(B,{children:Ne.map(s=>e.jsx(V,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"city",children:"City"}),e.jsxs(T,{value:re.profile.address?.city||"",onValueChange:e=>{Ve("profile.address.city",e),Ve("profile.address.zipCode","")},disabled:!re.profile.address?.district||Ce.cities,children:[e.jsx(A,{children:e.jsx(F,{placeholder:re.profile.address?.district?Ce.cities?"Loading cities...":"Select city":"Select district first"})}),e.jsx(B,{children:be.map(s=>e.jsx(V,{value:s,children:s},s))})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{children:"State"}),e.jsx("p",{className:"text-sm",children:re.profile.address?.state||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{children:"District"}),e.jsx("p",{className:"text-sm",children:re.profile.address?.district||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{children:"City"}),e.jsx("p",{className:"text-sm",children:re.profile.address?.city||"Not provided"})]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"zipCode",children:"PIN Code"}),l?e.jsx(D,{value:re.profile.address?.zipCode||"",onChange:(e,s)=>{if(Ve("profile.address.zipCode",e),s&&s.state){const e=s.state.toUpperCase();ge.includes(e)&&(Ve("profile.address.state",e),Ve("profile.address.stateCode",e),setTimeout(()=>{const i=f.getDistricts(e);if(ye(i),s.district){const t=i.find(e=>e.toUpperCase()===s.district.toUpperCase());t&&(Ve("profile.address.district",t),Ve("profile.address.districtCode",t),setTimeout(()=>{const i=f.getCities(e,t);if(we(i),s.city){const e=i.find(e=>e.toUpperCase()===s.city.toUpperCase());e&&(Ve("profile.address.city",e),Ve("profile.address.cityCode",e))}},100))}},100))}},state:re.profile.address?.state,district:re.profile.address?.district,city:re.profile.address?.city,placeholder:re.profile.address?.city?`Enter PIN code for ${re.profile.address.city}...`:"Enter PIN code to auto-fill location...",className:"w-full"}):e.jsx("p",{className:"text-sm",children:re.profile.address?.zipCode||"Not provided"}),l&&e.jsxs("div",{className:"space-y-1 mt-1",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"ðŸ’¡ Select your location first or enter PIN code to auto-fill location details"}),re.profile.address?.zipCode&&re.profile.address?.city&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(I,{className:"w-3 h-3"}),"Location validated with PIN code"]})]})]})]})]})]})}),e.jsx(M,{value:"company",className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Company Information"]})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"companyName",children:"Company Name"}),l?e.jsx(C,{id:"companyName",value:re.profile.vendorInfo?.companyName||"",onChange:e=>Ve("profile.vendorInfo.companyName",e.target.value)}):e.jsx("p",{className:"text-sm",children:re.profile.vendorInfo?.companyName||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"businessType",children:"Business Type"}),l?e.jsxs(T,{value:re.profile.vendorInfo?.businessType||"",onValueChange:e=>Ve("profile.vendorInfo.businessType",e),children:[e.jsx(A,{children:e.jsx(F,{placeholder:"Select business type"})}),e.jsxs(B,{children:[e.jsx(V,{value:"real_estate_agent",children:"Real Estate Agent"}),e.jsx(V,{value:"property_developer",children:"Property Developer"}),e.jsx(V,{value:"construction_company",children:"Construction Company"}),e.jsx(V,{value:"interior_designer",children:"Interior Designer"}),e.jsx(V,{value:"legal_services",children:"Legal Services"}),e.jsx(V,{value:"home_loan_provider",children:"Home Loan Provider"}),e.jsx(V,{value:"packers_movers",children:"Packers & Movers"}),e.jsx(V,{value:"property_management",children:"Property Management"}),e.jsx(V,{value:"other",children:"Other"})]})]}):e.jsx("p",{className:"text-sm",children:re.profile.vendorInfo?.businessType?re.profile.vendorInfo.businessType.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"experience",children:"Experience (Years)"}),l?e.jsx(C,{id:"experience",type:"number",value:re.profile.vendorInfo?.experience||0,onChange:e=>Ve("profile.vendorInfo.experience",parseInt(e.target.value)||0)}):e.jsxs("p",{className:"text-sm",children:[re.profile.vendorInfo?.experience||0," years"]})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"website",children:"Website"}),l?e.jsx(C,{id:"website",value:re.profile.vendorInfo?.website||"",onChange:e=>Ve("profile.vendorInfo.website",e.target.value)}):e.jsx("p",{className:"text-sm",children:re.profile.vendorInfo?.website||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"licenseNumber",children:"License Number"}),l?e.jsx(C,{id:"licenseNumber",value:re.profile.vendorInfo?.licenseNumber||"",onChange:e=>Ve("profile.vendorInfo.licenseNumber",e.target.value)}):e.jsx("p",{className:"text-sm",children:re.profile.vendorInfo?.licenseNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"gstNumber",children:"GST Number"}),l?e.jsx(C,{id:"gstNumber",value:re.profile.vendorInfo?.gstNumber||"",onChange:e=>Ve("profile.vendorInfo.gstNumber",e.target.value)}):e.jsx("p",{className:"text-sm",children:re.profile.vendorInfo?.gstNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"panNumber",children:"PAN Number"}),l?e.jsx(C,{id:"panNumber",value:re.profile.vendorInfo?.panNumber||"",onChange:e=>Ve("profile.vendorInfo.panNumber",e.target.value)}):e.jsx("p",{className:"text-sm",children:re.profile.vendorInfo?.panNumber||"Not provided"})]})]})})]})}),e.jsxs(M,{value:"notifications",className:"space-y-6",children:[e.jsx(ie,{preferences:Se.notifications,businessPreferences:{emailNotifications:Se.business.emailNotifications,smsNotifications:Se.business.smsNotifications,leadAlerts:Se.business.leadAlerts,marketingEmails:Se.business.marketingEmails,weeklyReports:Se.business.weeklyReports},onChange:(e,s)=>Re("notifications",e,s),onBusinessChange:(e,s)=>Re("business",e,s),showTestButtons:!0,onTestPushNotification:()=>{x({title:"Test Push Notification",description:"Push notification test sent successfully!"})},onTestEmail:()=>{x({title:"Test Email",description:"Test email sent successfully!"})}}),e.jsxs(a,{className:"mb-6",children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5"}),"Security Settings"]})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Change Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your account password with secure OTP verification"})]}),e.jsxs(h,{variant:"outline",onClick:()=>Ee(!0),className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"Change Password"]})]})})]}),e.jsx(_,{open:Pe,onOpenChange:Ee})]})]}),te.statistics&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(J,{className:"w-5 h-5 mr-2"}),"Performance Statistics"]})}),e.jsx(o,{children:e.jsxs("div",{className:`grid ${t?"grid-cols-2":"grid-cols-2 md:grid-cols-4"} gap-4`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-blue-600",children:te.statistics.totalProperties}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Properties Listed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-green-600",children:te.statistics.totalValue||"???0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-purple-600",children:(re.profile.vendorInfo?.rating?.average||0).toFixed(1)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:(t?"text-xl":"text-2xl")+" font-bold text-orange-600",children:te.statistics.totalMessages}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Messages"})]})]})})]})]})};export{te as default};
